import{Q as S,a as K}from"./QSelect.5c8daf8f.js";import{c as G,a8 as Z,a9 as J,K as R,h as Q,e as H,g as W,_ as X,al as ee,r as c,N as f,k as p,l as F,w as i,m as o,q as t,an as l,F as w,B as h,aw as g,ax as N,ay as B,Q as z,x as y,ab as I,y as j,z as A,C as b,ao as C,A as q,az as P,aA as te,aB as O,aC as oe,aD as T,aE as Y,D as ae,E as se}from"./index.ce421a4b.js";import{Q as $}from"./QImg.7666c6be.js";import{Q as L}from"./QBadge.1318f1ba.js";import{Q as D,C as V}from"./ClosePopup.aa3415d0.js";import{Q as E,a as U}from"./QItem.3371e9ec.js";import{Q as le}from"./format.719d0233.js";import{Q as ie}from"./QPage.d8863638.js";import{a as _}from"./axios.7331a07d.js";import{h as M}from"./moment.40bc58bf.js";var ne=G({name:"QBanner",props:{...Z,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:s}){const{proxy:{$q:n}}=W(),u=J(e,n),r=R(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),k=R(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const a=[Q("div",{class:"q-banner__avatar col-auto row items-center self-start"},H(s.avatar)),Q("div",{class:"q-banner__content col text-body2"},H(s.default))],m=H(s.action);return m!==void 0&&a.push(Q("div",{class:k.value},m)),Q("div",{class:r.value+(e.inlineActions===!1&&m!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}}),de=G({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:s}){const n=R(()=>{const u=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${u.length!==0?" "+u:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>Q("div",{class:n.value},H(s.default))}});const v="https://bckpos.factura-smart.com/",re=ee({name:"IndexPage",setup(){return{slide:c(2),prefijo:c("Bs."),prefijo2:c("$"),mostrartotal:c("1"),formadepago:c("1"),formadepagocredito:c("1"),pagocreditoparcial:c("0"),plazopagocredito:c("1"),tipomoneda:c("1"),buscadoproducto:c(!0),btnDisableAnular:c(!0),numerointernoanular:c(""),modalanular:c(!1),empresa:c(""),direccion:c(""),rif:c(""),telefono:c(""),email:c(""),igtf:c(0),numerointerno:c(""),comentario:c(""),idventa:c(""),textitem:c(""),subtotal:c(0),impuesto:c(0),descuento:c(0),total:c(0),subtotalusd:c(0),impuestousd:c(0),descuentousd:c(0),totalusd:c(0),nombrecliente:c(""),correocliente:c(""),telefonocliente:c(""),direccioncliente:c(""),idclienteventa:c(""),nombreclienteventa:c(""),documentoabrev:c(""),documentoclientesolo:c(""),documentoclienteventa:c(""),fechahoy:c(M().format("DD/MM/YYYY")),fechaholds:c(""),idhold:c(""),iditemhold:c(""),iditemholdUpd:c(""),buscaritem:c(!1),modalrealizarventa:c(!1),noencontrado:c(!1),clientebuscado:c(!1),facturabuscado:c(!1),encontrado:c(!1),modalcliente:c(!1),modalcomentario:c(!1),dsbBtnCrearCliente:c(!0),modeldocumento:c(null),modaldeleteholds:c(!1),modaldetalleinvoice:c(!1),modalformasdepago:c(!1),optionsdocumento:[],rowsproductos:[],rowsproductosfiltre:[],holds:[],ventas:[],ventasanular:[],detalleventa:{},detalleventaanular:{},tasausd:c(0),idusuario:c(sessionStorage.getItem("id_usuario"))}},methods:{imprimir(){window.frames.print_frame.document.body.innerHTML=document.getElementById("areaImprimir").innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print(),this.modaldetalleinvoice=!1},fechaDetalle(e){return M(e).format("DD/MM/YYYY HH:mm:ss")},escribirComentario(e){let s="<p><ul>";return e.split("//").forEach(u=>{s=s+u+"</br>"}),s+"</ul></p>"},abrirComentario(e){this.comentario=e.comentario,this.iditemholdUpd=e.iditemhold,this.modalcomentario=!0},abrirFormasDePago(e){this.formadepago="1",this.formadepagocredito="1",this.plazopagocredito="1",this.modalformasdepago=!0},abrirBuscarFactura(){this.detalleventaanular={},this.numerointernoanular="",this.idUpd="",this.facturabuscado=!1,this.btnDisableAnular=!0,this.modalanular=!0},async updprecioitemholds(e){const s={iditemhold:e.iditemhold,total:e.total,precio:e.precio};e.precio>0&&await _.post(v+"ventas/updprecioitemholds",s).then(async n=>{console.log(n)})},async updComentarioItemHolds(){const e={iditemhold:this.iditemholdUpd,comentario:this.comentario};await _.post(v+"ventas/updcomentarioitemholds",e).then(async s=>{console.log(s),this.modalcomentario=!1,this.comentario="",this.listarHolds(),f.create({message:"Comentario de Item ACTUALIZADO con \xE9xito",type:"positive"})})},async anularDocumento(){const e=this,s={idventa:this.idUpd,idempresa:sessionStorage.getItem("co_empresa")};await _.post(v+"ventas/anularventa",s).then(async n=>{console.log(n),this.modalanular=!1,this.$q.dialog({title:"Documento ANULADO!",message:"Desea creale una NOTA DE CR\xC9DITO?",ok:{label:"S\xED",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{console.log("Response: ",n),console.log("this.idUpd: ",e.idUpd),_.post(v+"ventas/setnotacredito",s).then(async u=>{const r=u.data;console.log(r.success),r.success?(e.idventa=r.resp.idventanew,e.abrirDetalleInvoive(),f.create({message:"NOTA DE CR\xC9DITO creada con \xE9xito",type:"positive"})):f.create({message:r.resp.message,type:"negative"})}).catch(u=>{f.create({message:"Problemas al REALIZAR venta "+u,type:"negative"})})}).onCancel(()=>{f.create({message:"NO CRE\xD3 NOTA DE CR\xC9DITO",type:"info"})})})},async buscarFactura(){this.detalleventaanular={},this.ventasanular=[],this.facturabuscado=!1,this.idtipofacturaanular=1,await _.get(v+"ventas/getventanumerointerno/"+sessionStorage.getItem("co_empresa")+"/"+this.idtipofacturaanular+"/"+this.numerointernoanular).then(async e=>{console.log(this.numerointernoanular),console.log(e),e.status===200?(this.detalleventaanular=e.data.resp,this.idUpd=this.detalleventaanular.id,this.ventasanular=e.data.respdetalles,this.facturabuscado=!0,this.btnDisableAnular=this.detalleventaanular.estatus==="2"||!1):(f.create({message:"Documento NO ENCONTRADO",type:"info"}),this.facturabuscado=!1,this.btnDisableAnular=!0,this.idUpd="")})},async abrirDetalleInvoive(){const e=this;this.detalleventa={},await _.get(v+"ventas/getventa/"+this.idventa).then(async s=>{this.detalleventa=s.data.resp,await _.get(v+"ventas/getitemsventas/"+this.idventa).then(async n=>{e.ventas=[],console.log(n);const u=n.data.resp;for(const r in u){const k=u[r];e.ventas.push(k)}e.deleteHolds(2),e.modaldetalleinvoice=!0}).catch(n=>{f.create({message:"Problemas al listar items Ventas "+n,type:"negative"})}),console.log(this.detalleventa)})},async actualizarCantidad(e,s){const n=document.getElementById("cantidad"+e.idproducto);s===1?(n.value=Number(n.value)+1,this.subtotal=Number(this.subtotal)+e.precio,this.impuesto=Number(this.impuesto)+e.precio*e.tasa/100,this.total=Number(this.total)+(Number(e.precio)+e.precio*e.tasa/100)):(n.value>1&&(this.subtotal=Number(this.subtotal)-e.precio,this.impuesto=Number(this.impuesto)-e.precio*e.tasa/100,this.total=Number(this.total)-(Number(e.precio)+e.precio*e.tasa/100)),n.value=n.value<=1?1:Number(n.value)-1),e.total=(Number(e.precio)+e.precio*e.tasa/100)*n.value,this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,await this.updItemHolds(e.iditemhold,n.value,n.value*(Number(e.precio)+e.precio*e.tasa/100),e.idproducto,s,e.intipoproducto)?await this.calcularMonto(e):n.value=n.value<=1?1:Number(n.value)-1},calcularMonto(e){const s=document.getElementById("cantidad"+e.idproducto),n=document.getElementById("precioventa"+e.idproducto).value;if(s&&n>0){this.subtotal=0,this.impuesto=0;const u=s.value>0?s.value:1;this.holds.map(r=>(r.iditemhold===e.iditemhold&&(r.monto=(n*r.tasa/100+Number(n))*u,r.total=r.monto,r.precio=Number(n),e.monto=r.monto,r.cantidad=u),this.subtotal=this.subtotal+r.precio*r.cantidad,this.impuesto=this.impuesto+r.precio*r.tasa/100*r.cantidad,this.total=this.impuesto+this.subtotal,this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,r)),document.getElementById("monto"+e.idproducto).innerHTML="Bs."+e.monto.toFixed(2)}},async updItemHolds(e,s,n,u,r,k){const a={idproducto:u,iditemhold:e,cantidad:s,accion:r,total:n,intipoproducto:k},m=await _.post(v+"ventas/upditemholds",a);return console.log(m.status),m.status===202?(this.$q.dialog({title:"Ooops! "+m.data.resp,message:" Contacte al administrador del sistema.",html:!0,ok:{color:"primary",label:"Aceptar"}}),!1):!0},openDeleteHolds(){this.modaldeleteholds=!0},deleteHolds(e){const s={idhold:this.idhold,accion:e};_.post(v+"ventas/deleteholds",s).then(async n=>{this.modaldeleteholds=!1,this.documentoclienteventa="",this.listarHolds()}).catch(n=>{f.create({message:"Problemas al ELIMINAR Hold de venta "+n,type:"negative"})})},deleteItemHolds(e){console.log(e);const s={iditemhold:e.iditemhold,idproducto:e.idproducto,intipoproducto:e.intipoproducto,cantidad:e.cantidad};this.$q.dialog({title:"Eliminar Item",message:"\xBFDesea eliminar este item?",ok:{label:"Aceptar",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{_.post(v+"ventas/deleteitemholds",s).then(async n=>{console.log(n.data.success),this.nombrecliente="",this.listarHolds()}).catch(n=>{f.create({message:"Problemas al ELIMINAR itemhold de venta "+n,type:"negative"})})})},async additemholds(e){console.log(e);const s=this.descuento;let n=!1;const u=this.holds.findIndex(r=>r.idproducto===e.idproducto);if(u===-1){const r=e.precio*e.tasa/100+e.precio,k={idhold:this.idhold,idproducto:e.idproducto,precio:e.precio,cantidad:1,tasa:e.tasa,total:r,idunidad:e.idunidad,intipoproducto:e.intipoproducto,descuento:s};await _.post(v+"ventas/setitemholds",k).then(async a=>{const m=a.data.resp;if(a.data.success){const x={};x.idhold=this.idhold,x.iditemhold=m.iditemhold,x.idproducto=e.idproducto,x.precio=e.precio,x.precioreal=e.precio,x.cantidad=1,x.tasa=e.tasa,x.total=r,x.producto=e.producto,x.categoria=e.categoria,x.descripcion=e.descripcion,x.intipoproducto=e.intipoproducto,x.descuento=s,this.subtotal=(Number(this.subtotal)+x.precio*x.cantidad).toFixed(2),this.impuesto=(Number(this.impuesto)+e.precio*e.tasa/100).toFixed(2),this.total=(Number(this.total)+r).toFixed(2),this.holds.push(x),n=!0}else this.buscaritem=!1,this.slide=2,f.create({message:`<span style="text-transform: uppercase;">${a.data.resp}</span>`})}).catch(a=>{f.create({message:"Problemas al crear itemhold de venta "+a,type:"negative"})})}else{this.holds[u].cantidad=Number(this.holds[u].cantidad)+1;const r=e.precio*e.tasa/100+e.precio;document.getElementById("monto"+e.idproducto).innerHTML="Bs."+(r*this.holds[u].cantidad).toFixed(2),this.subtotal=(Number(this.subtotal)+e.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+e.precio*e.tasa/100).toFixed(2),this.total=(Number(this.total)+r).toFixed(2),n=await this.updItemHolds(this.holds[u].iditemhold,this.holds[u].cantidad,r*this.holds[u].cantidad,e.idproducto,1)}n&&(this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,this.buscaritem=!1,this.slide=2)},listarProductos(){_.get(v+"productos/"+sessionStorage.getItem("co_empresa")+"/"+0).then(async s=>{const n=s.data.resp;this.rowsproductos=[];for(const u in n){const r={};r.idproducto=n[u].id,r.sku=n[u].sku,r.producto=n[u].producto,r.id=n[u].id,r.categoria=n[u].categoria,r.descripcion=n[u].descripcion,r.unidad=n[u].unidad,r.idunidad=n[u].idunidad,r.impuesto=n[u].impuesto,r.precio=this.tipomoneda==="1"?n[u].precio:n[u].preciousd,r.inventario=Number(n[u].inventario1),r.costo=n[u].costo,r.tasa=n[u].tasa,r.intipoproducto=n[u].intipoproducto,this.rowsproductos.push(r)}this.rowsproductosfiltre=this.rowsproductos}).catch(s=>{f.create({message:"Problemas al listar Categor\xEDas"+s,type:"negative"})})},abrirRealizarVenta(){console.log(this.formadepago),console.log(this.formadepagocredito),this.pagocreditoparcial=document.getElementById("idpagoparcial")?document.getElementById("idpagoparcial").value:0,this.diasplazopagocredito=document.getElementById("idplazopagoparcial")?document.getElementById("idplazopagoparcial").value:0,console.log(this.pagocreditoparcial),console.log(this.plazopagocredito),console.log(this.diasplazopagocredito),this.formadepagocredito==="2"&&(Number(this.pagocreditoparcial)>=Number(this.total)||Number(this.pagocreditoparcial)===0)?(f.create({message:"Monto del pago parcial debe ser Mayor que cero (0) y Menor al monto total de la venta",type:"negative"}),console.log("Monto del pago parcial debe ser Mayor que cero (0) y Menor al monto total de la venta")):this.plazopagocredito==="2"&&Number(this.diasplazopagocredito)===0?f.create({message:"Los d\xEDas de plazo deben ser mayor a cero (0)",type:"negative"}):(this.modalrealizarventa=!0,this.modalformasdepago=!1)},realizarVenta(){const e=this,s={idhold:this.idhold,formadepago:this.formadepago,abono:this.pagocreditoparcial,fechavence:this.diasplazopagocredito>0?M().add(this.diasplazopagocredito,"days").format("YYYY-MM-DD"):null,tasausd:this.tasausd,totalusd:this.totalusd,idempresa:sessionStorage.getItem("co_empresa")};console.log(this.diasplazopagocredito),console.log(s),_.post(v+"ventas/setventa",s).then(async n=>{const u=n.data;console.log(u.success),u.success?(e.idventa=u.resp.idventa,e.abrirDetalleInvoive()):f.create({message:u.resp.message,type:"negative"})}).catch(n=>{f.create({message:"Problemas al REALIZAR venta "+n,type:"negative"})}),this.modalrealizarventa=!1},abrirBuscarItem(){this.nombrecliente.length===0?(console.log("Debe buscar cliente"),this.abrirBuscarCliente()):(this.buscaritem=!0,this.textitem="")},abrirBuscarCliente(){this.modalcliente=!0,this.documento="",console.log(this.optionsdocumento[0]),this.modeldocumento=this.optionsdocumento[0],this.limpiarCliente()},limpiarCliente(){this.nombrecliente="",this.telefonocliente="",this.correocliente="",this.direccioncliente="",this.noencontrado=!1,this.encontrado=!1,this.clientebuscado=!1,this.dsbBtnCrearCliente=!0},listarTiposDocumentos(){_.get(v+"tipodocumento").then(async e=>{const s=e.data.data;this.optionsdocumento=[];for(const n in s){const u={};u.cod=s[n].id,u.tipodocumento=s[n].tipodocumento,u.abrev=s[n].abrev,this.optionsdocumento.push(u)}}).catch(e=>{f.create({message:"Problemas al listar Tipos"+e,type:"negative"})})},buscarCliente(){if(this.limpiarCliente(),!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}const e={idtipodocumento:this.modeldocumento.cod,documento:this.documento};_.post(v+"clientes/buscar",e).then(async s=>{const n=s.data.resp;n.length>0?(this.idcliente=n[0].id,this.nombrecliente=n[0].nombre,this.telefonocliente=n[0].telefono,this.correocliente=n[0].correo,this.direccioncliente=n[0].direccion,this.noencontrado=!1,this.encontrado=!0):(this.noencontrado=!0,this.encontrado=!1),this.clientebuscado=!0,this.dsbBtnCrearCliente=!1}).catch(s=>{f.create({message:"Problemas al buscar cliente"+s,type:"negative"})})},crearCliente(){if(!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}if(this.nombrecliente.length===0){f.create({message:"Debe agregar NOMBRE",type:"info"});return}if(this.encontrado)this.modalcliente=!1,this.idclienteventa=this.idcliente,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(this.idcliente,this.idusuario);else{const e={idtipodocumento:this.modeldocumento.cod,documento:this.documento,nombre:this.nombrecliente,telefono:this.telefonocliente,correo:this.correocliente,direccion:this.direccioncliente};_.post(v+"clientes/crear",e).then(async s=>{const n=s.data.resp;n&&(this.modalcliente=!1,this.idclienteventa=n,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(n,this.idusuario))}).catch(s=>{f.create({message:"Problemas al crear cliente"+s,type:"negative"})})}},crearHolds(e,s){const u={idcliente:e,idusuario:s,idtipofactura:1};_.post(v+"ventas/setholds",u).then(async r=>{const k=r.data.resp;k&&(this.idhold=k.idhold,this.fechaholds=M(k.fecha).format("DD/MM/YYYY"))}).catch(r=>{f.create({message:"Problemas al crear hold de venta"+r,type:"negative"})})},async listarHolds(){this.nombrecliente="",await _.get(v+"ventas/gethols/"+sessionStorage.getItem("id_usuario")).then(async e=>{const s=e.data.resp.length>0?e.data.resp[0]:null;console.log(s),this.holds=[],this.slide=1,this.subtotal=0,this.impuesto=0,this.total=0,s&&(this.idcliente=s.idcliente,this.nombrecliente=s.nombre,this.documentoabrev=s.abrev,this.documentoclienteventa=s.abrev+" "+s.documento,this.documentoclientesolo=s.documento,this.idhold=s.idhold,this.fechaholds=M(s.fecha).format("DD/MM/YYYY"),await _.get(v+"ventas/getitemshols/"+this.idhold).then(async n=>{this.holds=n.data.resp;for(const u in this.holds){const r=this.holds[u],k=r.precio*r.cantidad,a=k*r.tasa/100,m=a+k;this.subtotal=(Number(this.subtotal)+k).toFixed(2),this.impuesto=(Number(this.impuesto)+a).toFixed(2),this.total=(Number(this.total)+m).toFixed(2)}this.slide=this.holds.length>0?2:1}).catch(n=>{f.create({message:"Problemas al listar items Holds"+n,type:"negative"})})),this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd}).catch(e=>{f.create({message:"Problemas al listar Holds"+e,type:"negative"})})},primeraletra(e){return e[0]},colorLetra(e){const s=e[0].charCodeAt(0);return"#"+s+"0"},async cargar(){const e=await _.get(v+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(s=>{f.create({message:"Problemas al listar Configuraci\xF3n"+s,type:"negative"})});return console.log(e),e.data.resp}},watch:{textitem(e){console.log("textitem"),console.log(e),this.buscadoproducto=!1,e.length>0?this.rowsproductosfiltre=this.rowsproductos.filter(s=>!!(s.producto.toUpperCase().includes(e.toUpperCase())||s.sku&&s.sku.includes(e))):this.rowsproductosfiltre=this.rowsproductos,this.buscadoproducto=!0,this.rowsproductosfiltre=this.rowsproductosfiltre.slice().reverse(),console.log(this.rowsproductosfiltre)}},async mounted(){const e=await this.cargar();this.tasausd=e.tasabcv,this.empresa=e.empresa,this.rif=e.rif,this.direccion=e.direccion,this.telefono=e.telefono,this.email=e.email,this.tipomoneda=e.tipomoneda,this.prefijo=e.tipomoneda==="1"?"Bs.":"$",this.prefijo2=e.tipomoneda==="1"?"$":"Bs.",this.mostrartotal=e.mostrartotal,console.log("this.tasausd"),console.log(this.tasausd),await this.listarTiposDocumentos(),await this.listarHolds(),await this.listarProductos();const s=this;document.addEventListener("keydown",function(n){console.log(n.key),n.key==="F2"&&(n.preventDefault(),s.abrirBuscarItem()),n.key==="F3"&&(n.preventDefault(),s.abrirBuscarCliente()),n.key==="F4"&&(s.dsbBtnCrearCliente||(n.preventDefault(),s.crearCliente())),n.key==="F6"&&(s.holds.length<=0?f.create({message:"No tiene venta",type:"info"}):(n.preventDefault(),s.abrirRealizarVenta()))})}}),d=e=>(ae("data-v-64c7274a"),e=e(),se(),e),ce={class:"row"},ue={class:"col-12 col-md-4 bd-left bd-top"},pe={class:"row"},he={class:"col-6 col-md-12"},me=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Cliente:",-1)),fe={class:"negrita ellipsis",style:{"margin-bottom":"10px"}},ge={class:"col-6 col-md-12"},ye=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Documento:",-1)),be={class:"negrita ellipsis"},_e={class:"col-5 col-md-4 bd-left bd-top"},ve={class:"row"},we=d(()=>t("div",{class:"col-3 col-md-2 logo-bcv"},[t("img",{src:"logo_bcv.png"})],-1)),Ce={class:"col-9 col-md-10"},ke=d(()=>t("div",{class:"texto-pequeno ellipsis"},"\u{1F5D3}\uFE0F Fecha de venta:",-1)),xe={class:"negrita",style:{"font-size":"12px"}},Ie=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Tasa del d\xEDa (BCV):",-1)),Ve={class:"col-7 col-md-4 bd-left bd-top"},Ne={class:"row"},De=d(()=>t("div",{class:"col-1"},[t("div",{class:"texto-pequeno ellipsis"},"\u{1F4B5} "),t("div",{class:"texto-pequeno ellipsis"},"\u{1F3DB}\uFE0F "),t("div",{class:"texto-pequeno ellipsis"},"\u{1F3F7}\uFE0F ")],-1)),Fe={class:"col"},ze=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Subtotal: ",-1)),qe=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Impuesto: ",-1)),Be=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Descuento: ",-1)),je={class:"col"},Ae={class:"negrita ellipsis"},Pe={class:"negrita ellipsis"},Ue={class:"negrita ellipsis"},Te={class:"q-px-md q-py-sm q-gutter-sm row items-center justify-between"},Ee={class:"col-12 col-md-8 text-center"},Me={unelevated:"",class:"row"},Qe={class:"col-12 col-md-3 text-center q-mt-md"},He={class:"row"},Se={key:1,class:"listarcategoriasconitem col"},Oe={class:"row justify-center"},$e={class:"col no-wrap"},Re={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Ye={class:"q-mb-none"},Le={class:"row no-wrap"},Ge={class:"overlay-content",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white",background:"rgba(0, 0, 0, 0.5)"}},Ke={class:"col-8"},Ze=["id","value","onInput"],Je=["id"],We=d(()=>t("span",{style:{"font-size":"12px","margin-right":"10px"}},"Cantidad",-1)),Xe=["id","value","onInput"],et=d(()=>t("div",{class:"text-center"},[t("h6",null,"Agregar Item")],-1)),tt={style:{display:"flex"}},ot={style:{"margin-right":"10px"}},at={class:"tarjeticainside mr-2 texto-pequeno",style:{height:"auto"}},st={class:"row q-mt-sm"},lt={class:"col-4 text-left"},it=d(()=>t("span",{class:"color-texto texto-pequeno"},"SKU: ",-1)),nt={class:"col-4 text-left"},dt=d(()=>t("span",{class:"color-texto texto-pequeno"},"Unidad: ",-1)),rt={class:"col-4 text-left"},ct=d(()=>t("span",{class:"color-texto texto-pequeno"},"Impuesto: ",-1)),ut=d(()=>t("span",{class:"color-texto texto-pequeno"},"Precio: ",-1)),pt=d(()=>t("div",{class:"text-center"},[t("h6",null,"Agregar cliente")],-1)),ht={class:""},mt={class:"row"},ft={key:0,class:"noencontrado text-center"},gt=d(()=>t("p",{class:"text-noencontrado"},"No existe este documento de cliente!",-1)),yt=[gt],bt={key:1,class:"encontrado"},_t=d(()=>t("p",{class:"text-encontrado"},"Cliente encontrado",-1)),vt=[_t],wt=d(()=>t("div",{class:"text-center",style:{padding:"10px"}},[t("h6",null,"Eliminar venta")],-1)),Ct=d(()=>t("div",{class:"text-center"},[t("h6",null,"Realizar venta")],-1)),kt=d(()=>t("div",{class:"text-p color-texto",style:{"margin-left":"10px"}}," \xBFDesea realizar esta venta?",-1)),xt={class:"color-texto",style:{width:"100%"}},It=d(()=>t("td",{style:{width:"35%"}},"Raz\xF3n social:",-1)),Vt={style:{"font-weight":"bold"}},Nt={style:{"font-weight":"bold"}},Dt=d(()=>t("td",null,"Fecha:",-1)),Ft={style:{"font-weight":"bold"}},zt={class:"color-texto",style:{width:"100%"}},qt=d(()=>t("tr",{style:{"font-weight":"bold","font-size":"11px"}},[t("td",{class:"rayafactura rayaarriba"},"Producto"),t("td",{class:"rayafactura rayaarriba"},"Precio"),t("td",{class:"rayafactura rayaarriba"},"Cant"),t("td",{class:"rayafactura rayaarriba"},"Imp"),t("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),Bt={style:{"font-size":"11px"}},jt={style:{width:"130px"}},At={style:{"text-align":"right"}},Pt={style:{"text-align":"center"}},Ut={style:{"text-align":"center"}},Tt={style:{"text-align":"right"}},Et={key:0},Mt={style:{"font-style":"italic","font-size":"10px"}},Qt={key:0},Ht=d(()=>t("td",null,null,-1)),St=d(()=>t("td",null,null,-1)),Ot=d(()=>t("td",null,null,-1)),$t=d(()=>t("td",null,null,-1)),Rt=d(()=>t("tr",null,[t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"})],-1)),Yt={class:"color-texto",style:{width:"100%"}},Lt={class:"letratotalesfactura"},Gt=d(()=>t("td",{style:{width:"45%"}},"Forma de pago",-1)),Kt={class:"rayaizq"},Zt={style:{"text-align":"right"}},Jt={class:"letratotalesfactura"},Wt={class:"rayaizq"},Xt={style:{"text-align":"right"}},eo={class:"letratotalesfactura"},to={class:"rayaizq"},oo={style:{"text-align":"right"}},ao={class:"letratotalesfactura"},so={class:"rayafactura rayaizq"},lo={class:"rayafactura",style:{"text-align":"right"}},io={class:"letratotalesfactura",style:{"font-weight":"bold"}},no=d(()=>t("td",null,null,-1)),ro={style:{"text-align":"right"}},co={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},uo=d(()=>t("td",null,null,-1)),po={style:{"text-align":"right"}},ho={id:"areaImprimir",style:{width:"100%"}},mo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},fo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},go={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},yo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},bo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},_o={style:{display:"flex","align-items":"left",width:"100%"}},vo={class:"numero",style:{"margin-left":"10px"}},wo={class:"numero",style:{"margin-left":"10px"}},Co={style:{display:"flex","align-items":"center","font-size":"11px"}},ko=d(()=>t("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),xo={class:"control",style:{"margin-left":"10px"}},Io={style:{width:"100%"}},Vo={class:"letratotalesfactura",style:{"line-height":"10px"}},No=d(()=>t("td",{style:{width:"40%"}},"Raz\xF3n social:",-1)),Do={style:{"font-weight":"bold"}},Fo={class:"letratotalesfactura",style:{"line-height":"10px"}},zo={style:{"font-weight":"bold"}},qo={class:"letratotalesfactura",style:{"line-height":"10px"}},Bo=d(()=>t("td",null,"Fecha:",-1)),jo={style:{"font-weight":"bold"}},Ao={class:"letratotalesfactura",style:{"line-height":"10px"}},Po=d(()=>t("td",null,"Cajero:",-1)),Uo={style:{"font-weight":"bold"}},To={style:{width:"100%"}},Eo=d(()=>t("tr",{style:{"font-weight":"bold","font-size":"11px"}},[t("td",{class:"rayafactura rayaarriba"},"Producto"),t("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Precio"),t("td",{class:"rayafactura rayaarriba"},"Cant."),t("td",{class:"rayafactura rayaarriba"},"Imp"),t("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),Mo={style:{"font-size":"11px"}},Qo={style:{width:"130px"}},Ho={style:{"text-align":"right"}},So={style:{"text-align":"center"}},Oo={style:{"text-align":"center"}},$o={style:{"text-align":"right"}},Ro={key:0,style:{"line-height":"10px"}},Yo={style:{"font-style":"italic","font-size":"9px"}},Lo={key:0},Go=d(()=>t("td",null,null,-1)),Ko=d(()=>t("td",null,null,-1)),Zo=d(()=>t("td",null,null,-1)),Jo=d(()=>t("td",null,null,-1)),Wo=d(()=>t("tr",null,[t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"})],-1)),Xo={style:{width:"100%"}},ea={class:"letratotalesfactura",style:{"line-height":"10px"}},ta=d(()=>t("td",{style:{width:"40%"}},null,-1)),oa={style:{"text-align":"right"}},aa={class:"letratotalesfactura",style:{"line-height":"10px"}},sa=d(()=>t("td",null,null,-1)),la={style:{"text-align":"right"}},ia={class:"letratotalesfactura",style:{"line-height":"10px"}},na=d(()=>t("td",null,null,-1)),da={style:{"text-align":"right"}},ra={class:"letratotalesfactura",style:{"line-height":"10px"}},ca=d(()=>t("td",null,null,-1)),ua={class:"rayafactura"},pa={class:"rayafactura",style:{"text-align":"right"}},ha={class:"letratotalesfactura",style:{"font-weight":"bold"}},ma=d(()=>t("td",null,null,-1)),fa={style:{"text-align":"right"}},ga={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},ya=d(()=>t("td",null,null,-1)),ba={style:{"text-align":"right"}},_a=d(()=>t("iframe",{name:"print_frame",width:"0",height:"0",frameborder:"0",src:"about:blank"},null,-1)),va=d(()=>t("div",{class:"text-center"},[t("h6",null,"Anular documento")],-1)),wa={class:"row"},Ca={style:{display:"flex","align-items":"left",width:"100%"}},ka={class:"numero",style:{"margin-left":"10px"}},xa={class:"numero",style:{"margin-left":"10px"}},Ia={style:{display:"flex","align-items":"center"}},Va=d(()=>t("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),Na={class:"control",style:{"margin-left":"10px"}},Da={style:{width:"100%"}},Fa={class:"letratotalesfactura"},za=d(()=>t("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),qa={style:{"font-weight":"bold"}},Ba={class:"letratotalesfactura"},ja={style:{"font-weight":"bold"}},Aa={class:"letratotalesfactura"},Pa=d(()=>t("td",null,"Fecha:",-1)),Ua={style:{"font-weight":"bold"}},Ta={class:"letratotalesfactura"},Ea=d(()=>t("td",null,"Cajero:",-1)),Ma={style:{"font-weight":"bold"}},Qa={style:{width:"100%"}},Ha=d(()=>t("tr",{style:{"font-weight":"bold","font-size":"11px"}},[t("td",{class:"rayafactura rayaarriba"},"Producto"),t("td",{class:"rayafactura rayaarriba"},"Precio"),t("td",{class:"rayafactura rayaarriba"},"Cant."),t("td",{class:"rayafactura rayaarriba"},"Imp"),t("td",{class:"rayafactura rayaarriba"},"Total")],-1)),Sa={style:{"font-size":"11px"}},Oa={style:{width:"140px","font-style":"italic"}},$a={style:{"text-align":"right"}},Ra={key:0,style:{"line-height":"10px"}},Ya={style:{"font-style":"italic","font-size":"9px"}},La={key:0},Ga=d(()=>t("td",null,null,-1)),Ka=d(()=>t("td",null,null,-1)),Za=d(()=>t("td",null,null,-1)),Ja=d(()=>t("td",null,null,-1)),Wa=d(()=>t("tr",null,[t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"})],-1)),Xa={style:{width:"100%"}},es={class:"letratotalesfactura"},ts=d(()=>t("td",{style:{width:"40%"}},null,-1)),os={style:{"text-align":"right"}},as={class:"letratotalesfactura"},ss=d(()=>t("td",null,null,-1)),ls={style:{"text-align":"right"}},is={class:"letratotalesfactura"},ns=d(()=>t("td",null,null,-1)),ds={style:{"text-align":"right"}},rs={class:"letratotalesfactura"},cs=d(()=>t("td",null,null,-1)),us={class:"rayafactura"},ps={class:"rayafactura",style:{"text-align":"right"}},hs={class:"letratotalesfactura",style:{"font-weight":"bold"}},ms=d(()=>t("td",null,null,-1)),fs={style:{"text-align":"right"}},gs={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},ys=d(()=>t("td",null,null,-1)),bs={style:{"text-align":"right"}},_s=d(()=>t("div",{class:"text-center"},[t("h6",null,"Editar comentario")],-1)),vs=d(()=>t("div",{class:"text-center"},[t("h6",null,"Formas de Pago")],-1)),ws={class:"q-gutter-sm",style:{display:"grid"}},Cs={key:0,style:{display:"grid","margin-left":"17px"}},ks={style:{display:"flex","align-items":"center"}},xs={style:{"margin-right":"10px","margin-left":"5px"}},Is=["disabled","max"],Vs={style:{display:"grid"}},Ns=d(()=>t("span",{style:{"font-size":"12px","margin-left":"10px"}},"Plazo de pago",-1)),Ds={style:{display:"flex","align-items":"center"}},Fs=["disabled"];function zs(e,s,n,u,r,k){return p(),F(ie,null,{default:i(()=>[o(ne,{class:"fondo-gris shadow-up-9"},{default:i(()=>[t("div",ce,[t("div",ue,[t("div",pe,[t("div",he,[me,t("div",fe,l(e.nombrecliente.length>0?e.nombrecliente:"S/INF"),1)]),t("div",ge,[ye,t("div",be,l(e.documentoclienteventa),1)])])]),t("div",_e,[t("div",ve,[we,t("div",Ce,[ke,t("div",xe,l(e.nombrecliente.length>0?e.fechaholds:e.fechahoy),1),Ie,o(S,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:i(()=>[w("\u{1F1FB}\u{1F1EA} Bs."+l(parseFloat(e.tasausd).toFixed(2)),1)]),_:1})])])]),t("div",Ve,[t("div",Ne,[De,t("div",Fe,[ze,qe,Be,o(S,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:i(()=>[w(l(e.prefijo2)+" "+l(e.totalusd.toFixed(2)),1)]),_:1})]),t("div",je,[t("div",Ae,l(e.prefijo)+" "+l(Number(e.subtotal).toFixed(2)),1),t("div",Pe,l(e.prefijo)+" "+l(Number(e.impuesto).toFixed(2)),1),t("div",Ue,l(e.prefijo)+" "+l(Number(e.descuento).toFixed(2)),1),o(S,{dense:"",class:"color-degradado-vnz negrita ellipsis text-degradado color-texto"},{default:i(()=>[w(l(e.prefijo)+" "+l(Number(e.total).toFixed(2)),1)]),_:1})])])])])]),_:1}),t("div",Te,[t("div",Ee,[t("div",Me,[o(h,{class:"col-6 col-md-3","no-caps":"",unelevated:"",color:"accent",icon:"add",onClick:e.abrirBuscarItem,label:"Productos (F2)"},null,8,["onClick"]),o(h,{class:"col-6 col-md-3",outline:"","no-caps":"",unelevated:"",color:"accent","icon-right":"person",onClick:e.abrirBuscarCliente,label:"Cliente (F3)"},null,8,["onClick"]),o(h,{outline:"",unelevated:"","no-caps":"",color:"accent",icon:"cancel_presentation",onClick:e.abrirBuscarFactura,label:"Anular documento",class:"boton-banner col-6 col-md-3"},null,8,["onClick"]),o(h,{outline:"",unelevated:"","no-caps":"",color:"accent","icon-right":"settings_backup_restore",onClick:e.abrirBuscarFactura,label:"Devoluciones",class:"boton-banner col-6 col-md-3",disable:!0},null,8,["onClick"])])]),t("div",Qe,[o(de,{unelevated:"",style:{display:"flex","justify-content":"center"}},{default:i(()=>[o(h,{outline:"",unelevated:"","no-caps":"",color:"primary","icon-right":"close",onClick:e.openDeleteHolds,label:"Cancelar",disable:e.holds.length<=0},null,8,["onClick","disable"]),o(h,{"no-caps":"",unelevated:"",class:"gradient-btn","icon-right":"point_of_sale",onClick:e.abrirFormasDePago,label:"Realizar venta (F6)",disable:e.holds.length<=0},null,8,["onClick","disable"])]),_:1})])]),t("div",He,[e.slide===1?(p(),F($,{key:0,src:"img/sin-productos.png",style:{width:"333px",height:"auto",display:"block",margin:"auto"},fit:"contain"})):(p(),g("div",Se,[t("div",Oe,[(p(!0),g(N,null,B(e.holds,a=>(p(),F(z,{class:"my-card custom-shadow custom-border-radius col-md-5 col-sm-11 col-xs-11",bordered:"",key:a,style:{margin:"10px"}},{default:i(()=>[t("div",$e,[o(y,{class:"q-pa-sm"},{default:i(()=>[t("div",Re,[t("h6",Ye,l(a.producto),1),o(h,{round:"",unelevated:"",color:"red-1","text-color":"red-10",icon:"delete",onClick:m=>e.deleteItemHolds(a),style:{margin:"0"}},null,8,["onClick"])])]),_:2},1024),o(b),t("div",Le,[o($,{class:"borde-cust-up col-4",src:"img/no-photo-prod.avif"},{default:i(()=>[t("div",Ge,[o(O,{"text-color":"white",style:Y("background: "+e.colorLetra(a.producto)),size:"40px"},{default:i(()=>[w(l(e.primeraletra(a.producto)),1)]),_:2},1032,["style"]),t("div",null,[t("b",null,l(a.categoria),1)]),o(L,{color:a.intipoproducto==="1"?"blue-1":a.intipoproducto==="2"?"orange-1":"purple-1","text-color":a.intipoproducto==="1"?"blue-10":a.intipoproducto==="2"?"orange-10":"purple-10",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:i(()=>[w(l(a.intipoproducto==="1"?"Simple":a.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color","text-color"])])]),_:2},1024),t("div",Ke,[o(b),o(le,null,{default:i(()=>[o(E,{style:{"padding-left":"7px"}},{default:i(()=>[o(U,{style:{display:"-webkit-inline-box"}},{default:i(()=>[t("div",null,[o(D,{caption:""},{default:i(()=>[w("Precio unidad:")]),_:1}),o(D,null,{default:i(()=>[w(l(a.precioreal.toFixed(2)),1)]),_:2},1024)])]),_:2},1024),o(U,{side:""},{default:i(()=>[o(D,{caption:""},{default:i(()=>[w("Precio venta:")]),_:1}),o(D,null,{default:i(()=>[t("input",{class:"inputCantidad",type:"number",min:"0",id:"precioventa"+a.idproducto,value:a.precio.toFixed(2),onInput:m=>(e.calcularMonto(a),e.updprecioitemholds(a)),style:{"font-size":"10px","font-weight":"bold"},onkeydown:"return event.keyCode !== 69 && event.keyCode !== 189"},null,40,Ze)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(E,{style:{"padding-left":"7px"}},{default:i(()=>[o(U,{style:{display:"-webkit-inline-box"}},{default:i(()=>[t("div",null,[o(D,{caption:""},{default:i(()=>[w("Impuesto (%):")]),_:1}),o(D,null,{default:i(()=>[w(l(a.tasa),1)]),_:2},1024)])]),_:2},1024),o(U,{side:""},{default:i(()=>[o(D,{caption:""},{default:i(()=>[w("Comentario:")]),_:1}),o(h,{unelevated:"",class:"btncantidad",color:"blue-1","text-color":"blue-10",icon:"question_answer",onClick:m=>e.abrirComentario(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(E,{style:{"padding-left":"7px"}},{default:i(()=>[o(U,{style:{display:"-webkit-inline-box"}},{default:i(()=>[t("div",null,[o(D,{caption:""},{default:i(()=>[w("Total:")]),_:1}),t("span",{id:"monto"+a.idproducto,class:"precio"},l(e.prefijo)+" "+l(a.total.toFixed(2)),9,Je)])]),_:2},1024)]),_:2},1024)]),_:2},1024),o(b),o(q,{align:"right"},{default:i(()=>[We,t("input",{class:"inputCantidad",id:"cantidad"+a.idproducto,value:a.cantidad,onInput:m=>e.calcularMonto(a),style:{"margin-right":"10px"}},null,40,Xe),o(h,{round:"",unelevated:"",class:"btncantidad",icon:"remove",color:"red-1","text-color":"red-10",onClick:m=>e.actualizarCantidad(a,2),style:{}},null,8,["onClick"]),o(h,{round:"",unelevated:"",class:"btncantidad",color:"green-1","text-color":"green-10",icon:"add",onClick:m=>e.actualizarCantidad(a,1)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1024))),128))])]))]),o(P,{modelValue:e.buscaritem,"onUpdate:modelValue":s[1]||(s[1]=a=>e.buscaritem=a)},{default:i(()=>[o(z,{class:"custom-shadow custom-border-radius",style:{width:"350px",padding:"5px"},bordered:""},{default:i(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[et,I(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),o(y,{style:{padding:"5px"}},{default:i(()=>[o(j,{color:"blue-grey-3",outlined:"",standout:"","bottom-slots":"",modelValue:e.textitem,"onUpdate:modelValue":s[0]||(s[0]=a=>e.textitem=a),label:"Nombre/Sku Producto",counter:"",autofocus:""},{prepend:i(()=>[o(A,{name:"search"})]),hint:i(()=>[w(" Cantidad de letras ")]),_:1},8,["modelValue"])]),_:1}),o(b),e.buscadoproducto?(p(),F(y,{key:0,style:{height:"59vh",overflow:"auto"}},{default:i(()=>[(p(!0),g(N,null,B(e.rowsproductosfiltre,a=>(p(),F(z,{key:a.id,class:"custom-shadow custom-border-radius q-mb-md",bordered:""},{default:i(()=>[o(E,{class:"q-pa-sm"},{default:i(()=>[o(U,null,{default:i(()=>[o(D,null,{default:i(()=>[w(l(a.producto),1)]),_:2},1024),o(D,{caption:""},{default:i(()=>[w(l(a.categoria),1)]),_:2},1024)]),_:2},1024),o(U,{side:""},{default:i(()=>[o(h,{round:"",unelevated:"",color:"deep-orange-1","text-color":"deep-orange-8",icon:"add_shopping_cart",onClick:m=>e.additemholds(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(E,{class:""},{default:i(()=>[t("div",tt,[t("div",ot,[o(D,null,{default:i(()=>[o(O,{"text-color":"white",style:Y("background: "+e.colorLetra(a.producto))},{default:i(()=>[w(l(e.primeraletra(a.producto)),1)]),_:2},1032,["style"])]),_:2},1024),o(D,null,{default:i(()=>[o(L,{color:a.intipoproducto==="1"?"light-green-5":a.intipoproducto==="2"?"deep-orange-5":"orange-5",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:i(()=>[w(l(a.intipoproducto==="1"?"Simple":a.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color"])]),_:2},1024)]),t("div",null,[o(D,{caption:""},{default:i(()=>[w(" Descripci\xF3n:")]),_:1}),o(D,{style:{}},{default:i(()=>[t("p",at,l(a.descripcion),1)]),_:2},1024)])])]),_:2},1024),o(b),o(E,{class:"q-pa-sm"},{default:i(()=>[o(U,{class:"q-ml-md"},{default:i(()=>[t("div",st,[t("div",lt,[it,t("p",null,l(a.sku),1)]),t("div",nt,[dt,t("p",null,l(a.unidad),1)]),t("div",rt,[ct,t("p",null,l(a.impuesto),1)])])]),_:2},1024)]),_:2},1024),o(q,{class:"tarjeticainside",align:"right"},{default:i(()=>[t("h6",null,[ut,w(" "+l(e.prefijo)+" "+l(Number(a.precio).toFixed(2)),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})):C("",!0),o(b),o(q,{align:"right"},{default:i(()=>[I(o(h,{outline:"","no-caps":"",label:"Cancelar",color:"primary"},null,512),[[V]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.modalcliente,"onUpdate:modelValue":s[8]||(s[8]=a=>e.modalcliente=a)},{default:i(()=>[o(z,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:i(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[pt,I(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),o(b),o(y,{style:{padding:"10px"}},{default:i(()=>[t("div",ht,[o(K,{outlined:"",modelValue:e.modeldocumento,"onUpdate:modelValue":s[2]||(s[2]=a=>e.modeldocumento=a),options:e.optionsdocumento,"option-label":"tipodocumento","option-value":"cod",label:"Seleccione tipo documento"},{prepend:i(()=>[o(A,{name:"badge"})]),_:1},8,["modelValue","options"])])]),_:1}),o(y,{style:{padding:"10px"}},{default:i(()=>[t("div",mt,[o(j,{class:"col-10",outlined:"",modelValue:e.documento,"onUpdate:modelValue":s[3]||(s[3]=a=>e.documento=a),label:"Documento","stack-label":"",autofocus:"",onKeyup:te(e.buscarCliente,["enter"])},{prepend:i(()=>[o(A,{name:"badge"})]),_:1},8,["modelValue","onKeyup"]),o(h,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:e.buscarCliente},null,8,["onClick"])])]),_:1}),e.noencontrado?(p(),g("div",ft,yt)):C("",!0),e.encontrado?(p(),g("div",bt,vt)):C("",!0),e.clientebuscado?(p(),F(b,{key:2})):C("",!0),e.clientebuscado?(p(),F(y,{key:3,style:{padding:"10px"}},{default:i(()=>[o(j,{outlined:"",modelValue:e.nombrecliente,"onUpdate:modelValue":s[4]||(s[4]=a=>e.nombrecliente=a),label:"Nombre del cliente","stack-label":""},{prepend:i(()=>[o(A,{name:"badge"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),e.clientebuscado?(p(),F(y,{key:4,style:{padding:"10px"}},{default:i(()=>[o(j,{outlined:"",modelValue:e.correocliente,"onUpdate:modelValue":s[5]||(s[5]=a=>e.correocliente=a),label:"Email del cliente","stack-label":""},{prepend:i(()=>[o(A,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),e.clientebuscado?(p(),F(y,{key:5,style:{padding:"10px"}},{default:i(()=>[o(j,{outlined:"",modelValue:e.telefonocliente,"onUpdate:modelValue":s[6]||(s[6]=a=>e.telefonocliente=a),label:"Tel\xE9fono del cliente","stack-label":""},{prepend:i(()=>[o(A,{name:"phone"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),e.clientebuscado?(p(),F(y,{key:6,style:{padding:"10px"}},{default:i(()=>[o(j,{outlined:"",modelValue:e.direccioncliente,"onUpdate:modelValue":s[7]||(s[7]=a=>e.direccioncliente=a),label:"Direcci\xF3n del cliente","stack-label":""},{prepend:i(()=>[o(A,{name:"location_on"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),o(b),o(q,{align:"center"},{default:i(()=>[I(o(h,{outline:"","no-caps":"",label:"Cancelar","icon-right":"close",color:"primary",onClick:e.limpiarCliente},null,8,["onClick"]),[[V]]),o(h,{unelevated:"","no-caps":"",label:"Aceptar (F4)",color:"primary","icon-right":"check",onClick:e.crearCliente,disable:e.dsbBtnCrearCliente},null,8,["onClick","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.modaldeleteholds,"onUpdate:modelValue":s[10]||(s[10]=a=>e.modaldeleteholds=a),persistent:""},{default:i(()=>[o(z,{class:"custom-shadow custom-border-radius",style:{width:"350px"}},{default:i(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[wt,I(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),o(y,null,{default:i(()=>[o($,{class:"rounded-borders col-3",src:"img/delete.png"})]),_:1}),o(q,{align:"center",style:{"margin-bottom":"10px"}},{default:i(()=>[I(o(h,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"primary"},null,512),[[V]]),o(h,{unelevated:"","no-caps":"",label:"Aceptar",color:"primary","icon-right":"check",onClick:s[9]||(s[9]=a=>e.deleteHolds(1))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.modalrealizarventa,"onUpdate:modelValue":s[11]||(s[11]=a=>e.modalrealizarventa=a),persistent:""},{default:i(()=>[o(z,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:i(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[Ct,I(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),o(y,{style:{display:"flex","align-items":"center"}},{default:i(()=>[o(O,{color:"primary","text-color":"white"},{default:i(()=>[o(A,{name:"shopping_cart_checkout"})]),_:1}),kt]),_:1}),o(b),o(y,null,{default:i(()=>[t("table",xt,[t("tr",null,[It,t("td",Vt,l(e.nombrecliente),1)]),t("tr",null,[t("td",null,l(e.documentoabrev)+":",1),t("td",Nt,l(e.documentoclientesolo),1)]),t("tr",null,[Dt,t("td",Ft,l(e.fechaholds),1)])]),t("table",zt,[qt,(p(!0),g(N,null,B(e.holds,a=>(p(),g(N,{key:a},[t("tr",Bt,[t("td",jt,l(a.producto),1),t("td",At,l(a.precio.toFixed(2)),1),t("td",Pt,l(a.cantidad),1),t("td",Ut,l(a.tasa)+"%",1),t("td",Tt,l(a.total.toFixed(2)),1)]),a.comentario&&a.comentario.length>0?(p(),g("tr",Et,[t("td",Mt,[(p(!0),g(N,null,B(a.comentario.split("//"),m=>(p(),g(N,{key:m},[m.length>0?(p(),g("p",Qt,"- "+l(m),1)):C("",!0)],64))),128))]),Ht,St,Ot,$t])):C("",!0)],64))),128)),Rt]),t("table",Yt,[t("tr",Lt,[Gt,t("td",Kt,"Subtotal "+l(e.prefijo)+":",1),t("td",Zt,l(Number(e.subtotal).toFixed(2)),1)]),t("tr",Jt,[t("td",null,l(e.formadepago==="1"?"Contado":"Cr\xE9dito"),1),t("td",Wt,"Impuestos "+l(e.prefijo)+":",1),t("td",Xt,l(Number(e.impuesto).toFixed(2)),1)]),t("tr",eo,[t("td",null,l(e.formadepago==="2"&&e.formadepagocredito==="1"?"Abono "+e.prefijo+"0.00":e.formadepago==="2"&&e.formadepagocredito==="2"?"Abono "+e.prefijo+e.pagocreditoparcial:""),1),t("td",to,"Descuentos "+l(e.prefijo)+":",1),t("td",oo,l(Number(e.descuento).toFixed(2)),1)]),t("tr",ao,[t("td",null,l(e.formadepago==="2"&&e.plazopagocredito==="2"?"A "+e.diasplazopagocredito+" d\xEDas":""),1),t("td",so,"IGTF 3% "+l(e.prefijo)+":",1),t("td",lo,l(Number(e.igtf).toFixed(2)),1)]),t("tr",io,[no,t("td",null,"Total "+l(e.prefijo)+":",1),t("td",ro,l(Number(e.total).toFixed(2)),1)]),e.mostrartotal==="2"?(p(),g("tr",co,[uo,t("td",null,"Total "+l(e.prefijo2)+":",1),t("td",po,l(Number(e.totalusd).toFixed(2)),1)])):C("",!0)])]),_:1}),o(b),o(q,{align:"center"},{default:i(()=>[I(o(h,{outline:"","no-caps":"","icon-right":"close",color:"primary",label:"Cancelar"},null,512),[[V]]),o(h,{unelevated:"","no-caps":"","icon-right":"check",color:"primary",label:"Aceptar",onClick:e.realizarVenta},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.modaldetalleinvoice,"onUpdate:modelValue":s[12]||(s[12]=a=>e.modaldetalleinvoice=a),persistent:""},{default:i(()=>[o(z,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"330px"}},{default:i(()=>[t("div",ho,[o(y,{style:{"justify-content":"center"}},{default:i(()=>[t("div",mo,l(e.empresa),1),t("div",fo,l(e.rif),1),t("div",go,l(e.direccion),1),t("div",yo,l(e.telefono),1),t("div",bo,l(e.email),1),o(b,{style:{margin:"20px 0 5px 0"}}),t("div",_o,[t("div",vo,l(e.detalleventa.tipofactura),1),t("div",wo,l(e.detalleventa.numerointerno),1)]),t("div",Co,[ko,t("div",xo,l(e.detalleventa.numerocontrol),1)]),o(b,{style:{margin:"5px 0px"}}),t("table",Io,[t("tr",Vo,[No,t("td",Do,l(e.detalleventa.nombrecliente),1)]),t("tr",Fo,[t("td",null,l(e.detalleventa.abrev),1),t("td",zo,l(e.detalleventa.documento),1)]),t("tr",qo,[Bo,t("td",jo,l(e.fechaDetalle(e.detalleventa.fecha)),1)]),t("tr",Ao,[Po,t("td",Uo,l(e.detalleventa.usuario),1)])]),t("table",To,[Eo,(p(!0),g(N,null,B(e.ventas,a=>(p(),g(N,{key:a},[t("tr",Mo,[t("td",Qo,l(a.producto),1),t("td",Ho,l(Number(a.precio).toFixed(2)),1),t("td",So,l(a.cantidad),1),t("td",Oo,l(a.tasa)+"%",1),t("td",$o,l(Number(a.subtotal).toFixed(2)),1)]),a.comentario&&a.comentario.length>0?(p(),g("tr",Ro,[t("td",Yo,[(p(!0),g(N,null,B(a.comentario.split("//"),m=>(p(),g(N,{key:m},[m.length>0?(p(),g("p",Lo,"- "+l(m),1)):C("",!0)],64))),128))]),Go,Ko,Zo,Jo])):C("",!0)],64))),128)),Wo]),t("table",Xo,[t("tr",ea,[ta,t("td",null,"Subtotal "+l(e.prefijo)+":",1),t("td",oa,l(e.detalleventa.subtotal.toFixed(2)),1)]),t("tr",aa,[sa,t("td",null,"Impuestos "+l(e.prefijo)+":",1),t("td",la,l(e.detalleventa.impuesto.toFixed(2)),1)]),t("tr",ia,[na,t("td",null,"Descuentos "+l(e.prefijo)+":",1),t("td",da,l(e.detalleventa.descuentos.toFixed(2)),1)]),t("tr",ra,[ca,t("td",ua,"IGTF 3% "+l(e.prefijo)+":",1),t("td",pa,l(e.detalleventa.igtf.toFixed(2)),1)]),t("tr",ha,[ma,t("td",null,"Total "+l(e.prefijo)+":",1),t("td",fa,l(e.detalleventa.total.toFixed(2)),1)]),e.mostrartotal==="2"?(p(),g("tr",ga,[ya,t("td",null,"Total "+l(e.prefijo2)+":",1),t("td",ba,l(e.detalleventa.totalusd.toFixed(2)),1)])):C("",!0)])]),_:1})]),_a,o(b),o(q,{align:"center"},{default:i(()=>[I(o(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[V]]),o(h,{unelevated:"","no-caps":"",label:"Imprimir",color:"primary","icon-right":"check",onClick:e.imprimir},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.modalanular,"onUpdate:modelValue":s[14]||(s[14]=a=>e.modalanular=a),persistent:""},{default:i(()=>[o(z,{class:"custom-shadow custom-border-radius",style:{width:"350px"}},{default:i(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[va,I(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),o(b),o(y,{style:{"justify-content":"center"}},{default:i(()=>[t("div",wa,[o(j,{class:"col-10",color:"blue-grey-3",outlined:"",modelValue:e.numerointernoanular,"onUpdate:modelValue":s[13]||(s[13]=a=>e.numerointernoanular=a),label:"Buscar N\xFAmero Interno","stack-label":"",autofocus:""},null,8,["modelValue"]),o(h,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:e.buscarFactura},null,8,["onClick"])])]),_:1}),o(b),e.facturabuscado?(p(),F(y,{key:0,style:{height:"60vh",overflow:"auto"}},{default:i(()=>[t("div",{class:oe(e.detalleventaanular.estatus==="1"?"procesada":"anulada"),style:{"margin-bottom":"10px"}},l(e.detalleventaanular.estatus==="1"?"Procesada":"Anulada"),3),t("div",Ca,[t("div",ka,l(e.detalleventaanular.tipofactura),1),t("div",xa,l(e.detalleventaanular.numerointerno),1)]),t("div",Ia,[Va,t("div",Na,l(e.detalleventaanular.numerocontrol),1)]),o(b,{style:{margin:"10px 0px"}}),t("table",Da,[t("tr",Fa,[za,t("td",qa,l(e.detalleventaanular.nombrecliente),1)]),t("tr",Ba,[t("td",null,l(e.detalleventaanular.abrev),1),t("td",ja,l(e.detalleventaanular.documento),1)]),t("tr",Aa,[Pa,t("td",Ua,l(e.fechaDetalle(e.detalleventaanular.fecha)),1)]),t("tr",Ta,[Ea,t("td",Ma,l(e.detalleventaanular.usuario),1)])]),t("table",Qa,[Ha,(p(!0),g(N,null,B(e.ventasanular,a=>(p(),g(N,{key:a},[t("tr",Sa,[t("td",Oa,l(a.producto),1),t("td",null,l(a.precio.toFixed(2)),1),t("td",null,l(a.cantidad),1),t("td",null,l(a.tasa)+"%",1),t("td",$a,l(a.subtotal.toFixed(2)),1)]),a.comentario&&a.comentario.length>0?(p(),g("tr",Ra,[t("td",Ya,[(p(!0),g(N,null,B(a.comentario.split("//"),m=>(p(),g(N,{key:m},[m.length>0?(p(),g("p",La,"- "+l(m),1)):C("",!0)],64))),128))]),Ga,Ka,Za,Ja])):C("",!0)],64))),128)),Wa]),t("table",Xa,[t("tr",es,[ts,t("td",null,"Subtotal "+l(e.prefijo)+":",1),t("td",os,l(e.detalleventaanular.subtotal.toFixed(2)),1)]),t("tr",as,[ss,t("td",null,"Impuestos "+l(e.prefijo)+":",1),t("td",ls,l(e.detalleventaanular.impuesto.toFixed(2)),1)]),t("tr",is,[ns,t("td",null,"Descuentos "+l(e.prefijo)+":",1),t("td",ds,l(e.detalleventaanular.descuentos.toFixed(2)),1)]),t("tr",rs,[cs,t("td",us,"IGTF 3% "+l(e.prefijo)+":",1),t("td",ps,l(e.detalleventaanular.igtf.toFixed(2)),1)]),t("tr",hs,[ms,t("td",null,"Total "+l(e.prefijo)+":",1),t("td",fs,l(e.detalleventaanular.total.toFixed(2)),1)]),e.mostrartotal==="2"?(p(),g("tr",gs,[ys,t("td",null,"Total "+l(e.prefijo2)+":",1),t("td",bs,l(e.detalleventaanular.totalusd.toFixed(2)),1)])):C("",!0)])]),_:1})):C("",!0),o(b),o(q,{align:"center"},{default:i(()=>[I(o(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[V]]),o(h,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",disable:e.btnDisableAnular,onClick:e.anularDocumento},null,8,["disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.modalcomentario,"onUpdate:modelValue":s[16]||(s[16]=a=>e.modalcomentario=a),persistent:""},{default:i(()=>[o(z,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"330px"}},{default:i(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[_s,I(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),o(y,{style:{display:"flex","align-items":"center"}},{default:i(()=>[o(j,{outlined:"",modelValue:e.comentario,"onUpdate:modelValue":s[15]||(s[15]=a=>e.comentario=a),label:"Descripci\xF3n de producto",rows:"6",dense:"",type:"textarea",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(b),o(q,{align:"center"},{default:i(()=>[I(o(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[V]]),o(h,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",onClick:e.updComentarioItemHolds},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:e.modalformasdepago,"onUpdate:modelValue":s[23]||(s[23]=a=>e.modalformasdepago=a),persistent:""},{default:i(()=>[o(z,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:i(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[vs,I(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),o(b),o(y,{style:{height:"320px",width:"300px"}},{default:i(()=>[t("div",ws,[o(T,{modelValue:e.formadepago,"onUpdate:modelValue":s[17]||(s[17]=a=>e.formadepago=a),val:"1",label:"Contado: "+e.prefijo+" "+Number(e.total).toFixed(2),color:"positive"},null,8,["modelValue","label"]),o(T,{modelValue:e.formadepago,"onUpdate:modelValue":s[18]||(s[18]=a=>e.formadepago=a),val:"2",label:"Cr\xE9dito",color:"positive"},null,8,["modelValue"])]),e.formadepago==="2"?(p(),g("div",Cs,[o(T,{modelValue:e.formadepagocredito,"onUpdate:modelValue":s[19]||(s[19]=a=>e.formadepagocredito=a),val:"1",label:"Total. Abono "+e.prefijo+" 0.00",color:"red"},null,8,["modelValue","label"]),t("div",ks,[o(T,{modelValue:e.formadepagocredito,"onUpdate:modelValue":s[20]||(s[20]=a=>e.formadepagocredito=a),val:"2",label:"Parcial.",color:"red"},null,8,["modelValue"]),t("span",xs,"Abono "+l(e.prefijo),1),t("input",{class:"inputCantidad",id:"idpagoparcial",value:"0",style:{"margin-right":"10px"},disabled:e.formadepagocredito==="1",type:"number",min:"0",max:e.total},null,8,Is)]),t("div",Vs,[Ns,o(T,{modelValue:e.plazopagocredito,"onUpdate:modelValue":s[21]||(s[21]=a=>e.plazopagocredito=a),val:"1",label:"No aplica",color:"blue"},null,8,["modelValue"]),t("div",Ds,[o(T,{modelValue:e.plazopagocredito,"onUpdate:modelValue":s[22]||(s[22]=a=>e.plazopagocredito=a),val:"2",label:"D\xEDas",color:"blue"},null,8,["modelValue"]),t("input",{class:"inputCantidad",id:"idplazopagoparcial",value:"0",style:{"margin-right":"10px","margin-left":"10px"},disabled:e.plazopagocredito==="1",type:"number",min:"0"},null,8,Fs)])])])):C("",!0)]),_:1}),o(b),o(q,{align:"center"},{default:i(()=>[I(o(h,{outline:"","no-caps":"","icon-right":"close",color:"primary",label:"Cancelar"},null,512),[[V]]),o(h,{unelevated:"","no-caps":"","icon-right":"check",color:"primary",label:"Aceptar",onClick:e.abrirRealizarVenta},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Hs=X(re,[["render",zs],["__scopeId","data-v-64c7274a"]]);export{Hs as default};
