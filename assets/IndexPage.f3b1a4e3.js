import{Q as $,a as K}from"./QSelect.55e2252e.js";import{c as G,a0 as Z,a2 as J,K as O,h as E,e as S,g as W,_ as X,a9 as ee,r,N as f,k as h,l as N,w as i,m as o,q as t,ab as l,F as _,B as p,aw as y,ax as D,ay as U,Q as q,x as g,a6 as V,y as B,z as j,C as b,ac as C,A as z,az as A,aA as te,aB as H,aC as oe,aD as T,aE as L,D as ae,E as se}from"./index.0b5707ba.js";import{Q as Y}from"./QImg.a63da2b9.js";import{Q as R}from"./QBadge.d706b160.js";import{Q as F,C as I}from"./ClosePopup.75228d91.js";import{Q,a as P}from"./QItem.79c151f9.js";import{Q as le}from"./format.ef8154b2.js";import{Q as ie}from"./QScrollArea.17b50b92.js";import{Q as ne}from"./QPage.ef0d5ed6.js";import{a as v}from"./axios.7331a07d.js";import{h as M}from"./moment.40bc58bf.js";import"./QResizeObserver.ee535ad9.js";var de=G({name:"QBanner",props:{...Z,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:a}){const{proxy:{$q:n}}=W(),u=J(e,n),c=O(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),k=O(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const s=[E("div",{class:"q-banner__avatar col-auto row items-center self-start"},S(a.avatar)),E("div",{class:"q-banner__content col text-body2"},S(a.default))],m=S(a.action);return m!==void 0&&s.push(E("div",{class:k.value},m)),E("div",{class:c.value+(e.inlineActions===!1&&m!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}}),re=G({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const n=O(()=>{const u=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(c=>e[c]===!0).map(c=>`q-btn-group--${c}`).join(" ");return`q-btn-group row no-wrap${u.length!==0?" "+u:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>E("div",{class:n.value},S(a.default))}});const w="https://posapi-test.factura-smart.com/",ce=ee({name:"IndexPage",setup(){return{slide:r(2),prefijo:r("Bs."),prefijo2:r("$"),mostrartotal:r("1"),formadepago:r("1"),formadepagocredito:r("1"),pagocreditoparcial:r("0"),plazopagocredito:r("1"),tipomoneda:r("1"),buscadoproducto:r(!0),btnDisableAnular:r(!0),numerointernoanular:r(""),modalanular:r(!1),empresa:r(""),direccion:r(""),rif:r(""),telefono:r(""),email:r(""),igtf:r(0),numerointerno:r(""),comentario:r(""),idventa:r(""),textitem:r(""),subtotal:r(0),impuesto:r(0),descuento:r(0),total:r(0),subtotalusd:r(0),impuestousd:r(0),descuentousd:r(0),totalusd:r(0),nombrecliente:r(""),correocliente:r(""),telefonocliente:r(""),direccioncliente:r(""),idclienteventa:r(""),nombreclienteventa:r(""),documentoabrev:r(""),documentoclientesolo:r(""),documentoclienteventa:r(""),fechahoy:r(M().format("DD/MM/YYYY")),fechaholds:r(""),idhold:r(""),iditemhold:r(""),iditemholdUpd:r(""),buscaritem:r(!1),modalrealizarventa:r(!1),noencontrado:r(!1),clientebuscado:r(!1),facturabuscado:r(!1),encontrado:r(!1),modalcliente:r(!1),modalcomentario:r(!1),dsbBtnCrearCliente:r(!0),modeldocumento:r(null),modaldeleteholds:r(!1),modaldetalleinvoice:r(!1),modalformasdepago:r(!1),optionsdocumento:[],rowsproductos:[],rowsproductosfiltre:[],holds:[],ventas:[],ventasanular:[],detalleventa:{},detalleventaanular:{},tasausd:r(0),idusuario:r(sessionStorage.getItem("id_usuario"))}},methods:{imprimir(){window.frames.print_frame.document.body.innerHTML=document.getElementById("areaImprimir").innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print(),this.modaldetalleinvoice=!1},fechaDetalle(e){return M(e).format("DD/MM/YYYY HH:mm:ss")},escribirComentario(e){let a="<p><ul>";return e.split("//").forEach(u=>{a=a+u+"</br>"}),a+"</ul></p>"},abrirComentario(e){this.comentario=e.comentario,this.iditemholdUpd=e.iditemhold,this.modalcomentario=!0},abrirFormasDePago(e){this.formadepago="1",this.formadepagocredito="1",this.plazopagocredito="1",this.modalformasdepago=!0},abrirBuscarFactura(){this.detalleventaanular={},this.numerointernoanular="",this.idUpd="",this.facturabuscado=!1,this.btnDisableAnular=!0,this.modalanular=!0},async updprecioitemholds(e){const a={iditemhold:e.iditemhold,total:e.total,precio:e.precio};e.precio>0&&await v.post(w+"ventas/updprecioitemholds",a).then(async n=>{console.log(n)})},async updComentarioItemHolds(){const e={iditemhold:this.iditemholdUpd,comentario:this.comentario};await v.post(w+"ventas/updcomentarioitemholds",e).then(async a=>{console.log(a),this.modalcomentario=!1,this.comentario="",this.listarHolds(),f.create({message:"Comentario de Item ACTUALIZADO con \xE9xito",type:"positive"})})},async anularDocumento(){const e={idventa:this.idUpd};await v.post(w+"ventas/anularventa",e).then(async a=>{console.log(a),this.modalanular=!1,f.create({message:"Documento ANULADO con \xE9xito",type:"positive"})})},async buscarFactura(){this.detalleventaanular={},this.ventasanular=[],this.facturabuscado=!1,this.idtipofacturaanular=1,await v.get(w+"ventas/getventanumerointerno/"+sessionStorage.getItem("co_empresa")+"/"+this.idtipofacturaanular+"/"+this.numerointernoanular).then(async e=>{console.log(this.numerointernoanular),console.log(e),e.status===200?(this.detalleventaanular=e.data.resp,this.idUpd=this.detalleventaanular.id,this.ventasanular=e.data.respdetalles,this.facturabuscado=!0,this.btnDisableAnular=this.detalleventaanular.estatus==="2"||!1):(f.create({message:"Documento NO ENCONTRADO",type:"info"}),this.facturabuscado=!1,this.btnDisableAnular=!0,this.idUpd="")})},async abrirDetalleInvoive(){const e=this;this.detalleventa={},await v.get(w+"ventas/getventa/"+this.idventa).then(async a=>{this.detalleventa=a.data.resp,await v.get(w+"ventas/getitemsventas/"+this.idventa).then(async n=>{e.ventas=[],console.log(n);const u=n.data.resp;for(const c in u){const k=u[c];e.ventas.push(k)}e.deleteHolds(2),e.modaldetalleinvoice=!0}).catch(n=>{f.create({message:"Problemas al listar items Ventas "+n,type:"negative"})}),console.log(this.detalleventa)})},async actualizarCantidad(e,a){const n=document.getElementById("cantidad"+e.idproducto);a===1?(n.value=Number(n.value)+1,this.subtotal=Number(this.subtotal)+e.precio,this.impuesto=Number(this.impuesto)+e.precio*e.tasa/100,this.total=Number(this.total)+(Number(e.precio)+e.precio*e.tasa/100)):(n.value>1&&(this.subtotal=Number(this.subtotal)-e.precio,this.impuesto=Number(this.impuesto)-e.precio*e.tasa/100,this.total=Number(this.total)-(Number(e.precio)+e.precio*e.tasa/100)),n.value=n.value<=1?1:Number(n.value)-1),e.total=(Number(e.precio)+e.precio*e.tasa/100)*n.value,this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,await this.updItemHolds(e.iditemhold,n.value,n.value*(Number(e.precio)+e.precio*e.tasa/100),e.idproducto,a,e.intipoproducto)?await this.calcularMonto(e):n.value=n.value<=1?1:Number(n.value)-1},calcularMonto(e){const a=document.getElementById("cantidad"+e.idproducto),n=document.getElementById("precioventa"+e.idproducto).value;if(a&&n>0){this.subtotal=0,this.impuesto=0;const u=a.value>0?a.value:1;this.holds.map(c=>(c.iditemhold===e.iditemhold&&(c.monto=(n*c.tasa/100+Number(n))*u,c.total=c.monto,c.precio=Number(n),e.monto=c.monto,c.cantidad=u),this.subtotal=this.subtotal+c.precio*c.cantidad,this.impuesto=this.impuesto+c.precio*c.tasa/100*c.cantidad,this.total=this.impuesto+this.subtotal,this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,c)),document.getElementById("monto"+e.idproducto).innerHTML="Bs."+e.monto.toFixed(2)}},async updItemHolds(e,a,n,u,c,k){const s={idproducto:u,iditemhold:e,cantidad:a,accion:c,total:n,intipoproducto:k},m=await v.post(w+"ventas/upditemholds",s);return console.log(m.status),m.status===202?(this.$q.dialog({title:"Ooops! "+m.data.resp,message:" Contacte al administrador del sistema.",html:!0,ok:{color:"primary",label:"Aceptar"}}),!1):!0},openDeleteHolds(){this.modaldeleteholds=!0},deleteHolds(e){const a={idhold:this.idhold,accion:e};v.post(w+"ventas/deleteholds",a).then(async n=>{this.modaldeleteholds=!1,this.documentoclienteventa="",this.listarHolds()}).catch(n=>{f.create({message:"Problemas al ELIMINAR Hold de venta "+n,type:"negative"})})},deleteItemHolds(e){console.log(e);const a={iditemhold:e.iditemhold,idproducto:e.idproducto,intipoproducto:e.intipoproducto,cantidad:e.cantidad};this.$q.dialog({title:"Eliminar Item",message:"\xBFDesea eliminar este item?",ok:{label:"Aceptar",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{v.post(w+"ventas/deleteitemholds",a).then(async n=>{console.log(n.data.success),this.nombrecliente="",this.listarHolds()}).catch(n=>{f.create({message:"Problemas al ELIMINAR itemhold de venta "+n,type:"negative"})})})},async additemholds(e){console.log(e);const a=this.descuento;let n=!1;const u=this.holds.findIndex(c=>c.idproducto===e.idproducto);if(u===-1){const c=e.precio*e.tasa/100+e.precio,k={idhold:this.idhold,idproducto:e.idproducto,precio:e.precio,cantidad:1,tasa:e.tasa,total:c,idunidad:e.idunidad,intipoproducto:e.intipoproducto,descuento:a};await v.post(w+"ventas/setitemholds",k).then(async s=>{const m=s.data.resp;if(s.data.success){const x={};x.idhold=this.idhold,x.iditemhold=m.iditemhold,x.idproducto=e.idproducto,x.precio=e.precio,x.precioreal=e.precio,x.cantidad=1,x.tasa=e.tasa,x.total=c,x.producto=e.producto,x.categoria=e.categoria,x.descripcion=e.descripcion,x.intipoproducto=e.intipoproducto,x.descuento=a,this.subtotal=(Number(this.subtotal)+x.precio*x.cantidad).toFixed(2),this.impuesto=(Number(this.impuesto)+e.precio*e.tasa/100).toFixed(2),this.total=(Number(this.total)+c).toFixed(2),this.holds.push(x),n=!0}else this.buscaritem=!1,this.slide=2,f.create({message:`<span style="text-transform: uppercase;">${s.data.resp}</span>`})}).catch(s=>{f.create({message:"Problemas al crear itemhold de venta "+s,type:"negative"})})}else{this.holds[u].cantidad=Number(this.holds[u].cantidad)+1;const c=e.precio*e.tasa/100+e.precio;document.getElementById("monto"+e.idproducto).innerHTML="Bs."+(c*this.holds[u].cantidad).toFixed(2),this.subtotal=(Number(this.subtotal)+e.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+e.precio*e.tasa/100).toFixed(2),this.total=(Number(this.total)+c).toFixed(2),n=await this.updItemHolds(this.holds[u].iditemhold,this.holds[u].cantidad,c*this.holds[u].cantidad,e.idproducto,1)}n&&(this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,this.buscaritem=!1,this.slide=2)},listarProductos(){v.get(w+"productos/"+sessionStorage.getItem("co_empresa")+"/"+0).then(async a=>{const n=a.data.resp;this.rowsproductos=[];for(const u in n){const c={};c.idproducto=n[u].id,c.sku=n[u].sku,c.producto=n[u].producto,c.id=n[u].id,c.categoria=n[u].categoria,c.descripcion=n[u].descripcion,c.unidad=n[u].unidad,c.idunidad=n[u].idunidad,c.impuesto=n[u].impuesto,c.precio=this.tipomoneda==="1"?n[u].precio:n[u].preciousd,c.inventario=Number(n[u].inventario1),c.costo=n[u].costo,c.tasa=n[u].tasa,c.intipoproducto=n[u].intipoproducto,this.rowsproductos.push(c)}this.rowsproductosfiltre=this.rowsproductos}).catch(a=>{f.create({message:"Problemas al listar Categor\xEDas"+a,type:"negative"})})},abrirRealizarVenta(){console.log(this.formadepago),console.log(this.formadepagocredito),this.pagocreditoparcial=document.getElementById("idpagoparcial")?document.getElementById("idpagoparcial").value:0,this.diasplazopagocredito=document.getElementById("idplazopagoparcial")?document.getElementById("idplazopagoparcial").value:0,console.log(this.pagocreditoparcial),console.log(this.plazopagocredito),console.log(this.diasplazopagocredito),this.formadepagocredito==="2"&&(Number(this.pagocreditoparcial)>=Number(this.total)||Number(this.pagocreditoparcial)===0)?(f.create({message:"Monto del pago parcial debe ser Mayor que cero (0) y Menor al monto total de la venta",type:"negative"}),console.log("Monto del pago parcial debe ser Mayor que cero (0) y Menor al monto total de la venta")):this.plazopagocredito==="2"&&Number(this.diasplazopagocredito)===0?f.create({message:"Los d\xEDas de plazo deben ser mayor a cero (0)",type:"negative"}):(this.modalrealizarventa=!0,this.modalformasdepago=!1)},realizarVenta(){const e=this,a={idhold:this.idhold,formadepago:this.formadepago,abono:this.pagocreditoparcial,fechavence:this.diasplazopagocredito>0?M().add(this.diasplazopagocredito,"days").format("YYYY-MM-DD"):null,tasausd:this.tasausd,totalusd:this.totalusd,idempresa:sessionStorage.getItem("co_empresa")};console.log(this.diasplazopagocredito),console.log(a),v.post(w+"ventas/setventa",a).then(async n=>{const u=n.data;console.log(u.success),u.success?(e.idventa=u.resp.idventa,e.abrirDetalleInvoive()):f.create({message:u.resp.message,type:"negative"})}).catch(n=>{f.create({message:"Problemas al REALIZAR venta "+n,type:"negative"})}),this.modalrealizarventa=!1},abrirBuscarItem(){this.nombrecliente.length===0?(console.log("Debe buscar cliente"),this.abrirBuscarCliente()):(this.buscaritem=!0,this.textitem="")},abrirBuscarCliente(){this.modalcliente=!0,this.documento="",console.log(this.optionsdocumento[0]),this.modeldocumento=this.optionsdocumento[0],this.limpiarCliente()},limpiarCliente(){this.nombrecliente="",this.telefonocliente="",this.correocliente="",this.direccioncliente="",this.noencontrado=!1,this.encontrado=!1,this.clientebuscado=!1,this.dsbBtnCrearCliente=!0},listarTiposDocumentos(){v.get(w+"tipodocumento").then(async e=>{const a=e.data.data;this.optionsdocumento=[];for(const n in a){const u={};u.cod=a[n].id,u.tipodocumento=a[n].tipodocumento,u.abrev=a[n].abrev,this.optionsdocumento.push(u)}}).catch(e=>{f.create({message:"Problemas al listar Tipos"+e,type:"negative"})})},buscarCliente(){if(this.limpiarCliente(),!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}const e={idtipodocumento:this.modeldocumento.cod,documento:this.documento};v.post(w+"clientes/buscar",e).then(async a=>{const n=a.data.resp;n.length>0?(this.idcliente=n[0].id,this.nombrecliente=n[0].nombre,this.telefonocliente=n[0].telefono,this.correocliente=n[0].correo,this.direccioncliente=n[0].direccion,this.noencontrado=!1,this.encontrado=!0):(this.noencontrado=!0,this.encontrado=!1),this.clientebuscado=!0,this.dsbBtnCrearCliente=!1}).catch(a=>{f.create({message:"Problemas al buscar cliente"+a,type:"negative"})})},crearCliente(){if(!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}if(this.nombrecliente.length===0){f.create({message:"Debe agregar NOMBRE",type:"info"});return}if(this.encontrado)this.modalcliente=!1,this.idclienteventa=this.idcliente,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(this.idcliente,this.idusuario);else{const e={idtipodocumento:this.modeldocumento.cod,documento:this.documento,nombre:this.nombrecliente,telefono:this.telefonocliente,correo:this.correocliente,direccion:this.direccioncliente};v.post(w+"clientes/crear",e).then(async a=>{const n=a.data.resp;n&&(this.modalcliente=!1,this.idclienteventa=n,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(n,this.idusuario))}).catch(a=>{f.create({message:"Problemas al crear cliente"+a,type:"negative"})})}},crearHolds(e,a){const u={idcliente:e,idusuario:a,idtipofactura:1};v.post(w+"ventas/setholds",u).then(async c=>{const k=c.data.resp;k&&(this.idhold=k.idhold,this.fechaholds=M(k.fecha).format("DD/MM/YYYY"))}).catch(c=>{f.create({message:"Problemas al crear hold de venta"+c,type:"negative"})})},async listarHolds(){this.nombrecliente="",await v.get(w+"ventas/gethols/"+sessionStorage.getItem("id_usuario")).then(async e=>{const a=e.data.resp.length>0?e.data.resp[0]:null;console.log(a),this.holds=[],this.slide=1,this.subtotal=0,this.impuesto=0,this.total=0,a&&(this.idcliente=a.idcliente,this.nombrecliente=a.nombre,this.documentoabrev=a.abrev,this.documentoclienteventa=a.abrev+" "+a.documento,this.documentoclientesolo=a.documento,this.idhold=a.idhold,this.fechaholds=M(a.fecha).format("DD/MM/YYYY"),await v.get(w+"ventas/getitemshols/"+this.idhold).then(async n=>{this.holds=n.data.resp;for(const u in this.holds){const c=this.holds[u],k=c.precio*c.cantidad,s=k*c.tasa/100,m=s+k;this.subtotal=(Number(this.subtotal)+k).toFixed(2),this.impuesto=(Number(this.impuesto)+s).toFixed(2),this.total=(Number(this.total)+m).toFixed(2)}this.slide=this.holds.length>0?2:1}).catch(n=>{f.create({message:"Problemas al listar items Holds"+n,type:"negative"})})),this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd}).catch(e=>{f.create({message:"Problemas al listar Holds"+e,type:"negative"})})},primeraletra(e){return e[0]},colorLetra(e){const a=e[0].charCodeAt(0);return"#"+a+"0"},async cargar(){const e=await v.get(w+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(a=>{f.create({message:"Problemas al listar Configuraci\xF3n"+a,type:"negative"})});return console.log(e),e.data.resp}},watch:{textitem(e){console.log("textitem"),console.log(e),this.buscadoproducto=!1,e.length>0?this.rowsproductosfiltre=this.rowsproductos.filter(a=>!!(a.producto.toUpperCase().includes(e.toUpperCase())||a.sku&&a.sku.includes(e))):this.rowsproductosfiltre=this.rowsproductos,this.buscadoproducto=!0,this.rowsproductosfiltre=this.rowsproductosfiltre.slice().reverse(),console.log(this.rowsproductosfiltre)}},async mounted(){const e=await this.cargar();this.tasausd=e.tasabcv,this.empresa=e.empresa,this.rif=e.rif,this.direccion=e.direccion,this.telefono=e.telefono,this.email=e.email,this.tipomoneda=e.tipomoneda,this.prefijo=e.tipomoneda==="1"?"Bs.":"$",this.prefijo2=e.tipomoneda==="1"?"$":"Bs.",this.mostrartotal=e.mostrartotal,console.log("this.tasausd"),console.log(this.tasausd),await this.listarTiposDocumentos(),await this.listarHolds(),await this.listarProductos();const a=this;document.addEventListener("keydown",function(n){console.log(n.key),n.key==="F2"&&(n.preventDefault(),a.abrirBuscarItem()),n.key==="F3"&&(n.preventDefault(),a.abrirBuscarCliente()),n.key==="F4"&&(a.dsbBtnCrearCliente||(n.preventDefault(),a.crearCliente())),n.key==="F6"&&(a.holds.length<=0?f.create({message:"No tiene venta",type:"info"}):(n.preventDefault(),a.abrirRealizarVenta()))})}}),d=e=>(ae("data-v-61004bec"),e=e(),se(),e),ue={class:"row"},pe={class:"col-12 col-md-4 bd-left bd-top"},he={class:"row"},me={class:"col-6 col-md-12"},fe=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Cliente:",-1)),ge={class:"negrita ellipsis",style:{"margin-bottom":"10px"}},ye={class:"col-6 col-md-12"},be=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Documento:",-1)),_e={class:"negrita ellipsis"},ve={class:"col-5 col-md-4 bd-left bd-top"},we={class:"row"},Ce=d(()=>t("div",{class:"col-3 col-md-2 logo-bcv"},[t("img",{src:"logo_bcv.png"})],-1)),ke={class:"col-9 col-md-10"},xe=d(()=>t("div",{class:"texto-pequeno ellipsis"},"\u{1F5D3}\uFE0F Fecha de venta:",-1)),Ve={class:"negrita",style:{"font-size":"12px"}},Ie=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Tasa del d\xEDa (BCV):",-1)),Fe={class:"col-7 col-md-4 bd-left bd-top"},Ne={class:"row"},De=d(()=>t("div",{class:"col-1"},[t("div",{class:"texto-pequeno ellipsis"},"\u{1F4B5} "),t("div",{class:"texto-pequeno ellipsis"},"\u{1F3DB}\uFE0F "),t("div",{class:"texto-pequeno ellipsis"},"\u{1F3F7}\uFE0F ")],-1)),ze={class:"col"},qe=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Subtotal: ",-1)),je=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Impuesto: ",-1)),Be=d(()=>t("div",{class:"texto-pequeno ellipsis"},"Descuento: ",-1)),Ae={class:"col"},Pe={class:"negrita ellipsis"},Ue={class:"negrita ellipsis"},Te={class:"negrita ellipsis"},Qe={class:"q-px-md q-py-sm q-gutter-sm row items-center justify-between"},Me={class:"col-12 col-md-8 text-center"},Ee={unelevated:"",class:"row"},He={class:"col-12 col-md-3 text-center q-mt-md"},Se={class:"row"},$e={key:1,class:"listarcategoriasconitem col"},Ye={class:"row justify-center"},Oe={class:"col no-wrap"},Le={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Re={class:"q-mb-none"},Ge={class:"row no-wrap"},Ke={class:"overlay-content",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white",background:"rgba(0, 0, 0, 0.5)"}},Ze={class:"col-8"},Je=["id","value","onInput"],We=["id"],Xe=d(()=>t("span",{style:{"font-size":"12px","margin-right":"10px"}},"Cantidad",-1)),et=["id","value","onInput"],tt=d(()=>t("div",{class:"text-center"},[t("h6",null,"Agregar Item")],-1)),ot={style:{display:"flex"}},at={style:{"margin-right":"10px"}},st={class:"tarjeticainside mr-2 texto-pequeno",style:{height:"auto"}},lt={class:"row q-mt-sm"},it={class:"col-4 text-left"},nt=d(()=>t("span",{class:"color-texto texto-pequeno"},"SKU: ",-1)),dt={class:"col-4 text-left"},rt=d(()=>t("span",{class:"color-texto texto-pequeno"},"Unidad: ",-1)),ct={class:"col-4 text-left"},ut=d(()=>t("span",{class:"color-texto texto-pequeno"},"Impuesto: ",-1)),pt=d(()=>t("span",{class:"color-texto texto-pequeno"},"Precio: ",-1)),ht=d(()=>t("div",{class:"text-center"},[t("h6",null,"Agregar cliente")],-1)),mt={class:""},ft={class:"row"},gt={key:0,class:"noencontrado text-center"},yt=d(()=>t("p",{class:"text-noencontrado"},"Lo sentimos, no existe un cliente con ese documento",-1)),bt=[yt],_t={key:1,class:"encontrado text-center"},vt=d(()=>t("p",{class:"text-encontrado"},"Cliente encontrado",-1)),wt=[vt],Ct=d(()=>t("div",{class:"text-center",style:{padding:"10px"}},[t("h6",null,"Eliminar venta")],-1)),kt=d(()=>t("div",{class:"text-center"},[t("h6",null,"Realizar venta")],-1)),xt=d(()=>t("div",{class:"text-p color-texto",style:{"margin-left":"10px"}}," \xBFDesea realizar esta venta?",-1)),Vt={class:"color-texto",style:{width:"100%"}},It=d(()=>t("td",{style:{width:"35%"}},"Raz\xF3n social:",-1)),Ft={style:{"font-weight":"bold"}},Nt={style:{"font-weight":"bold"}},Dt=d(()=>t("td",null,"Fecha:",-1)),zt={style:{"font-weight":"bold"}},qt={class:"color-texto",style:{width:"100%"}},jt=d(()=>t("tr",{style:{"font-weight":"bold","font-size":"11px"}},[t("td",{class:"rayafactura rayaarriba"},"Producto"),t("td",{class:"rayafactura rayaarriba"},"Precio"),t("td",{class:"rayafactura rayaarriba"},"Cant"),t("td",{class:"rayafactura rayaarriba"},"Imp"),t("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),Bt={style:{"font-size":"11px"}},At={style:{width:"130px"}},Pt={style:{"text-align":"right"}},Ut={style:{"text-align":"center"}},Tt={style:{"text-align":"center"}},Qt={style:{"text-align":"right"}},Mt={key:0},Et={style:{"font-style":"italic","font-size":"10px"}},Ht={key:0},St=d(()=>t("td",null,null,-1)),$t=d(()=>t("td",null,null,-1)),Yt=d(()=>t("td",null,null,-1)),Ot=d(()=>t("td",null,null,-1)),Lt=d(()=>t("tr",null,[t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"})],-1)),Rt={class:"color-texto",style:{width:"100%"}},Gt={class:"letratotalesfactura"},Kt=d(()=>t("td",{style:{width:"45%"}},"Forma de pago",-1)),Zt={class:"rayaizq"},Jt={style:{"text-align":"right"}},Wt={class:"letratotalesfactura"},Xt={class:"rayaizq"},eo={style:{"text-align":"right"}},to={class:"letratotalesfactura"},oo={class:"rayaizq"},ao={style:{"text-align":"right"}},so={class:"letratotalesfactura"},lo={class:"rayafactura rayaizq"},io={class:"rayafactura",style:{"text-align":"right"}},no={class:"letratotalesfactura",style:{"font-weight":"bold"}},ro=d(()=>t("td",null,null,-1)),co={style:{"text-align":"right"}},uo={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},po=d(()=>t("td",null,null,-1)),ho={style:{"text-align":"right"}},mo={id:"areaImprimir",style:{width:"100%"}},fo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},go={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},yo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},bo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},_o={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},vo={style:{display:"flex","align-items":"left",width:"100%"}},wo={class:"numero",style:{"margin-left":"10px"}},Co={class:"numero",style:{"margin-left":"10px"}},ko={style:{display:"flex","align-items":"center","font-size":"11px"}},xo=d(()=>t("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),Vo={class:"control",style:{"margin-left":"10px"}},Io={style:{width:"100%"}},Fo={class:"letratotalesfactura",style:{"line-height":"10px"}},No=d(()=>t("td",{style:{width:"40%"}},"Raz\xF3n social:",-1)),Do={style:{"font-weight":"bold"}},zo={class:"letratotalesfactura",style:{"line-height":"10px"}},qo={style:{"font-weight":"bold"}},jo={class:"letratotalesfactura",style:{"line-height":"10px"}},Bo=d(()=>t("td",null,"Fecha:",-1)),Ao={style:{"font-weight":"bold"}},Po={class:"letratotalesfactura",style:{"line-height":"10px"}},Uo=d(()=>t("td",null,"Cajero:",-1)),To={style:{"font-weight":"bold"}},Qo={style:{width:"100%"}},Mo=d(()=>t("tr",{style:{"font-weight":"bold","font-size":"11px"}},[t("td",{class:"rayafactura rayaarriba"},"Producto"),t("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Precio"),t("td",{class:"rayafactura rayaarriba"},"Cant."),t("td",{class:"rayafactura rayaarriba"},"Imp"),t("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),Eo={style:{"font-size":"11px"}},Ho={style:{width:"130px"}},So={style:{"text-align":"right"}},$o={style:{"text-align":"center"}},Yo={style:{"text-align":"center"}},Oo={style:{"text-align":"right"}},Lo={key:0,style:{"line-height":"10px"}},Ro={style:{"font-style":"italic","font-size":"9px"}},Go={key:0},Ko=d(()=>t("td",null,null,-1)),Zo=d(()=>t("td",null,null,-1)),Jo=d(()=>t("td",null,null,-1)),Wo=d(()=>t("td",null,null,-1)),Xo=d(()=>t("tr",null,[t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"})],-1)),ea={style:{width:"100%"}},ta={class:"letratotalesfactura",style:{"line-height":"10px"}},oa=d(()=>t("td",{style:{width:"40%"}},null,-1)),aa={style:{"text-align":"right"}},sa={class:"letratotalesfactura",style:{"line-height":"10px"}},la=d(()=>t("td",null,null,-1)),ia={style:{"text-align":"right"}},na={class:"letratotalesfactura",style:{"line-height":"10px"}},da=d(()=>t("td",null,null,-1)),ra={style:{"text-align":"right"}},ca={class:"letratotalesfactura",style:{"line-height":"10px"}},ua=d(()=>t("td",null,null,-1)),pa={class:"rayafactura"},ha={class:"rayafactura",style:{"text-align":"right"}},ma={class:"letratotalesfactura",style:{"font-weight":"bold"}},fa=d(()=>t("td",null,null,-1)),ga={style:{"text-align":"right"}},ya={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},ba=d(()=>t("td",null,null,-1)),_a={style:{"text-align":"right"}},va=d(()=>t("iframe",{name:"print_frame",width:"0",height:"0",frameborder:"0",src:"about:blank"},null,-1)),wa=d(()=>t("div",{class:"text-center"},[t("h6",null,"Anular documento")],-1)),Ca=d(()=>t("div",{style:{"margin-left":"10px"}}," Buscar n\xFAmero interno",-1)),ka={class:"row"},xa={style:{display:"flex","align-items":"left",width:"100%"}},Va={class:"numero",style:{"margin-left":"10px"}},Ia={class:"numero",style:{"margin-left":"10px"}},Fa={style:{display:"flex","align-items":"center"}},Na=d(()=>t("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),Da={class:"control",style:{"margin-left":"10px"}},za={style:{width:"100%"}},qa={class:"letratotalesfactura"},ja=d(()=>t("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),Ba={style:{"font-weight":"bold"}},Aa={class:"letratotalesfactura"},Pa={style:{"font-weight":"bold"}},Ua={class:"letratotalesfactura"},Ta=d(()=>t("td",null,"Fecha:",-1)),Qa={style:{"font-weight":"bold"}},Ma={class:"letratotalesfactura"},Ea=d(()=>t("td",null,"Cajero:",-1)),Ha={style:{"font-weight":"bold"}},Sa={style:{width:"100%"}},$a=d(()=>t("tr",{style:{"font-weight":"bold","font-size":"11px"}},[t("td",{class:"rayafactura rayaarriba"},"Producto"),t("td",{class:"rayafactura rayaarriba"},"Precio"),t("td",{class:"rayafactura rayaarriba"},"Cant."),t("td",{class:"rayafactura rayaarriba"},"Imp"),t("td",{class:"rayafactura rayaarriba"},"Total")],-1)),Ya={style:{width:"140px","font-style":"italic"}},Oa={style:{"text-align":"right"}},La=d(()=>t("tr",null,[t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"}),t("td",{class:"rayafactura"})],-1)),Ra={style:{width:"100%"}},Ga={class:"letratotalesfactura"},Ka=d(()=>t("td",{style:{width:"40%"}},null,-1)),Za={style:{"text-align":"right"}},Ja={class:"letratotalesfactura"},Wa=d(()=>t("td",null,null,-1)),Xa={style:{"text-align":"right"}},es={class:"letratotalesfactura"},ts=d(()=>t("td",null,null,-1)),os={style:{"text-align":"right"}},as={class:"letratotalesfactura"},ss=d(()=>t("td",null,null,-1)),ls={class:"rayafactura"},is={class:"rayafactura",style:{"text-align":"right"}},ns={class:"letratotalesfactura",style:{"font-weight":"bold"}},ds=d(()=>t("td",null,null,-1)),rs={style:{"text-align":"right"}},cs={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},us=d(()=>t("td",null,null,-1)),ps={style:{"text-align":"right"}},hs=d(()=>t("div",{class:"text-center"},[t("h6",null,"Editar comentario")],-1)),ms=d(()=>t("div",{class:"text-center"},[t("h6",null,"Formas de Pago")],-1)),fs={class:"q-gutter-sm",style:{display:"grid"}},gs={key:0,style:{display:"grid","margin-left":"17px"}},ys={style:{display:"flex","align-items":"center"}},bs={style:{"margin-right":"10px","margin-left":"5px"}},_s=["disabled","max"],vs={style:{display:"grid"}},ws=d(()=>t("span",{style:{"font-size":"12px","margin-left":"10px"}},"Plazo de pago",-1)),Cs={style:{display:"flex","align-items":"center"}},ks=["disabled"];function xs(e,a,n,u,c,k){return h(),N(ne,null,{default:i(()=>[o(de,{class:"fondo-gris shadow-up-9"},{default:i(()=>[t("div",ue,[t("div",pe,[t("div",he,[t("div",me,[fe,t("div",ge,l(e.nombrecliente.length>0?e.nombrecliente:"S/INF"),1)]),t("div",ye,[be,t("div",_e,l(e.documentoclienteventa),1)])])]),t("div",ve,[t("div",we,[Ce,t("div",ke,[xe,t("div",Ve,l(e.nombrecliente.length>0?e.fechaholds:e.fechahoy),1),Ie,o($,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:i(()=>[_("\u{1F1FB}\u{1F1EA} Bs."+l(parseFloat(e.tasausd).toFixed(2)),1)]),_:1})])])]),t("div",Fe,[t("div",Ne,[De,t("div",ze,[qe,je,Be,o($,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:i(()=>[_(l(e.prefijo2)+" "+l(e.totalusd.toFixed(2)),1)]),_:1})]),t("div",Ae,[t("div",Pe,l(e.prefijo)+" "+l(Number(e.subtotal).toFixed(2)),1),t("div",Ue,l(e.prefijo)+" "+l(Number(e.impuesto).toFixed(2)),1),t("div",Te,l(e.prefijo)+" "+l(Number(e.descuento).toFixed(2)),1),o($,{dense:"",class:"color-degradado-vnz negrita ellipsis text-degradado color-texto"},{default:i(()=>[_(l(e.prefijo)+" "+l(Number(e.total).toFixed(2)),1)]),_:1})])])])])]),_:1}),t("div",Qe,[t("div",Me,[t("div",Ee,[o(p,{class:"col-6 col-md-3","no-caps":"",unelevated:"",color:"accent",icon:"add",onClick:e.abrirBuscarItem,label:"Productos (F2)"},null,8,["onClick"]),o(p,{class:"col-6 col-md-3",outline:"","no-caps":"",unelevated:"",color:"accent","icon-right":"person",onClick:e.abrirBuscarCliente,label:"Cliente (F3)"},null,8,["onClick"]),o(p,{outline:"",unelevated:"","no-caps":"",color:"accent",icon:"cancel_presentation",onClick:e.abrirBuscarFactura,label:"Anular documento",class:"boton-banner col-6 col-md-3"},null,8,["onClick"]),o(p,{outline:"",unelevated:"","no-caps":"",color:"accent","icon-right":"settings_backup_restore",onClick:e.abrirBuscarFactura,label:"Devoluciones",class:"boton-banner col-6 col-md-3",disable:!0},null,8,["onClick"])])]),t("div",He,[o(re,{unelevated:"",style:{display:"flex","justify-content":"center"}},{default:i(()=>[o(p,{outline:"",unelevated:"","no-caps":"",color:"primary","icon-right":"close",onClick:e.openDeleteHolds,label:"Cancelar",disable:e.holds.length<=0},null,8,["onClick","disable"]),o(p,{"no-caps":"",unelevated:"",class:"gradient-btn","icon-right":"point_of_sale",onClick:e.abrirFormasDePago,label:"Realizar venta (F6)",disable:e.holds.length<=0},null,8,["onClick","disable"])]),_:1})])]),t("div",Se,[e.slide===1?(h(),N(Y,{key:0,src:"img/sin-productos.png",style:{width:"333px",height:"auto",display:"block",margin:"auto"},fit:"contain"})):(h(),y("div",$e,[t("div",Ye,[(h(!0),y(D,null,U(e.holds,s=>(h(),N(q,{class:"my-card custom-shadow custom-border-radius col-md-5 col-sm-11 col-xs-11",bordered:"",key:s,style:{margin:"10px"}},{default:i(()=>[t("div",Oe,[o(g,{class:"q-pa-sm"},{default:i(()=>[t("div",Le,[t("h6",Re,l(s.producto),1),o(p,{round:"",unelevated:"",color:"red-1","text-color":"red-10",icon:"delete",onClick:m=>e.deleteItemHolds(s),style:{margin:"0"}},null,8,["onClick"])])]),_:2},1024),o(b),t("div",Ge,[o(Y,{class:"borde-cust-up col-4",src:"img/no-photo-prod.avif"},{default:i(()=>[t("div",Ke,[o(H,{"text-color":"white",style:L("background: "+e.colorLetra(s.producto)),size:"40px"},{default:i(()=>[_(l(e.primeraletra(s.producto)),1)]),_:2},1032,["style"]),t("div",null,[t("b",null,l(s.categoria),1)]),o(R,{color:s.intipoproducto==="1"?"blue-1":s.intipoproducto==="2"?"orange-1":"purple-1","text-color":s.intipoproducto==="1"?"blue-10":s.intipoproducto==="2"?"orange-10":"purple-10",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:i(()=>[_(l(s.intipoproducto==="1"?"Simple":s.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color","text-color"])])]),_:2},1024),t("div",Ze,[o(b),o(le,null,{default:i(()=>[o(Q,{style:{"padding-left":"7px"}},{default:i(()=>[o(P,{style:{display:"-webkit-inline-box"}},{default:i(()=>[t("div",null,[o(F,{caption:""},{default:i(()=>[_("Precio unidad:")]),_:1}),o(F,null,{default:i(()=>[_(l(s.precioreal.toFixed(2)),1)]),_:2},1024)])]),_:2},1024),o(P,{side:""},{default:i(()=>[o(F,{caption:""},{default:i(()=>[_("Precio venta:")]),_:1}),o(F,null,{default:i(()=>[t("input",{class:"inputCantidad",type:"number",min:"0",id:"precioventa"+s.idproducto,value:s.precio.toFixed(2),onInput:m=>(e.calcularMonto(s),e.updprecioitemholds(s)),style:{"font-size":"10px","font-weight":"bold"},onkeydown:"return event.keyCode !== 69 && event.keyCode !== 189"},null,40,Je)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(Q,{style:{"padding-left":"7px"}},{default:i(()=>[o(P,{style:{display:"-webkit-inline-box"}},{default:i(()=>[t("div",null,[o(F,{caption:""},{default:i(()=>[_("Impuesto (%):")]),_:1}),o(F,null,{default:i(()=>[_(l(s.tasa),1)]),_:2},1024)])]),_:2},1024),o(P,{side:""},{default:i(()=>[o(F,{caption:""},{default:i(()=>[_("Comentario:")]),_:1}),o(p,{unelevated:"",class:"btncantidad",color:"blue-1","text-color":"blue-10",icon:"question_answer",onClick:m=>e.abrirComentario(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(Q,{style:{"padding-left":"7px"}},{default:i(()=>[o(P,{style:{display:"-webkit-inline-box"}},{default:i(()=>[t("div",null,[o(F,{caption:""},{default:i(()=>[_("Total:")]),_:1}),t("span",{id:"monto"+s.idproducto,class:"precio"},l(e.prefijo)+" "+l(s.total.toFixed(2)),9,We)])]),_:2},1024)]),_:2},1024)]),_:2},1024),o(b),o(z,{align:"right"},{default:i(()=>[Xe,t("input",{class:"inputCantidad",id:"cantidad"+s.idproducto,value:s.cantidad,onInput:m=>e.calcularMonto(s),style:{"margin-right":"10px"}},null,40,et),o(p,{round:"",unelevated:"",class:"btncantidad",icon:"remove",color:"red-1","text-color":"red-10",onClick:m=>e.actualizarCantidad(s,2),style:{}},null,8,["onClick"]),o(p,{round:"",unelevated:"",class:"btncantidad",color:"green-1","text-color":"green-10",icon:"add",onClick:m=>e.actualizarCantidad(s,1)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1024))),128))])]))]),o(A,{modelValue:e.buscaritem,"onUpdate:modelValue":a[1]||(a[1]=s=>e.buscaritem=s)},{default:i(()=>[o(q,{class:"custom-shadow custom-border-radius",style:{width:"350px",padding:"5px"},bordered:""},{default:i(()=>[o(g,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[tt,V(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),o(g,{style:{padding:"5px"}},{default:i(()=>[o(B,{color:"blue-grey-3",outlined:"",standout:"","bottom-slots":"",modelValue:e.textitem,"onUpdate:modelValue":a[0]||(a[0]=s=>e.textitem=s),label:"Nombre/Sku Producto",counter:"",autofocus:""},{prepend:i(()=>[o(j,{name:"search"})]),hint:i(()=>[_(" Cantidad de letras ")]),_:1},8,["modelValue"])]),_:1}),o(b),e.buscadoproducto?(h(),N(g,{key:0},{default:i(()=>[o(ie,{style:{height:"64vh"}},{default:i(()=>[(h(!0),y(D,null,U(e.rowsproductosfiltre,s=>(h(),N(q,{key:s.id,class:"custom-shadow custom-border-radius q-mb-md",bordered:""},{default:i(()=>[o(Q,{class:"q-pa-sm"},{default:i(()=>[o(P,null,{default:i(()=>[o(F,null,{default:i(()=>[_(l(s.producto),1)]),_:2},1024),o(F,{caption:""},{default:i(()=>[_(l(s.categoria),1)]),_:2},1024)]),_:2},1024),o(P,{side:""},{default:i(()=>[o(p,{round:"",unelevated:"",color:"deep-orange-1","text-color":"deep-orange-8",icon:"add_shopping_cart",onClick:m=>e.additemholds(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(Q,{class:""},{default:i(()=>[t("div",ot,[t("div",at,[o(F,null,{default:i(()=>[o(H,{"text-color":"white",style:L("background: "+e.colorLetra(s.producto))},{default:i(()=>[_(l(e.primeraletra(s.producto)),1)]),_:2},1032,["style"])]),_:2},1024),o(F,null,{default:i(()=>[o(R,{color:s.intipoproducto==="1"?"light-green-5":s.intipoproducto==="2"?"deep-orange-5":"orange-5",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:i(()=>[_(l(s.intipoproducto==="1"?"Simple":s.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color"])]),_:2},1024)]),t("div",null,[o(F,{caption:""},{default:i(()=>[_(" Descripci\xF3n:")]),_:1}),o(F,{style:{}},{default:i(()=>[t("p",st,l(s.descripcion),1)]),_:2},1024)])])]),_:2},1024),o(b),o(Q,{class:"q-pa-sm"},{default:i(()=>[o(P,{class:"q-ml-md"},{default:i(()=>[t("div",lt,[t("div",it,[nt,t("p",null,l(s.sku),1)]),t("div",dt,[rt,t("p",null,l(s.unidad),1)]),t("div",ct,[ut,t("p",null,l(s.impuesto),1)])])]),_:2},1024)]),_:2},1024),o(z,{class:"tarjeticainside",align:"right"},{default:i(()=>[t("h6",null,[pt,_(" "+l(e.prefijo)+" "+l(Number(s.precio).toFixed(2)),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):C("",!0),o(b),o(z,{align:"right"},{default:i(()=>[V(o(p,{outline:"","no-caps":"",label:"Cancelar",color:"primary"},null,512),[[I]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(A,{modelValue:e.modalcliente,"onUpdate:modelValue":a[8]||(a[8]=s=>e.modalcliente=s)},{default:i(()=>[o(q,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:i(()=>[o(g,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[ht,V(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),o(b),o(g,{style:{padding:"15px"}},{default:i(()=>[t("div",mt,[o(K,{outlined:"",modelValue:e.modeldocumento,"onUpdate:modelValue":a[2]||(a[2]=s=>e.modeldocumento=s),options:e.optionsdocumento,"option-label":"tipodocumento","option-value":"cod",label:"Seleccione tipo documento"},{prepend:i(()=>[o(j,{name:"badge"})]),_:1},8,["modelValue","options"])])]),_:1}),o(g,{style:{padding:"10px 15px"}},{default:i(()=>[t("div",ft,[o(B,{class:"col-10",outlined:"",modelValue:e.documento,"onUpdate:modelValue":a[3]||(a[3]=s=>e.documento=s),label:"Documento","stack-label":"",autofocus:"",onKeyup:te(e.buscarCliente,["enter"])},{prepend:i(()=>[o(j,{name:"badge"})]),_:1},8,["modelValue","onKeyup"]),o(p,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:e.buscarCliente},null,8,["onClick"])])]),_:1}),e.noencontrado?(h(),y("div",gt,bt)):C("",!0),e.encontrado?(h(),y("div",_t,wt)):C("",!0),e.clientebuscado?(h(),N(b,{key:2})):C("",!0),e.clientebuscado?(h(),N(g,{key:3,style:{padding:"15px"}},{default:i(()=>[o(B,{outlined:"",modelValue:e.nombrecliente,"onUpdate:modelValue":a[4]||(a[4]=s=>e.nombrecliente=s),label:"Nombre del cliente","stack-label":""},{prepend:i(()=>[o(j,{name:"badge"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),e.clientebuscado?(h(),N(g,{key:4,style:{padding:"15px"}},{default:i(()=>[o(B,{outlined:"",modelValue:e.correocliente,"onUpdate:modelValue":a[5]||(a[5]=s=>e.correocliente=s),label:"Email del cliente","stack-label":""},{prepend:i(()=>[o(j,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),e.clientebuscado?(h(),N(g,{key:5,style:{padding:"15px"}},{default:i(()=>[o(B,{outlined:"",modelValue:e.telefonocliente,"onUpdate:modelValue":a[6]||(a[6]=s=>e.telefonocliente=s),label:"Tel\xE9fono del cliente","stack-label":""},{prepend:i(()=>[o(j,{name:"phone"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),e.clientebuscado?(h(),N(g,{key:6,style:{padding:"15px"}},{default:i(()=>[o(B,{outlined:"",modelValue:e.direccioncliente,"onUpdate:modelValue":a[7]||(a[7]=s=>e.direccioncliente=s),label:"Direcci\xF3n del cliente","stack-label":""},{prepend:i(()=>[o(j,{name:"location_on"})]),_:1},8,["modelValue"])]),_:1})):C("",!0),o(b),o(z,{align:"center"},{default:i(()=>[V(o(p,{outline:"","no-caps":"",label:"Cancelar","icon-right":"close",color:"primary",onClick:e.limpiarCliente},null,8,["onClick"]),[[I]]),o(p,{unelevated:"","no-caps":"",label:"Aceptar (F4)",color:"primary","icon-right":"check",onClick:e.crearCliente,disable:e.dsbBtnCrearCliente},null,8,["onClick","disable"])]),_:1}),o(z,{align:"center",class:"color-texto"},{default:i(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(A,{modelValue:e.modaldeleteholds,"onUpdate:modelValue":a[10]||(a[10]=s=>e.modaldeleteholds=s),persistent:""},{default:i(()=>[o(q,{class:"custom-shadow custom-border-radius",style:{width:"350px"}},{default:i(()=>[o(g,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[Ct,V(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),o(g,null,{default:i(()=>[o(Y,{class:"rounded-borders col-3",src:"img/delete.png"})]),_:1}),o(z,{align:"center",style:{"margin-bottom":"10px"}},{default:i(()=>[V(o(p,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"primary"},null,512),[[I]]),o(p,{unelevated:"","no-caps":"",label:"Aceptar",color:"primary","icon-right":"check",onClick:a[9]||(a[9]=s=>e.deleteHolds(1))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(A,{modelValue:e.modalrealizarventa,"onUpdate:modelValue":a[11]||(a[11]=s=>e.modalrealizarventa=s),persistent:""},{default:i(()=>[o(q,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:i(()=>[o(g,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[kt,V(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),o(g,{style:{display:"flex","align-items":"center"}},{default:i(()=>[o(H,{color:"primary","text-color":"white"},{default:i(()=>[o(j,{name:"shopping_cart_checkout"})]),_:1}),xt]),_:1}),o(b),o(g,null,{default:i(()=>[t("table",Vt,[t("tr",null,[It,t("td",Ft,l(e.nombrecliente),1)]),t("tr",null,[t("td",null,l(e.documentoabrev)+":",1),t("td",Nt,l(e.documentoclientesolo),1)]),t("tr",null,[Dt,t("td",zt,l(e.fechaholds),1)])]),t("table",qt,[jt,(h(!0),y(D,null,U(e.holds,s=>(h(),y(D,{key:s},[t("tr",Bt,[t("td",At,l(s.producto),1),t("td",Pt,l(s.precio.toFixed(2)),1),t("td",Ut,l(s.cantidad),1),t("td",Tt,l(s.tasa)+"%",1),t("td",Qt,l(s.total.toFixed(2)),1)]),s.comentario&&s.comentario.length>0?(h(),y("tr",Mt,[t("td",Et,[(h(!0),y(D,null,U(s.comentario.split("//"),m=>(h(),y(D,{key:m},[m.length>0?(h(),y("p",Ht,"- "+l(m),1)):C("",!0)],64))),128))]),St,$t,Yt,Ot])):C("",!0)],64))),128)),Lt]),t("table",Rt,[t("tr",Gt,[Kt,t("td",Zt,"Subtotal "+l(e.prefijo)+":",1),t("td",Jt,l(Number(e.subtotal).toFixed(2)),1)]),t("tr",Wt,[t("td",null,l(e.formadepago==="1"?"Contado":"Cr\xE9dito"),1),t("td",Xt,"Impuestos "+l(e.prefijo)+":",1),t("td",eo,l(Number(e.impuesto).toFixed(2)),1)]),t("tr",to,[t("td",null,l(e.formadepago==="2"&&e.formadepagocredito==="1"?"Abono "+e.prefijo+"0.00":e.formadepago==="2"&&e.formadepagocredito==="2"?"Abono "+e.prefijo+e.pagocreditoparcial:""),1),t("td",oo,"Descuentos "+l(e.prefijo)+":",1),t("td",ao,l(Number(e.descuento).toFixed(2)),1)]),t("tr",so,[t("td",null,l(e.formadepago==="2"&&e.plazopagocredito==="2"?"A "+e.diasplazopagocredito+" d\xEDas":""),1),t("td",lo,"IGTF 3% "+l(e.prefijo)+":",1),t("td",io,l(Number(e.igtf).toFixed(2)),1)]),t("tr",no,[ro,t("td",null,"Total "+l(e.prefijo)+":",1),t("td",co,l(Number(e.total).toFixed(2)),1)]),e.mostrartotal==="2"?(h(),y("tr",uo,[po,t("td",null,"Total "+l(e.prefijo2)+":",1),t("td",ho,l(Number(e.totalusd).toFixed(2)),1)])):C("",!0)])]),_:1}),o(b),o(z,{align:"center"},{default:i(()=>[V(o(p,{outline:"","no-caps":"","icon-right":"close",color:"primary",label:"Cancelar"},null,512),[[I]]),o(p,{unelevated:"","no-caps":"","icon-right":"check",color:"primary",label:"Aceptar",onClick:e.realizarVenta},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(A,{modelValue:e.modaldetalleinvoice,"onUpdate:modelValue":a[12]||(a[12]=s=>e.modaldetalleinvoice=s),persistent:""},{default:i(()=>[o(q,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"330px"}},{default:i(()=>[t("div",mo,[o(g,{style:{"justify-content":"center"}},{default:i(()=>[t("div",fo,l(e.empresa),1),t("div",go,l(e.rif),1),t("div",yo,l(e.direccion),1),t("div",bo,l(e.telefono),1),t("div",_o,l(e.email),1),o(b,{style:{margin:"20px 0 5px 0"}}),t("div",vo,[t("div",wo,l(e.detalleventa.tipofactura),1),t("div",Co,l(e.detalleventa.numerointerno),1)]),t("div",ko,[xo,t("div",Vo,l(e.detalleventa.numerocontrol),1)]),o(b,{style:{margin:"5px 0px"}}),t("table",Io,[t("tr",Fo,[No,t("td",Do,l(e.detalleventa.nombrecliente),1)]),t("tr",zo,[t("td",null,l(e.detalleventa.abrev),1),t("td",qo,l(e.detalleventa.documento),1)]),t("tr",jo,[Bo,t("td",Ao,l(e.fechaDetalle(e.detalleventa.fecha)),1)]),t("tr",Po,[Uo,t("td",To,l(e.detalleventa.usuario),1)])]),t("table",Qo,[Mo,(h(!0),y(D,null,U(e.ventas,s=>(h(),y(D,{key:s},[t("tr",Eo,[t("td",Ho,l(s.producto),1),t("td",So,l(Number(s.precio).toFixed(2)),1),t("td",$o,l(s.cantidad),1),t("td",Yo,l(s.tasa)+"%",1),t("td",Oo,l(Number(s.subtotal).toFixed(2)),1)]),s.comentario&&s.comentario.length>0?(h(),y("tr",Lo,[t("td",Ro,[(h(!0),y(D,null,U(s.comentario.split("//"),m=>(h(),y(D,{key:m},[m.length>0?(h(),y("p",Go,"- "+l(m),1)):C("",!0)],64))),128))]),Ko,Zo,Jo,Wo])):C("",!0)],64))),128)),Xo]),t("table",ea,[t("tr",ta,[oa,t("td",null,"Subtotal "+l(e.prefijo)+":",1),t("td",aa,l(e.detalleventa.subtotal.toFixed(2)),1)]),t("tr",sa,[la,t("td",null,"Impuestos "+l(e.prefijo)+":",1),t("td",ia,l(e.detalleventa.impuesto.toFixed(2)),1)]),t("tr",na,[da,t("td",null,"Descuentos "+l(e.prefijo)+":",1),t("td",ra,l(e.detalleventa.descuentos.toFixed(2)),1)]),t("tr",ca,[ua,t("td",pa,"IGTF 3% "+l(e.prefijo)+":",1),t("td",ha,l(e.detalleventa.igtf.toFixed(2)),1)]),t("tr",ma,[fa,t("td",null,"Total "+l(e.prefijo)+":",1),t("td",ga,l(e.detalleventa.total.toFixed(2)),1)]),e.mostrartotal==="2"?(h(),y("tr",ya,[ba,t("td",null,"Total "+l(e.prefijo2)+":",1),t("td",_a,l(e.detalleventa.totalusd.toFixed(2)),1)])):C("",!0)])]),_:1})]),va,o(b),o(z,{align:"center"},{default:i(()=>[V(o(p,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[I]]),o(p,{unelevated:"","no-caps":"",label:"Imprimir",color:"primary","icon-right":"check",onClick:e.imprimir},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(A,{modelValue:e.modalanular,"onUpdate:modelValue":a[14]||(a[14]=s=>e.modalanular=s),persistent:""},{default:i(()=>[o(q,{class:"custom-shadow custom-border-radius",style:{width:"350px"}},{default:i(()=>[o(g,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[wa,V(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),o(g,{style:{display:"flex","align-items":"center"}},{default:i(()=>[o(H,{color:"primary","text-color":"white"},{default:i(()=>[o(j,{name:"cancel_presentation"})]),_:1}),Ca]),_:1}),o(b),o(g,{style:{"justify-content":"center"}},{default:i(()=>[t("div",ka,[o(B,{class:"col-10",color:"blue-grey-3",outlined:"",modelValue:e.numerointernoanular,"onUpdate:modelValue":a[13]||(a[13]=s=>e.numerointernoanular=s),label:"N\xFAmero Interno","stack-label":"",autofocus:""},null,8,["modelValue"]),o(p,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:e.buscarFactura},null,8,["onClick"])])]),_:1}),o(b),e.facturabuscado?(h(),N(g,{key:0,style:{"justify-content":"center"}},{default:i(()=>[t("div",{class:oe(e.detalleventaanular.estatus==="1"?"procesada":"anulada"),style:{display:"flex","justify-content":"center","align-items":"center",width:"100%"}},l(e.detalleventaanular.estatus==="1"?"Procesada":"Anulada"),3),t("div",xa,[t("div",Va,l(e.detalleventaanular.tipofactura),1),t("div",Ia,l(e.detalleventaanular.numerointerno),1)]),t("div",Fa,[Na,t("div",Da,l(e.detalleventaanular.numerocontrol),1)]),o(b,{style:{margin:"10px 0px"}}),t("table",za,[t("tr",qa,[ja,t("td",Ba,l(e.detalleventaanular.nombrecliente),1)]),t("tr",Aa,[t("td",null,l(e.detalleventaanular.abrev),1),t("td",Pa,l(e.detalleventaanular.documento),1)]),t("tr",Ua,[Ta,t("td",Qa,l(e.fechaDetalle(e.detalleventaanular.fecha)),1)]),t("tr",Ma,[Ea,t("td",Ha,l(e.detalleventaanular.usuario),1)])]),t("table",Sa,[$a,(h(!0),y(D,null,U(e.ventasanular,s=>(h(),y("tr",{key:s,style:{"font-size":"11px"}},[t("td",Ya,l(s.producto),1),t("td",null,l(s.precio.toFixed(2)),1),t("td",null,l(s.cantidad),1),t("td",null,l(s.tasa)+"%",1),t("td",Oa,l(s.subtotal.toFixed(2)),1)]))),128)),La]),t("table",Ra,[t("tr",Ga,[Ka,t("td",null,"Subtotal "+l(e.prefijo)+":",1),t("td",Za,l(e.detalleventaanular.subtotal.toFixed(2)),1)]),t("tr",Ja,[Wa,t("td",null,"Impuestos "+l(e.prefijo)+":",1),t("td",Xa,l(e.detalleventaanular.impuesto.toFixed(2)),1)]),t("tr",es,[ts,t("td",null,"Descuentos "+l(e.prefijo)+":",1),t("td",os,l(e.detalleventaanular.descuentos.toFixed(2)),1)]),t("tr",as,[ss,t("td",ls,"IGTF 3% "+l(e.prefijo)+":",1),t("td",is,l(e.detalleventaanular.igtf.toFixed(2)),1)]),t("tr",ns,[ds,t("td",null,"Total "+l(e.prefijo)+":",1),t("td",rs,l(e.detalleventaanular.total.toFixed(2)),1)]),e.mostrartotal==="2"?(h(),y("tr",cs,[us,t("td",null,"Total "+l(e.prefijo2)+":",1),t("td",ps,l(e.detalleventaanular.totalusd.toFixed(2)),1)])):C("",!0)])]),_:1})):C("",!0),o(b),o(z,{align:"center"},{default:i(()=>[V(o(p,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[I]]),o(p,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",disable:e.btnDisableAnular,onClick:e.anularDocumento},null,8,["disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(A,{modelValue:e.modalcomentario,"onUpdate:modelValue":a[16]||(a[16]=s=>e.modalcomentario=s),persistent:""},{default:i(()=>[o(q,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"330px"}},{default:i(()=>[o(g,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[hs,V(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),o(g,{style:{display:"flex","align-items":"center"}},{default:i(()=>[o(B,{outlined:"",modelValue:e.comentario,"onUpdate:modelValue":a[15]||(a[15]=s=>e.comentario=s),label:"Descripci\xF3n de producto",rows:"6",dense:"",type:"textarea",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(b),o(z,{align:"center"},{default:i(()=>[V(o(p,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[I]]),o(p,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",onClick:e.updComentarioItemHolds},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(A,{modelValue:e.modalformasdepago,"onUpdate:modelValue":a[23]||(a[23]=s=>e.modalformasdepago=s),persistent:""},{default:i(()=>[o(q,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:i(()=>[o(g,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:i(()=>[ms,V(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])]),_:1}),o(b),o(g,{style:{height:"320px",width:"300px"}},{default:i(()=>[t("div",fs,[o(T,{modelValue:e.formadepago,"onUpdate:modelValue":a[17]||(a[17]=s=>e.formadepago=s),val:"1",label:"Contado: "+e.prefijo+" "+Number(e.total).toFixed(2),color:"positive"},null,8,["modelValue","label"]),o(T,{modelValue:e.formadepago,"onUpdate:modelValue":a[18]||(a[18]=s=>e.formadepago=s),val:"2",label:"Cr\xE9dito",color:"positive"},null,8,["modelValue"])]),e.formadepago==="2"?(h(),y("div",gs,[o(T,{modelValue:e.formadepagocredito,"onUpdate:modelValue":a[19]||(a[19]=s=>e.formadepagocredito=s),val:"1",label:"Total. Abono "+e.prefijo+" 0.00",color:"red"},null,8,["modelValue","label"]),t("div",ys,[o(T,{modelValue:e.formadepagocredito,"onUpdate:modelValue":a[20]||(a[20]=s=>e.formadepagocredito=s),val:"2",label:"Parcial.",color:"red"},null,8,["modelValue"]),t("span",bs,"Abono "+l(e.prefijo),1),t("input",{class:"inputCantidad",id:"idpagoparcial",value:"0",style:{"margin-right":"10px"},disabled:e.formadepagocredito==="1",type:"number",min:"0",max:e.total},null,8,_s)]),t("div",vs,[ws,o(T,{modelValue:e.plazopagocredito,"onUpdate:modelValue":a[21]||(a[21]=s=>e.plazopagocredito=s),val:"1",label:"No aplica",color:"blue"},null,8,["modelValue"]),t("div",Cs,[o(T,{modelValue:e.plazopagocredito,"onUpdate:modelValue":a[22]||(a[22]=s=>e.plazopagocredito=s),val:"2",label:"D\xEDas",color:"blue"},null,8,["modelValue"]),t("input",{class:"inputCantidad",id:"idplazopagoparcial",value:"0",style:{"margin-right":"10px","margin-left":"10px"},disabled:e.plazopagocredito==="1",type:"number",min:"0"},null,8,ks)])])])):C("",!0)]),_:1}),o(b),o(z,{align:"center"},{default:i(()=>[V(o(p,{outline:"","no-caps":"","icon-right":"close",color:"primary",label:"Cancelar"},null,512),[[I]]),o(p,{unelevated:"","no-caps":"","icon-right":"check",color:"primary",label:"Aceptar",onClick:e.abrirRealizarVenta},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Ts=X(ce,[["render",xs],["__scopeId","data-v-61004bec"]]);export{Ts as default};
