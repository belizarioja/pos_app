import{Q as K,a as ut}from"./QSelect.444efa51.js";import{c as at,a2 as ht,a3 as pt,F as T,h as B,e as L,g as ft,r as c,O as mt,H as _t,au as gt,av as bt,_ as yt,ak as vt,N as _,k as y,am as I,t as d,q as a,m as e,an as n,E as b,B as g,l as S,aw as U,ax as Q,Q as F,x as v,y as z,z as D,ay as k,ao as V,A as N,a6 as P,az as q,aA as wt,aB as $,aC as Ct,aD as tt,C as kt,D as Bt}from"./index.b0d3d67d.js";import{Q as R,a as x}from"./QItem.bb8940ee.js";import{Q as j,C as A}from"./ClosePopup.1d9f5d11.js";import{Q as et}from"./QBadge.cff4ed6d.js";import{Q as It}from"./QPage.9fb1a8a7.js";import{a as w}from"./axios.7331a07d.js";import{h as G}from"./moment.40bc58bf.js";import"./format.34298ed5.js";var St=at({name:"QBanner",props:{...ht,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:o}){const{proxy:{$q:l}}=ft(),r=pt(t,l),u=T(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(r.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),h=T(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const s=[B("div",{class:"q-banner__avatar col-auto row items-center self-start"},L(o.avatar)),B("div",{class:"q-banner__content col text-body2"},L(o.default))],f=L(o.action);return f!==void 0&&s.push(B("div",{class:h.value},f)),B("div",{class:u.value+(t.inlineActions===!1&&f!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}});const Dt={ratio:[String,Number]};function Nt(t,o){return T(()=>{const l=Number(t.ratio||(o!==void 0?o.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const Vt=16/9;var Ft=at({name:"QImg",props:{...Dt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Vt},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(t,{slots:o,emit:l}){const r=c(t.initialRatio),u=Nt(t,r);let h=null,s=!1;const f=[c(null),c(Y())],m=c(0),E=c(!1),H=c(!1),ot=T(()=>`q-img q-img--${t.noNativeMenu===!0?"no-":""}menu`),st=T(()=>({width:t.width,height:t.height})),lt=T(()=>`q-img__image ${t.imgClass!==void 0?t.imgClass+" ":""}q-img__image--with${t.noTransition===!0?"out":""}-transition`),nt=T(()=>({...t.imgStyle,objectFit:t.fit,objectPosition:t.position}));mt(()=>W(),Z);function W(){return t.src||t.srcset||t.sizes?{src:t.src,srcset:t.srcset,sizes:t.sizes}:null}function Y(){return t.placeholderSrc!==void 0?{src:t.placeholderSrc}:null}function Z(p){h!==null&&(clearTimeout(h),h=null),H.value=!1,p===null?(E.value=!1,f[m.value^1].value=Y()):E.value=!0,f[m.value].value=p}function it({target:p}){s!==!0&&(h!==null&&(clearTimeout(h),h=null),r.value=p.naturalHeight===0?.5:p.naturalWidth/p.naturalHeight,J(p,1))}function J(p,O){s===!0||O===1e3||(p.complete===!0?dt(p):h=setTimeout(()=>{h=null,J(p,O+1)},50))}function dt(p){s!==!0&&(m.value=m.value^1,f[m.value].value=null,E.value=!1,H.value=!1,l("load",p.currentSrc||p.src))}function rt(p){h!==null&&(clearTimeout(h),h=null),E.value=!1,H.value=!0,f[m.value].value=null,f[m.value^1].value=Y(),l("error",p)}function X(p){const O=f[p].value,M={key:"img_"+p,class:lt.value,style:nt.value,crossorigin:t.crossorigin,decoding:t.decoding,referrerpolicy:t.referrerpolicy,height:t.height,width:t.width,loading:t.loading,fetchpriority:t.fetchpriority,"aria-hidden":"true",draggable:t.draggable,...O};return m.value===p?(M.class+=" q-img__image--waiting",Object.assign(M,{onLoad:it,onError:rt})):M.class+=" q-img__image--loaded",B("div",{class:"q-img__container absolute-full",key:"img"+p},B("img",M))}function ct(){return E.value!==!0?B("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},L(o[H.value===!0?"error":"default"])):B("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():t.noSpinner===!0?void 0:[B(bt,{color:t.spinnerColor,size:t.spinnerSize})])}return Z(W()),_t(()=>{s=!0,h!==null&&(clearTimeout(h),h=null)}),()=>{const p=[];return u.value!==null&&p.push(B("div",{key:"filler",style:u.value})),H.value!==!0&&(f[0].value!==null&&p.push(X(0)),f[1].value!==null&&p.push(X(1))),p.push(B(gt,{name:"q-transition--fade"},ct)),B("div",{class:ot.value,style:st.value,role:"img","aria-label":t.alt},p)}}});const C="https://posapi-test.factura-smart.com/",xt=vt({name:"IndexPage",setup(){return{slide:c(2),buscadoproducto:c(!0),btnDisableAnular:c(!0),numerointernoanular:c(""),modalanular:c(!1),empresa:c(""),direccion:c(""),rif:c(""),telefono:c(""),email:c(""),igtf:c(0),numerointerno:c(""),idventa:c(""),textitem:c(""),subtotal:c(0),impuesto:c(0),descuento:c(0),total:c(0),subtotalusd:c(0),impuestousd:c(0),descuentousd:c(0),totalusd:c(0),nombrecliente:c(""),correocliente:c(""),telefonocliente:c(""),direccioncliente:c(""),idclienteventa:c(""),nombreclienteventa:c(""),documentoabrev:c(""),documentoclientesolo:c(""),documentoclienteventa:c(""),fechahoy:c(G().format("DD/MM/YYYY")),fechaholds:c(""),idhold:c(""),iditemhold:c(""),buscaritem:c(!1),modalrealizarventa:c(!1),noencontrado:c(!1),clientebuscado:c(!1),facturabuscado:c(!1),encontrado:c(!1),modalcliente:c(!1),dsbBtnCrearCliente:c(!0),modeldocumento:c(null),modaldeleteholds:c(!1),modaldetalleinvoice:c(!1),optionsdocumento:[],rowsproductos:[],rowsproductosfiltre:[],holds:[],ventas:[],ventasanular:[],detalleventa:{},detalleventaanular:{},tasausd:c(0),idusuario:c(sessionStorage.getItem("id_usuario"))}},methods:{imprimir(){window.frames.print_frame.document.body.innerHTML=document.getElementById("areaImprimir").innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print(),this.modaldetalleinvoice=!1},fechaDetalle(t){return G(t).format("DD/MM/YYYY HH:mm:ss")},abrirBuscarFactura(){this.detalleventaanular={},this.numerointernoanular="",this.idUpd="",this.facturabuscado=!1,this.btnDisableAnular=!0,this.modalanular=!0},async anularDocumento(){const t={idventa:this.idUpd};await w.post(C+"ventas/anularventa",t).then(async o=>{console.log(o),this.modalanular=!1,_.create("Documento ANULADO con \xE9xito")})},async buscarFactura(){this.detalleventaanular={},this.ventasanular=[],this.facturabuscado=!1,this.idtipofacturaanular=1,await w.get(C+"ventas/getventanumerointerno/"+sessionStorage.getItem("co_empresa")+"/"+this.idtipofacturaanular+"/"+this.numerointernoanular).then(async t=>{console.log(this.numerointernoanular),console.log(t),t.status===200?(this.detalleventaanular=t.data.resp,this.idUpd=this.detalleventaanular.id,this.ventasanular=t.data.respdetalles,this.facturabuscado=!0,this.btnDisableAnular=this.detalleventaanular.estatus==="2"||!1):(_.create("Documento NO ENCONTRADO"),this.facturabuscado=!1,this.btnDisableAnular=!0,this.idUpd="")})},async abrirDetalleInvoive(){const t=this;this.detalleventa={},await w.get(C+"ventas/getventa/"+this.idventa).then(async o=>{this.detalleventa=o.data.resp,await w.get(C+"ventas/getitemsventas/"+this.idventa).then(async l=>{t.ventas=[],console.log(l);const r=l.data.resp;for(const u in r){const h=r[u];t.ventas.push(h)}t.deleteHolds(2),t.modaldetalleinvoice=!0}).catch(l=>{_.create("Problemas al listar items Ventas "+l)}),console.log(this.detalleventa)})},async actualizarCantidad(t,o){console.log(t);const l=document.getElementById("cantidad"+t.idproducto);o===1?(l.value=Number(l.value)+1,this.subtotal=(Number(this.subtotal)+t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+(Number(t.precio)+t.precio*t.tasa/100)).toFixed(2)):(l.value>1&&(this.subtotal=(Number(this.subtotal)-t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)-t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)-(Number(t.precio)+t.precio*t.tasa/100)).toFixed(2)),l.value=l.value<=1?1:Number(l.value)-1),t.total=(Number(t.precio)+t.precio*t.tasa/100)*l.value,console.log("this.tasausd"),console.log(this.tasausd),this.subtotalusd=(this.subtotal/this.tasausd).toFixed(2),this.impuestousd=(this.impuesto/this.tasausd).toFixed(2),this.totalusd=(this.total/this.tasausd).toFixed(2);const r=await this.updItemHolds(t.iditemhold,l.value,l.value*(Number(t.precio)+t.precio*t.tasa/100),t.idproducto,o,t.intipoproducto);r?await this.calcularMonto(t):(console.log("resp input false"),console.log(r),l.value=l.value<=1?1:Number(l.value)-1)},calcularMonto(t){const o=document.getElementById("cantidad"+t.idproducto);if(o){const l=o.value>0?o.value:1;this.holds.map(r=>(r.cod===t.cod&&(r.monto=(r.precio*r.tasa/100+r.precio)*l,t.monto=r.monto,r.cantidad=l),r)),document.getElementById("monto"+t.idproducto).innerHTML="Bs."+t.monto.toFixed(2)}},async updItemHolds(t,o,l,r,u,h){const s={idproducto:r,iditemhold:t,cantidad:o,accion:u,total:l,intipoproducto:h},f=await w.post(C+"ventas/upditemholds",s);return console.log(f.status),f.status===202?(this.$q.dialog({title:"Ooops! "+f.data.resp,message:" Contacte al administrador del sistema.",html:!0,ok:{color:"primary",label:"Aceptar"}}),!1):!0},openDeleteHolds(){this.modaldeleteholds=!0},deleteHolds(t){const o={idhold:this.idhold,accion:t};w.post(C+"ventas/deleteholds",o).then(async l=>{this.modaldeleteholds=!1,this.documentoclienteventa="",this.listarHolds()}).catch(l=>{_.create("Problemas al ELIMINAR Hold de venta "+l)})},deleteItemHolds(t){console.log(t);const o={iditemhold:t.iditemhold,idproducto:t.idproducto,intipoproducto:t.intipoproducto,cantidad:t.cantidad};this.$q.dialog({title:"Eliminar Item!",message:"\xBFDesea eliminar este item?",html:!0,ok:{color:"primary",label:"S\xED"},cancel:{color:"negative",label:"No"},persistent:!0}).onOk(()=>{w.post(C+"ventas/deleteitemholds",o).then(async l=>{console.log(l.data.success),this.nombrecliente="",this.listarHolds()}).catch(l=>{_.create("Problemas al ELIMINAR itemhold de venta "+l)})})},async additemholds(t){console.log(t);const o=this.descuento;let l=!1;const r=this.holds.findIndex(u=>u.idproducto===t.idproducto);if(r===-1){const u=t.precio*t.tasa/100+t.precio,h={idhold:this.idhold,idproducto:t.idproducto,precio:t.precio,cantidad:1,tasa:t.tasa,total:u,idunidad:t.idunidad,intipoproducto:t.intipoproducto,descuento:o};await w.post(C+"ventas/setitemholds",h).then(async s=>{const f=s.data.resp;if(s.data.success){const m={};m.idhold=this.idhold,m.iditemhold=f.iditemhold,m.idproducto=t.idproducto,m.precio=t.precio,m.cantidad=1,m.tasa=t.tasa,m.total=u,m.producto=t.producto,m.categoria=t.categoria,m.descripcion=t.descripcion,m.intipoproducto=t.intipoproducto,m.descuento=o,this.subtotal=(Number(this.subtotal)+m.precio*m.cantidad).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+u).toFixed(2),this.holds.push(m),l=!0}else this.buscaritem=!1,this.slide=2,_.create(s.data.resp.toUpperCase())}).catch(s=>{_.create("Problemas al crear itemhold de venta "+s)})}else{this.holds[r].cantidad=Number(this.holds[r].cantidad)+1;const u=t.precio*t.tasa/100+t.precio;document.getElementById("monto"+t.idproducto).innerHTML="Bs."+(u*this.holds[r].cantidad).toFixed(2),this.subtotal=(Number(this.subtotal)+t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+u).toFixed(2),l=await this.updItemHolds(this.holds[r].iditemhold,this.holds[r].cantidad,u*this.holds[r].cantidad,t.idproducto,1)}l&&(this.subtotalusd=(this.subtotal/this.tasausd).toFixed(2),this.impuestousd=(this.impuesto/this.tasausd).toFixed(2),this.totalusd=(this.total/this.tasausd).toFixed(2),this.buscaritem=!1,this.slide=2)},listarProductos(){w.get(C+"productos/"+sessionStorage.getItem("co_empresa")+"/"+0).then(async o=>{const l=o.data.resp;this.rowsproductos=[];for(const r in l){const u={};u.idproducto=l[r].id,u.sku=l[r].sku,u.producto=l[r].producto,u.id=l[r].id,u.categoria=l[r].categoria,u.descripcion=l[r].descripcion,u.unidad=l[r].unidad,u.idunidad=l[r].idunidad,u.impuesto=l[r].impuesto,u.precio=l[r].precio,u.inventario=Number(l[r].inventario1),u.costo=l[r].costo,u.tasa=l[r].tasa,u.intipoproducto=l[r].intipoproducto,this.rowsproductos.push(u)}this.rowsproductosfiltre=this.rowsproductos}).catch(o=>{_.create("Problemas al listar Categorias "+o)})},abrirRealizarVenta(){this.listarHolds(),this.modalrealizarventa=!0},realizarVenta(){const t=this,o={idhold:this.idhold,tasausd:this.tasausd,totalusd:this.totalusd,idempresa:sessionStorage.getItem("co_empresa")};w.post(C+"ventas/setventa",o).then(async l=>{const r=l.data;console.log(r.success),r.success?(t.idventa=r.resp.idventa,t.abrirDetalleInvoive()):_.create(r.resp.message)}).catch(l=>{_.create("Problemas al REALIZAR venta "+l)}),this.modalrealizarventa=!1},abrirBuscarItem(){this.nombrecliente.length===0?(console.log("Debe buscar cliente"),this.abrirBuscarCliente()):(this.buscaritem=!0,this.textitem="")},abrirBuscarCliente(){this.modalcliente=!0,this.documento="",console.log(this.optionsdocumento[0]),this.modeldocumento=this.optionsdocumento[0],this.limpiarCliente()},limpiarCliente(){this.nombrecliente="",this.telefonocliente="",this.correocliente="",this.direccioncliente="",this.noencontrado=!1,this.encontrado=!1,this.clientebuscado=!1,this.dsbBtnCrearCliente=!0},listarTiposDocumentos(){w.get(C+"tipodocumento").then(async t=>{const o=t.data.data;this.optionsdocumento=[];for(const l in o){const r={};r.cod=o[l].id,r.tipodocumento=o[l].tipodocumento,r.abrev=o[l].abrev,this.optionsdocumento.push(r)}}).catch(t=>{_.create("Problemas al listar Tipos "+t)})},buscarCliente(){if(this.limpiarCliente(),!this.modeldocumento){_.create("Debe seleccionar TIPO DOCUMENTO");return}if(this.documento.length===0){_.create("Debe agregar DOCUMENTO");return}const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento};w.post(C+"clientes/buscar",t).then(async o=>{const l=o.data.resp;l.length>0?(this.idcliente=l[0].id,this.nombrecliente=l[0].nombre,this.telefonocliente=l[0].telefono,this.correocliente=l[0].correo,this.direccioncliente=l[0].direccion,this.noencontrado=!1,this.encontrado=!0):(this.noencontrado=!0,this.encontrado=!1),this.clientebuscado=!0,this.dsbBtnCrearCliente=!1}).catch(o=>{_.create("Problemas al buscar cliente "+o)})},crearCliente(){if(!this.modeldocumento){_.create("Debe seleccionar TIPO DOCUMENTO");return}if(this.documento.length===0){_.create("Debe agregar DOCUMENTO");return}if(this.nombrecliente.length===0){_.create("Debe agregar NOMBRE");return}if(this.encontrado)this.modalcliente=!1,this.idclienteventa=this.idcliente,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(this.idcliente,this.idusuario);else{const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento,nombre:this.nombrecliente,telefono:this.telefonocliente,correo:this.correocliente,direccion:this.direccioncliente};w.post(C+"clientes/crear",t).then(async o=>{const l=o.data.resp;l&&(this.modalcliente=!1,this.idclienteventa=l,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(l,this.idusuario))}).catch(o=>{_.create("Problemas al crear cliente "+o)})}},crearHolds(t,o){const r={idcliente:t,idusuario:o,idtipofactura:1};w.post(C+"ventas/setholds",r).then(async u=>{const h=u.data.resp;h&&(this.idhold=h.idhold,this.fechaholds=h.fecha)}).catch(u=>{_.create("Problemas al crear hold de venta "+u)})},async listarHolds(){this.nombrecliente="",await w.get(C+"ventas/gethols/"+sessionStorage.getItem("id_usuario")).then(async t=>{const o=t.data.resp.length>0?t.data.resp[0]:null;console.log(o),this.holds=[],this.slide=1,this.subtotal=0,this.impuesto=0,this.total=0,o&&(this.idcliente=o.idcliente,this.nombrecliente=o.nombre,this.documentoabrev=o.abrev,this.documentoclienteventa=o.abrev+" "+o.documento,this.documentoclientesolo=o.documento,this.idhold=o.idhold,this.fechaholds=G(o.fecha).format("DD/MM/YYYY"),await w.get(C+"ventas/getitemshols/"+this.idhold).then(async l=>{this.holds=l.data.resp;for(const r in this.holds){const u=this.holds[r],h=u.precio*u.cantidad,s=h*u.tasa/100,f=s+h;this.subtotal=(Number(this.subtotal)+h).toFixed(2),this.impuesto=(Number(this.impuesto)+s).toFixed(2),this.total=(Number(this.total)+f).toFixed(2)}this.slide=this.holds.length>0?2:1}).catch(l=>{_.create("Problemas al listar items Holds "+l)})),this.subtotalusd=(this.subtotal/this.tasa).toFixed(2),this.impuestousd=(this.impuesto/this.tasa).toFixed(2),this.totalusd=(this.total/this.tasausd).toFixed(2)}).catch(t=>{_.create("Problemas al listar Holds "+t)})},primeraletra(t){return t[0]},colorLetra(t){const o=t[0].charCodeAt(0);return"#"+o+"0"},async cargar(){const t=await w.get(C+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(o=>{_.create("Problemas al listar Configuracion "+o)});return console.log(t),t.data.resp}},watch:{textitem(t){console.log("textitem"),console.log(t),this.buscadoproducto=!1,t.length>0?this.rowsproductosfiltre=this.rowsproductos.filter(o=>!!(o.producto.toUpperCase().includes(t.toUpperCase())||o.sku&&o.sku.includes(t))):this.rowsproductosfiltre=this.rowsproductos,this.buscadoproducto=!0,this.rowsproductosfiltre=this.rowsproductosfiltre.slice().reverse(),console.log(this.rowsproductosfiltre)}},async mounted(){const t=await this.cargar();this.tasausd=t.tasabcv,this.empresa=t.empresa,this.rif=t.rif,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,console.log("this.tasausd"),console.log(this.tasausd),await this.listarTiposDocumentos(),await this.listarHolds(),await this.listarProductos();const o=this;document.addEventListener("keydown",function(l){console.log(l.key),l.key==="F2"&&(l.preventDefault(),o.abrirBuscarItem()),l.key==="F3"&&(l.preventDefault(),o.abrirBuscarCliente()),l.key==="F4"&&(o.dsbBtnCrearCliente||(l.preventDefault(),o.crearCliente())),l.key==="F6"&&(o.holds.length<=0?_.create("NO TIENE VENTA "):(l.preventDefault(),o.abrirRealizarVenta()))})}}),i=t=>(kt("data-v-5b8e6c33"),t=t(),Bt(),t),zt={class:"row",style:{"padding-left":"5%","padding-right":"5%"}},Tt=i(()=>e("div",{class:"col",style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"}},[e("img",{src:"img/logo-prosales.png",style:{width:"70%",height:"auto"}})],-1)),Pt={class:"col"},qt=i(()=>e("span",{class:"letra-pequenia"},"Cliente: ",-1)),At=i(()=>e("br",null,null,-1)),Et={class:"negrita"},Ht=i(()=>e("br",null,null,-1)),Ut={class:"letra-pequenia"},Qt={class:"col bd-left"},$t=i(()=>e("span",{class:"letra-pequenia"},"Fecha de venta: ",-1)),jt=i(()=>e("br",null,null,-1)),Ot={class:"negrita"},Mt=i(()=>e("br",null,null,-1)),Rt=i(()=>e("span",{class:"letra-pequenia"},[b("Tasa del d\xEDa "),e("b",null,"(BCV)"),b(": ")],-1)),Lt=i(()=>e("br",null,null,-1)),Yt={class:"col bd-left"},Kt=i(()=>e("span",{class:"letra-pequenia"},"Subtotal: ",-1)),Gt=i(()=>e("br",null,null,-1)),Wt=i(()=>e("span",{class:"letra-pequenia"},"Impuesto: ",-1)),Zt=i(()=>e("br",null,null,-1)),Jt=i(()=>e("span",{class:"letra-pequenia"},"Descuento: ",-1)),Xt=i(()=>e("br",null,null,-1)),te={class:"col bd-left"},ee={class:"letra-pequenia"},ae=i(()=>e("br",null,null,-1)),oe={class:"letra-pequenia"},se=i(()=>e("br",null,null,-1)),le={class:"letra-pequenia"},ne=i(()=>e("br",null,null,-1)),ie={class:"col bd-left",style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-end"}},de=i(()=>e("br",null,null,-1)),re={class:"row botones text-center"},ce={class:"col-2"},ue={class:"col-2"},he=i(()=>e("div",{class:"col-4"},null,-1)),pe={class:"col-2"},fe={class:"col-2"},me={class:"col"},_e=i(()=>e("div",{class:"row"},null,-1)),ge={class:"puntodeventa row"},be={key:1,class:"puntodeventaconitem col"},ye={class:"row justify-center"},ve={class:"color-texto"},we={class:"color-texto"},Ce={class:"color-texto"},ke={class:"row"},Be={class:"col"},Ie=["id"],Se={class:"col"},De={style:{display:"flex","align-items":"center","font-size":"11px","justify-content":"center"}},Ne=i(()=>e("div",{class:"text-center",style:{"margin-right":"10px"}},"Cantidad",-1)),Ve=["id","value","onInput"],Fe={class:""},xe={style:{display:"flex"}},ze={style:{display:"flex"}},Te={style:{display:"flex"}},Pe={style:{display:"grid",width:"48%","font-size":"11px","justify-content":"center"}},qe=i(()=>e("div",{class:"text-left"},"Unidad",-1)),Ae={class:"text-primary"},Ee={style:{display:"grid",width:"48%","font-size":"11px","justify-content":"center"}},He=i(()=>e("div",{class:"text-center"},"Impuesto.",-1)),Ue={class:"text-primary"},Qe=i(()=>e("h6",null,"Buscar cliente",-1)),$e={class:""},je={class:"row"},Oe={key:0,class:"noencontrado"},Me=i(()=>e("p",{class:"text-noencontrado"},"Lo sentimos, no existe un cliente con ese documento",-1)),Re=[Me],Le={key:1,class:"encontrado"},Ye=i(()=>e("p",{class:"text-encontrado"},"Cliente encontrado",-1)),Ke=[Ye],Ge=i(()=>e("div",{class:"text-h6 color-texto",style:{"margin-left":"10px"}}," \xBFDesea eliminar esta venta?",-1)),We=i(()=>e("div",{class:"text-h6 color-texto",style:{"margin-left":"10px"}}," \xBFRealizar esta venta?",-1)),Ze={class:"color-texto",style:{width:"100%"}},Je=i(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),Xe={style:{"font-weight":"bold"}},ta={style:{"font-weight":"bold"}},ea=i(()=>e("td",null,"Fecha:",-1)),aa={style:{"font-weight":"bold"}},oa={class:"color-texto",style:{width:"100%"}},sa=i(()=>e("tr",{style:{"font-weight":"bold"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cantidad"),e("td",{class:"rayafactura rayaarriba"},"Tasa %"),e("td",{class:"rayafactura rayaarriba"},"Total")],-1)),la={style:{width:"150px","font-style":"italic"}},na={style:{"text-align":"right"}},ia={style:{"text-align":"center"}},da={style:{"text-align":"center"}},ra={style:{"text-align":"right"}},ca=i(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),ua={class:"color-texto",style:{width:"100%"}},ha={class:"letratotalesfactura"},pa=i(()=>e("td",{style:{width:"50%"}},null,-1)),fa=i(()=>e("td",null,"Subtotal Bs.:",-1)),ma={style:{"text-align":"right"}},_a={class:"letratotalesfactura"},ga=i(()=>e("td",null,null,-1)),ba=i(()=>e("td",null,"Impuestos Bs.:",-1)),ya={style:{"text-align":"right"}},va={class:"letratotalesfactura"},wa=i(()=>e("td",null,null,-1)),Ca=i(()=>e("td",null,"Descuentos Bs.:",-1)),ka={style:{"text-align":"right"}},Ba={class:"letratotalesfactura"},Ia=i(()=>e("td",null,null,-1)),Sa=i(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),Da={class:"rayafactura",style:{"text-align":"right"}},Na={class:"letratotalesfactura",style:{"font-weight":"bold"}},Va=i(()=>e("td",null,null,-1)),Fa=i(()=>e("td",null,"Total Bs.:",-1)),xa={style:{"text-align":"right"}},za={class:"letratotalesfactura",style:{"font-weight":"bold"}},Ta=i(()=>e("td",null,null,-1)),Pa=i(()=>e("td",null,"Total $:",-1)),qa={style:{"text-align":"right"}},Aa={id:"areaImprimir",style:{width:"100%"}},Ea={class:"text-center letratotalesfactura",style:{}},Ha={class:"text-center letratotalesfactura",style:{}},Ua={class:"text-center letratotalesfactura",style:{}},Qa={class:"text-center letratotalesfactura",style:{}},$a={style:{display:"flex","align-items":"left",width:"100%"}},ja={class:"numero",style:{"margin-left":"10px"}},Oa={class:"numero",style:{"margin-left":"10px"}},Ma={style:{display:"flex","align-items":"center"}},Ra=i(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),La={class:"control",style:{"margin-left":"10px"}},Ya={style:{width:"100%"}},Ka={class:"letratotalesfactura"},Ga=i(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),Wa={style:{"font-weight":"bold"}},Za={class:"letratotalesfactura"},Ja={style:{"font-weight":"bold"}},Xa={class:"letratotalesfactura"},to=i(()=>e("td",null,"Fecha:",-1)),eo={style:{"font-weight":"bold"}},ao={class:"letratotalesfactura"},oo=i(()=>e("td",null,"Cajero:",-1)),so={style:{"font-weight":"bold"}},lo={style:{width:"100%"}},no=i(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"Imp %"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),io={style:{width:"140px","font-style":"italic"}},ro={style:{"text-align":"right"}},co={style:{"text-align":"center"}},uo={style:{"text-align":"center"}},ho={style:{"text-align":"right"}},po=i(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),fo={style:{width:"100%"}},mo={class:"letratotalesfactura"},_o=i(()=>e("td",{style:{width:"40%"}},null,-1)),go=i(()=>e("td",null,"Subtotal Bs.:",-1)),bo={style:{"text-align":"right"}},yo={class:"letratotalesfactura"},vo=i(()=>e("td",null,null,-1)),wo=i(()=>e("td",null,"Impuestos Bs.:",-1)),Co={style:{"text-align":"right"}},ko={class:"letratotalesfactura"},Bo=i(()=>e("td",null,null,-1)),Io=i(()=>e("td",null,"Descuentos Bs.:",-1)),So={style:{"text-align":"right"}},Do={class:"letratotalesfactura"},No=i(()=>e("td",null,null,-1)),Vo=i(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),Fo={class:"rayafactura",style:{"text-align":"right"}},xo={class:"letratotalesfactura",style:{"font-weight":"bold"}},zo=i(()=>e("td",null,null,-1)),To=i(()=>e("td",null,"Total Bs.:",-1)),Po={style:{"text-align":"right"}},qo={class:"letratotalesfactura",style:{"font-weight":"bold"}},Ao=i(()=>e("td",null,null,-1)),Eo=i(()=>e("td",null,"Total $:",-1)),Ho={style:{"text-align":"right"}},Uo=i(()=>e("iframe",{name:"print_frame",width:"0",height:"0",frameborder:"0",src:"about:blank"},null,-1)),Qo=i(()=>e("div",{class:"text-h6",style:{"margin-left":"10px"}}," Anular Documento",-1)),$o={class:"row"},jo={style:{display:"flex","align-items":"left",width:"100%"}},Oo={class:"numero",style:{"margin-left":"10px"}},Mo={class:"numero",style:{"margin-left":"10px"}},Ro={style:{display:"flex","align-items":"center"}},Lo=i(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),Yo={class:"control",style:{"margin-left":"10px"}},Ko={style:{width:"100%"}},Go={class:"letratotalesfactura"},Wo=i(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),Zo={style:{"font-weight":"bold"}},Jo={class:"letratotalesfactura"},Xo={style:{"font-weight":"bold"}},ts={class:"letratotalesfactura"},es=i(()=>e("td",null,"Fecha:",-1)),as={style:{"font-weight":"bold"}},os={class:"letratotalesfactura"},ss=i(()=>e("td",null,"Cajero:",-1)),ls={style:{"font-weight":"bold"}},ns={style:{width:"100%"}},is=i(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"Imp %"),e("td",{class:"rayafactura rayaarriba"},"Total")],-1)),ds={style:{width:"140px","font-style":"italic"}},rs={style:{"text-align":"right"}},cs=i(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),us={style:{width:"100%"}},hs={class:"letratotalesfactura"},ps=i(()=>e("td",{style:{width:"40%"}},null,-1)),fs=i(()=>e("td",null,"Subtotal Bs.:",-1)),ms={style:{"text-align":"right"}},_s={class:"letratotalesfactura"},gs=i(()=>e("td",null,null,-1)),bs=i(()=>e("td",null,"Impuestos Bs.:",-1)),ys={style:{"text-align":"right"}},vs={class:"letratotalesfactura"},ws=i(()=>e("td",null,null,-1)),Cs=i(()=>e("td",null,"Descuentos Bs.:",-1)),ks={style:{"text-align":"right"}},Bs={class:"letratotalesfactura"},Is=i(()=>e("td",null,null,-1)),Ss=i(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),Ds={class:"rayafactura",style:{"text-align":"right"}},Ns={class:"letratotalesfactura",style:{"font-weight":"bold"}},Vs=i(()=>e("td",null,null,-1)),Fs=i(()=>e("td",null,"Total Bs.:",-1)),xs={style:{"text-align":"right"}},zs={class:"letratotalesfactura",style:{"font-weight":"bold"}},Ts=i(()=>e("td",null,null,-1)),Ps=i(()=>e("td",null,"Total $:",-1)),qs={style:{"text-align":"right"}};function As(t,o,l,r,u,h){return y(),I(It,null,{default:d(()=>[a(St,{class:"fondo-gris shadow-up-9"},{default:d(()=>[e("div",zt,[Tt,e("div",Pt,[qt,At,e("span",Et,n(t.nombrecliente.length>0?t.nombrecliente:"S/INF"),1),b(),Ht,e("span",Ut,n(t.documentoclienteventa),1)]),e("div",Qt,[$t,jt,e("span",Ot,n(t.nombrecliente.length>0?t.fechaholds:t.fechahoy),1),Mt,Rt,Lt,a(K,{dense:"",color:"green-2","text-color":"green-9"},{default:d(()=>[b("\u{1F1FB}\u{1F1EA} Bs."+n(t.tasausd||"0.00"),1)]),_:1})]),e("div",Yt,[Kt,Gt,Wt,Zt,Jt,Xt,a(K,{dense:"",color:"green-2","text-color":"green-9"},{default:d(()=>[b("$ "+n(t.totalusd),1)]),_:1})]),e("div",te,[e("span",ee,"Bs. "+n(t.subtotal),1),ae,e("span",oe,"Bs. "+n(t.impuesto),1),se,e("span",le,"Bs. "+n(t.descuento),1),ne,a(K,{dense:"",class:"color-degradado"},{default:d(()=>[b("Bs. "+n(t.total),1)]),_:1})]),e("div",ie,[a(g,{class:"boton-banner",outline:"","no-caps":"",dense:"",color:"accent",icon:"cancel_presentation",onClick:t.abrirBuscarFactura,label:"Anular documento",style:{"font-size":"12px"}},null,8,["onClick"]),b(),de,a(g,{class:"boton-banner",outline:"","no-caps":"",dense:"",color:"accent",icon:"settings_backup_restore",onClick:t.abrirBuscarFactura,label:"Devoluciones",style:{"font-size":"12px"},disable:!0},null,8,["onClick"])])])]),_:1}),e("div",re,[e("div",ce,[a(g,{"no-caps":"",dense:"",unelevated:"",color:"warning","icon-right":"add",onClick:t.abrirBuscarItem,label:"Agregar item (F2)",style:{"font-size":"12px"}},null,8,["onClick"])]),e("div",ue,[a(g,{outline:"","no-caps":"",dense:"",unelevated:"",color:"warning","icon-right":"person",onClick:t.abrirBuscarCliente,label:"Cliente (F3)",style:{"font-size":"12px"}},null,8,["onClick"])]),he,e("div",pe,[a(g,{outline:"","no-caps":"",dense:"",unelevated:"",color:"warning","icon-right":"close",onClick:t.openDeleteHolds,label:"Cancelar",style:{"font-size":"12px"},disable:t.holds.length<=0},null,8,["onClick","disable"])]),e("div",fe,[a(g,{"no-caps":"",dense:"",unelevated:"",color:"warning","icon-right":"paid",onClick:t.abrirRealizarVenta,label:"Realizar venta (F6)",style:{"font-size":"12px"},disable:t.holds.length<=0},null,8,["onClick","disable"])])]),e("div",me,[_e,e("div",ge,[t.slide===1?(y(),I(Ft,{key:0,src:"img/sin-productos.png",style:{width:"35%",height:"auto"},fit:"contain"})):(y(),S("div",be,[e("div",ye,[(y(!0),S(U,null,Q(t.holds,s=>(y(),I(F,{key:s,class:"my-card tarjetaitem col-md-5 col-sm-11 col-xs-11 custom-shadow custom-border-radius",style:{height:"fit-content"}},{default:d(()=>[a(R,{horizontal:""},{default:d(()=>[a(x,{avatar:"",style:{"padding-right":"15px","align-items":"center"}},{default:d(()=>[a($,{"text-color":"white",style:tt("background: "+t.colorLetra(s.producto))},{default:d(()=>[b(n(t.primeraletra(s.producto)),1)]),_:2},1032,["style"])]),_:2},1024),a(x,null,{default:d(()=>[a(j,null,{default:d(()=>[e("span",ve,[e("b",null,n(s.producto),1)])]),_:2},1024),a(j,{caption:""},{default:d(()=>[b(n(s.categoria),1)]),_:2},1024)]),_:2},1024),a(x,{side:""},{default:d(()=>[a(g,{flat:"",round:"",icon:"close",onClick:f=>t.deleteItemHolds(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),a(R,{horizontal:""},{default:d(()=>[a(x,{class:"tarjeticainside"},{default:d(()=>[e("div",null,[e("span",we,[b("Precio unitario: "),e("b",null,"Bs "+n(s.precio),1)])]),e("div",null,[e("span",Ce,[b("\u{1F3DB}\uFE0F Imp %: "),e("b",null,n(s.tasa),1)])]),e("div",ke,[e("div",Be,[e("div",{id:"monto"+s.idproducto,class:"precio"},[e("span",null,"Bs. "+n(s.total),1)],8,Ie)]),e("div",Se,[e("div",De,[Ne,e("input",{class:"inputCantidad",id:"cantidad"+s.idproducto,value:s.cantidad,onInput:f=>t.calcularMonto(s),style:{"margin-right":"10px"}},null,40,Ve),a(g,{flat:"",round:"",unelevated:"",class:"btncantidad",icon:"remove",color:"grey-7",onClick:f=>t.actualizarCantidad(s,2)},null,8,["onClick"]),a(g,{flat:"",round:"",unelevated:"",class:"btncantidad",color:"light-green-8",icon:"add",onClick:f=>t.actualizarCantidad(s,1),style:{"margin-right":"5px"}},null,8,["onClick"])])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])]))])]),a(q,{modelValue:t.buscaritem,"onUpdate:modelValue":o[2]||(o[2]=s=>t.buscaritem=s)},{default:d(()=>[a(F,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"400px"}},{default:d(()=>[a(v,{style:{padding:"10px 15px 7px"}},{default:d(()=>[e("div",Fe,[a(z,{color:"blue-grey-3",outlined:"",standout:"","bottom-slots":"",modelValue:t.textitem,"onUpdate:modelValue":o[1]||(o[1]=s=>t.textitem=s),label:"Nombre o Sku de producto",counter:"",autofocus:""},{prepend:d(()=>[a(D,{name:"search"})]),append:d(()=>[a(D,{name:"close",onClick:o[0]||(o[0]=s=>t.textitem=""),class:"cursor-pointer"})]),hint:d(()=>[b(" Cantidad de letras ")]),_:1},8,["modelValue"])])]),_:1}),a(k),t.buscadoproducto?(y(),I(v,{key:0,style:{"max-height":"64vh"},class:"scroll"},{default:d(()=>[(y(!0),S(U,null,Q(t.rowsproductosfiltre,s=>(y(),I(F,{key:s.id,class:"custom-shadow custom-border-radius",style:{margin:"10px"}},{default:d(()=>[a(R,{horizontal:""},{default:d(()=>[a(x,null,{default:d(()=>[a(j,null,{default:d(()=>[b(n(s.producto),1)]),_:2},1024),a(j,null,{default:d(()=>[a(et,{color:s.intipoproducto==="1"?"light-green-2":s.intipoproducto==="2"?"deep-orange-2":"orange-2",style:{"margin-top":"5px","margin-right":"5px","border-radius":"10%",color:"#404d52"}},{default:d(()=>[b(n(s.intipoproducto==="1"?"Simple":s.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color"]),b(" SKU "+n(s.sku),1)]),_:2},1024),a(j,{caption:""},{default:d(()=>[b(n(s.categoria),1)]),_:2},1024)]),_:2},1024),a(x,{side:""},{default:d(()=>[e("div",xe,[a(g,{flat:"",round:"",color:"primary",icon:"add_shopping_cart",onClick:f=>t.additemholds(s)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024),a(R,{horizontal:""},{default:d(()=>[a(x,{avatar:"",style:{"padding-right":"15px","align-items":"center"}},{default:d(()=>[a($,{"text-color":"white",style:tt("background: "+t.colorLetra(s.producto))},{default:d(()=>[b(n(t.primeraletra(s.producto)),1)]),_:2},1032,["style"]),a(et,{color:"dark",style:{"margin-top":"5px"}},{default:d(()=>[b(" Bs. "+n(s.precio),1)]),_:2},1024)]),_:2},1024),a(x,{class:"tarjeticainside"},{default:d(()=>[e("div",ze,n(s.descripcion),1),e("div",Te,[e("div",Pe,[qe,e("div",Ae,n(s.unidad),1)]),e("div",Ee,[He,e("div",Ue,n(s.impuesto),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):V("",!0),a(k),a(N,{align:"center"},{default:d(()=>[P(a(g,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"warning"},null,512),[[A]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(q,{modelValue:t.modalcliente,"onUpdate:modelValue":o[9]||(o[9]=s=>t.modalcliente=s)},{default:d(()=>[a(F,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:d(()=>[a(v,{class:"text-center"},{default:d(()=>[Qe]),_:1}),a(k),a(v,{style:{padding:"15px"}},{default:d(()=>[e("div",$e,[a(ut,{outlined:"",modelValue:t.modeldocumento,"onUpdate:modelValue":o[3]||(o[3]=s=>t.modeldocumento=s),options:t.optionsdocumento,"option-label":"tipodocumento","option-value":"cod",label:"Seleccione tipo documento"},{prepend:d(()=>[a(D,{name:"badge"})]),_:1},8,["modelValue","options"])])]),_:1}),a(v,{style:{padding:"10px 15px"}},{default:d(()=>[e("div",je,[a(z,{class:"col-10",outlined:"",modelValue:t.documento,"onUpdate:modelValue":o[4]||(o[4]=s=>t.documento=s),label:"Documento","stack-label":"",autofocus:"",onKeyup:wt(t.buscarCliente,["enter"])},{prepend:d(()=>[a(D,{name:"badge"})]),_:1},8,["modelValue","onKeyup"]),a(g,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarCliente},null,8,["onClick"])])]),_:1}),t.noencontrado?(y(),S("div",Oe,Re)):V("",!0),t.encontrado?(y(),S("div",Le,Ke)):V("",!0),t.clientebuscado?(y(),I(k,{key:2})):V("",!0),t.clientebuscado?(y(),I(v,{key:3,style:{padding:"15px"}},{default:d(()=>[a(z,{outlined:"",modelValue:t.nombrecliente,"onUpdate:modelValue":o[5]||(o[5]=s=>t.nombrecliente=s),label:"Nombre del cliente","stack-label":""},{prepend:d(()=>[a(D,{name:"badge"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),t.clientebuscado?(y(),I(v,{key:4,style:{padding:"15px"}},{default:d(()=>[a(z,{outlined:"",modelValue:t.correocliente,"onUpdate:modelValue":o[6]||(o[6]=s=>t.correocliente=s),label:"Email del cliente","stack-label":""},{prepend:d(()=>[a(D,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),t.clientebuscado?(y(),I(v,{key:5,style:{padding:"15px"}},{default:d(()=>[a(z,{outlined:"",modelValue:t.telefonocliente,"onUpdate:modelValue":o[7]||(o[7]=s=>t.telefonocliente=s),label:"Tel\xE9fono del cliente","stack-label":""},{prepend:d(()=>[a(D,{name:"phone"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),t.clientebuscado?(y(),I(v,{key:6,style:{padding:"15px"}},{default:d(()=>[a(z,{outlined:"",modelValue:t.direccioncliente,"onUpdate:modelValue":o[8]||(o[8]=s=>t.direccioncliente=s),label:"Direcci\xF3n del cliente","stack-label":""},{prepend:d(()=>[a(D,{name:"location_on"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),a(k),a(N,{align:"center"},{default:d(()=>[P(a(g,{outline:"","no-caps":"",label:"Cancelar","icon-right":"close",color:"warning",onClick:t.limpiarCliente},null,8,["onClick"]),[[A]]),a(g,{unelevated:"","no-caps":"",label:"Aceptar (F4)",color:"warning","icon-right":"check",onClick:t.crearCliente,disable:t.dsbBtnCrearCliente},null,8,["onClick","disable"])]),_:1}),a(N,{align:"center",style:{color:"#404d52"}},{default:d(()=>[b(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(q,{modelValue:t.modaldeleteholds,"onUpdate:modelValue":o[11]||(o[11]=s=>t.modaldeleteholds=s),persistent:""},{default:d(()=>[a(F,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:d(()=>[a(v,{style:{display:"flex","align-items":"center"}},{default:d(()=>[a($,{color:"primary","text-color":"white"},{default:d(()=>[a(D,{name:"delete"})]),_:1}),Ge]),_:1}),a(v),a(N,{align:"center"},{default:d(()=>[P(a(g,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"warning"},null,512),[[A]]),a(g,{unelevated:"","no-caps":"",label:"Aceptar",color:"warning","icon-right":"check",onClick:o[10]||(o[10]=s=>t.deleteHolds(1))})]),_:1}),a(N,{align:"center",style:{color:"#404d52"}},{default:d(()=>[b(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(q,{modelValue:t.modalrealizarventa,"onUpdate:modelValue":o[12]||(o[12]=s=>t.modalrealizarventa=s),persistent:""},{default:d(()=>[a(F,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:d(()=>[a(v,{style:{display:"flex","align-items":"center"}},{default:d(()=>[a($,{color:"primary","text-color":"white"},{default:d(()=>[a(D,{name:"shopping_cart_checkout"})]),_:1}),We]),_:1}),a(k),a(v,null,{default:d(()=>[e("table",Ze,[e("tr",null,[Je,e("td",Xe,n(t.nombrecliente),1)]),e("tr",null,[e("td",null,n(t.documentoabrev)+":",1),e("td",ta,n(t.documentoclientesolo),1)]),e("tr",null,[ea,e("td",aa,n(t.fechaholds),1)])]),e("table",oa,[sa,(y(!0),S(U,null,Q(t.holds,s=>(y(),S("tr",{key:s},[e("td",la,n(s.producto),1),e("td",na,n(s.precio),1),e("td",ia,n(s.cantidad),1),e("td",da,n(s.tasa)+"%",1),e("td",ra,n(s.total),1)]))),128)),ca]),e("table",ua,[e("tr",ha,[pa,fa,e("td",ma,n(t.subtotal),1)]),e("tr",_a,[ga,ba,e("td",ya,n(t.impuesto),1)]),e("tr",va,[wa,Ca,e("td",ka,n(t.descuento),1)]),e("tr",Ba,[Ia,Sa,e("td",Da,n(t.igtf),1)]),e("tr",Na,[Va,Fa,e("td",xa,n(t.total),1)]),e("tr",za,[Ta,Pa,e("td",qa,n(t.totalusd),1)])])]),_:1}),a(k),a(N,{align:"center"},{default:d(()=>[P(a(g,{outline:"","no-caps":"","icon-right":"close",color:"warning",label:"Cancelar"},null,512),[[A]]),a(g,{unelevated:"","no-caps":"","icon-right":"check",color:"warning",label:"Aceptar",onClick:t.realizarVenta},null,8,["onClick"])]),_:1}),a(N,{align:"center",style:{color:"#404d52"}},{default:d(()=>[b(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(q,{modelValue:t.modaldetalleinvoice,"onUpdate:modelValue":o[13]||(o[13]=s=>t.modaldetalleinvoice=s),persistent:""},{default:d(()=>[a(F,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:d(()=>[e("div",Aa,[a(v,{style:{"justify-content":"center"}},{default:d(()=>[e("div",Ea,n(t.empresa)+" - "+n(t.rif),1),e("div",Ha,n(t.direccion),1),e("div",Ua,n(t.telefono),1),e("div",Qa,n(t.email),1),a(k,{style:{margin:"10px 0px"}}),e("div",$a,[e("div",ja,n(t.detalleventa.tipofactura),1),e("div",Oa,n(t.detalleventa.numerointerno),1)]),e("div",Ma,[Ra,e("div",La,n(t.detalleventa.numerocontrol),1)]),a(k,{style:{margin:"10px 0px"}}),e("table",Ya,[e("tr",Ka,[Ga,e("td",Wa,n(t.detalleventa.nombrecliente),1)]),e("tr",Za,[e("td",null,n(t.detalleventa.abrev),1),e("td",Ja,n(t.detalleventa.documento),1)]),e("tr",Xa,[to,e("td",eo,n(t.fechaDetalle(t.detalleventa.fecha)),1)]),e("tr",ao,[oo,e("td",so,n(t.detalleventa.usuario),1)])]),e("table",lo,[no,(y(!0),S(U,null,Q(t.ventas,s=>(y(),S("tr",{key:s,style:{"font-size":"11px"}},[e("td",io,n(s.producto),1),e("td",ro,n(s.precio),1),e("td",co,n(s.cantidad),1),e("td",uo,n(s.tasa)+"%",1),e("td",ho,n(s.subtotal),1)]))),128)),po]),e("table",fo,[e("tr",mo,[_o,go,e("td",bo,n(t.detalleventa.subtotal),1)]),e("tr",yo,[vo,wo,e("td",Co,n(t.detalleventa.impuesto),1)]),e("tr",ko,[Bo,Io,e("td",So,n(t.detalleventa.descuentos),1)]),e("tr",Do,[No,Vo,e("td",Fo,n(t.detalleventa.igtf),1)]),e("tr",xo,[zo,To,e("td",Po,n(t.detalleventa.total),1)]),e("tr",qo,[Ao,Eo,e("td",Ho,n(t.detalleventa.totalusd),1)])])]),_:1})]),Uo,a(k),a(N,{align:"center"},{default:d(()=>[P(a(g,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"warning"},null,512),[[A]]),a(g,{unelevated:"","no-caps":"",label:"Imprimir",color:"warning","icon-right":"check",onClick:t.imprimir},null,8,["onClick"])]),_:1}),a(N,{align:"center",style:{color:"#404d52"}},{default:d(()=>[b(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(q,{modelValue:t.modalanular,"onUpdate:modelValue":o[15]||(o[15]=s=>t.modalanular=s),persistent:""},{default:d(()=>[a(F,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:d(()=>[a(v,{style:{display:"flex","align-items":"center"}},{default:d(()=>[a($,{color:"primary","text-color":"white"},{default:d(()=>[a(D,{name:"cancel_presentation"})]),_:1}),Qo]),_:1}),a(k),a(v,{style:{"justify-content":"center"}},{default:d(()=>[e("div",$o,[a(z,{class:"col-10",color:"blue-grey-3",outlined:"",modelValue:t.numerointernoanular,"onUpdate:modelValue":o[14]||(o[14]=s=>t.numerointernoanular=s),label:"N\xFAmero Interno","stack-label":"",autofocus:""},null,8,["modelValue"]),a(g,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarFactura},null,8,["onClick"])])]),_:1}),a(k),t.facturabuscado?(y(),I(v,{key:0,style:{"justify-content":"center"}},{default:d(()=>[e("div",{class:Ct(t.detalleventaanular.estatus==="1"?"procesada":"anulada"),style:{display:"flex","justify-content":"center","align-items":"center",width:"100%"}},n(t.detalleventaanular.estatus==="1"?"PROCESADA":"ANULADA"),3),e("div",jo,[e("div",Oo,n(t.detalleventaanular.tipofactura),1),e("div",Mo,n(t.detalleventaanular.numerointerno),1)]),e("div",Ro,[Lo,e("div",Yo,n(t.detalleventaanular.numerocontrol),1)]),a(k,{style:{margin:"10px 0px"}}),e("table",Ko,[e("tr",Go,[Wo,e("td",Zo,n(t.detalleventaanular.nombrecliente),1)]),e("tr",Jo,[e("td",null,n(t.detalleventaanular.abrev),1),e("td",Xo,n(t.detalleventaanular.documento),1)]),e("tr",ts,[es,e("td",as,n(t.fechaDetalle(t.detalleventaanular.fecha)),1)]),e("tr",os,[ss,e("td",ls,n(t.detalleventaanular.usuario),1)])]),e("table",ns,[is,(y(!0),S(U,null,Q(t.ventasanular,s=>(y(),S("tr",{key:s,style:{"font-size":"11px"}},[e("td",ds,n(s.producto),1),e("td",null,n(s.precio),1),e("td",null,n(s.cantidad),1),e("td",null,n(s.tasa)+"%",1),e("td",rs,n(s.subtotal),1)]))),128)),cs]),e("table",us,[e("tr",hs,[ps,fs,e("td",ms,n(t.detalleventaanular.subtotal),1)]),e("tr",_s,[gs,bs,e("td",ys,n(t.detalleventaanular.impuesto),1)]),e("tr",vs,[ws,Cs,e("td",ks,n(t.detalleventaanular.descuentos),1)]),e("tr",Bs,[Is,Ss,e("td",Ds,n(t.detalleventaanular.igtf),1)]),e("tr",Ns,[Vs,Fs,e("td",xs,n(t.detalleventaanular.total),1)]),e("tr",zs,[Ts,Ps,e("td",qs,n(t.detalleventaanular.totalusd),1)])])]),_:1})):V("",!0),a(k),a(N,{align:"center"},{default:d(()=>[P(a(g,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"warning"},null,512),[[A]]),a(g,{label:"Aceptar",unelevated:"","no-caps":"",color:"warning","icon-right":"check",disable:t.btnDisableAnular,onClick:t.anularDocumento},null,8,["disable","onClick"])]),_:1}),a(N,{align:"center",style:{color:"#404d52"}},{default:d(()=>[b(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Ls=yt(xt,[["render",As],["__scopeId","data-v-5b8e6c33"]]);export{Ls as default};
