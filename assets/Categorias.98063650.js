import{_ as I,aj as A,r as i,N as _,k as c,al as p,t as o,m as r,q as e,B as n,z as N,l as h,ax as S,ay as x,Q as y,x as m,au as g,y as b,A as B,a3 as v,az as P,at as C,am as f,av as j,aw as z}from"./index.379e16fb.js";import{Q as D,C as Q}from"./ClosePopup.e5ad9c3d.js";import{Q as w,a as u}from"./QItem.d392d2f2.js";import{Q as $}from"./QPage.d25ede10.js";import{a as k}from"./axios.7331a07d.js";const V="https://posapi-test.factura-smart.com/",L=A({name:"IndexPage",setup(){return{rows:i([]),slide:i(2),categoria:i(""),descripcion:i(""),buscaritem:i(!1)}},methods:{listar(){this.btndisable=!1,k.get(V+"categoria/"+sessionStorage.getItem("co_empresa")).then(async a=>{console.log(a.data);const t=a.data.resp;this.rows=[];for(const d in t){const l={};l.cod=t[d].id,l.categoria=t[d].categoria,l.descripcion=t[d].descripcion,this.rows.push(l)}console.log(this.rows)}).catch(a=>{_.create("Problemas al listar Categorias "+a)})},crear(){if(this.categoria.length===0||this.descripcion.length===0)return;const a={categoria:this.categoria,descripcion:this.descripcion,idempresa:sessionStorage.getItem("co_empresa")};console.log(a),k.post(V+"categoria",a).then(async t=>{this.modalcrear=!1,console.log(t.data),_.create(t.data.message),this.listar()})},primeraletra(a){return a[0]},colorLetra(a){const t=a[0].charCodeAt(0);return"#"+t+"0"}},mounted(){console.log("Modo producci\xF3n"),this.listar()}}),T={class:"col"},U={class:"botones row",style:{background:"#ededed"}},E={class:"listarcategorias row"},q={key:1,class:"listarcategoriasconitem col"},F={class:"row justify-center"},H={style:{display:"flex"}},M={style:{display:"flex"}},O=r("div",{class:"text-h6"},"Crear categot\xEDa",-1),G={class:""};function J(a,t,d,l,K,R){return c(),p($,{class:"bg-white row"},{default:o(()=>[r("div",T,[r("div",U,[e(n,{color:"secondary",icon:"add_circle",onClick:t[0]||(t[0]=s=>a.buscaritem=!0),label:"Agregar categoria",style:{margin:"10px"}})]),r("div",E,[a.slide===1?(c(),p(N,{key:0,class:"carritofondo",name:"remove_shopping_cart"})):(c(),h("div",q,[r("div",F,[(c(!0),h(S,null,x(a.rows,s=>(c(),p(y,{key:s,class:"my-card tarjetaitem col-md-5 col-sm-11 col-xs-11"},{default:o(()=>[e(w,{horizontal:""},{default:o(()=>[e(u,null,{default:o(()=>[e(D,null,{default:o(()=>[C(f(s.categoria),1)]),_:2},1024)]),_:2},1024),e(u,{side:""},{default:o(()=>[r("div",H,[e(n,{flat:"",round:"",color:"red",icon:"delete"}),e(n,{flat:"",round:"",color:"blue",icon:"edit"})])]),_:1})]),_:2},1024),e(w,{horizontal:""},{default:o(()=>[e(u,{avatar:"",style:{"padding-right":"15px","align-items":"center"}},{default:o(()=>[e(j,{"text-color":"white",style:z("background: "+a.colorLetra(s.categoria))},{default:o(()=>[C(f(a.primeraletra(s.categoria)),1)]),_:2},1032,["style"])]),_:2},1024),e(u,{class:"tarjeticainside"},{default:o(()=>[r("div",M,f(s.descripcion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])]))])]),e(P,{modelValue:a.buscaritem,"onUpdate:modelValue":t[3]||(t[3]=s=>a.buscaritem=s),position:"top"},{default:o(()=>[e(y,null,{default:o(()=>[e(m,null,{default:o(()=>[O]),_:1}),e(g),e(m,null,{default:o(()=>[r("div",G,[e(b,{filled:"",modelValue:a.categoria,"onUpdate:modelValue":t[1]||(t[1]=s=>a.categoria=s),label:"Categor\xEDa","stack-label":""},null,8,["modelValue"])])]),_:1}),e(g),e(m,null,{default:o(()=>[e(b,{modelValue:a.descripcion,"onUpdate:modelValue":t[2]||(t[2]=s=>a.descripcion=s),label:"Descripci\xF3n de categor\xEDa",filled:"",type:"textarea"},null,8,["modelValue"])]),_:1}),e(g),e(B,{align:"right"},{default:o(()=>[v(e(n,{flat:"",label:"Cancelar",color:"primary"},null,512),[[Q]]),v(e(n,{label:"Aceptar",color:"secondary",onClick:a.crear},null,8,["onClick"]),[[Q]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ea=I(L,[["render",J]]);export{ea as default};
