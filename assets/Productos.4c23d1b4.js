import{_ as L,ak as T,r as u,N as v,k as f,am as b,t as i,m as d,q as e,z,y as p,B as y,l as N,aw as A,ax as D,ao as _,Q as U,x as m,ay as h,A as B,a6 as x,az as E,an as c,E as g,b5 as K,aB as $,aD as F}from"./index.b0d3d67d.js";import{Q as S,C as P}from"./ClosePopup.1d9f5d11.js";import{Q as I}from"./QBadge.cff4ed6d.js";import{Q as j,a as w}from"./QItem.bb8940ee.js";import{a as C}from"./QSelect.444efa51.js";import{Q as M}from"./QPage.9fb1a8a7.js";import{a as V}from"./axios.7331a07d.js";import"./format.34298ed5.js";const k="https://posapi-test.factura-smart.com/",H=T({name:"IndexPage",setup(){return{slide:u(2),inventariocompuesto:u(0),rows:u([]),rowsproductosfiltre:u([]),rowsproductosimple:u([]),rowsproductocompuesto:u([]),textitemsimple:u(""),textitem:u(""),productocompuestoedit:u(""),sku:u(""),producto:u(""),idproducto:u(null),descripcion:u(""),costo:u(0),precio:u(0),costousd:u(0),preciousd:u(0),utilidad:u(0),inventario:u(0),buscaritem:u(!1),buscarsimples:u(!1),buscarcompuestos:u(!1),editaritem:u(!1),model:u(null),options:[],modeltax:u(null),optionstax:[],modelunidad:u(null),modeltipoproducto:u(null),buscadoproducto:u(!0),buscadoproductosimple:u(!0),optionsunidad:u([]),optionstipoproducto:u([])}},methods:{calcularMonto(o){console.log(o.inventario);const t=document.getElementById("cantidad"+o.cod);if(t){const a=t.value>0?t.value:1;console.log(o.inventario,a),document.getElementById("estimado"+o.cod).innerHTML=(o.inventario/a).toFixed(2)}},listar(){this.btndisable=!1;const o=0;V.get(k+"productos/"+sessionStorage.getItem("co_empresa")+"/"+o).then(async t=>{console.log(t.data);const a=t.data.resp;this.rows=[];for(const l in a){const n={};n.cod=a[l].id,n.sku=a[l].sku,n.producto=a[l].producto,n.categoria=a[l].categoria,n.idcategoria=a[l].idcategoria,n.descripcion=a[l].descripcion,n.unidad=a[l].unidad,n.idunidad=a[l].idunidad,n.impuesto=a[l].impuesto,n.idimpuesto=a[l].idimpuesto,n.intipoproducto=a[l].intipoproducto,n.precio=a[l].precio,n.costo=a[l].costo,n.utilidad=a[l].utilidad,n.preciousd=a[l].preciousd,n.costousd=a[l].costousd,n.inventario=Number(a[l].inventario1)||0,this.rows.push(n)}this.rowsproductosfiltre=this.rows,this.rowsproductosimple=this.rows.filter(l=>Number(l.intipoproducto)===1),console.log("this.rowsproductosimple"),console.log(this.rowsproductosimple)}).catch(t=>{v.create("Problemas al listar Categorias "+t)})},openEditarCompuesto(o){console.log(o),this.idproducto=o.cod,this.productocompuestoedit=o.producto,this.buscarsimples=!0},openAbrirCompuesto(o){console.log(o),this.idproducto=o.cod,this.productocompuestoedit=o.producto;const t={idproducto:o.cod};V.post(k+"productos/getcompuesto",t).then(async a=>{console.log(a.data);const l=a.data.resp;this.rowsproductocompuesto=[],this.minimacantidad=1e6;for(const n in l){const r={};r.cod=l[n].id,r.sku=l[n].sku,r.producto=l[n].producto,r.categoria=l[n].categoria,r.idcategoria=l[n].idcategoria,r.descripcion=l[n].descripcion,r.unidad=l[n].unidad,r.idunidad=l[n].idunidad,r.impuesto=l[n].impuesto,r.idimpuesto=l[n].idimpuesto,r.intipoproducto=l[n].intipoproducto,r.precio=l[n].precio,r.costo=l[n].costo,r.utilidad=l[n].utilidad,r.preciousd=l[n].preciousd,r.costousd=l[n].costousd,r.cantidad=l[n].cantidad,r.inventario=Number(l[n].inventario1)||0,r.estimado=l[n].cantidad>0?(r.inventario/l[n].cantidad).toFixed(2):0,this.rowsproductocompuesto.push(r)}console.log(this.rowsproductocompuesto)}).catch(a=>{v.create("Problemas al listar Productos Compuesto "+a)}),this.buscarcompuestos=!0},addproductosimple(o){console.log(o.idunidad),console.log(o.cod),console.log(this.idproducto);const t={idunidad:o.idunidad,idproductohijo:o.cod,idproductopadre:this.idproducto,cantidad:0};V.post(k+"productos/compuesto",t).then(async a=>{this.modalcrear=!1,v.create(a.data.message),this.buscarsimples=!1,this.listar()}).catch(a=>{v.create("Problemas al Crear Producto Compuesto >>> "+a)})},openEditar(o){console.log(o.intipoproducto),console.log(this.optionstipoproducto),this.editaritem=!0;const t=this.options.find(r=>r.cod===o.idcategoria);this.model=t;const a=this.optionstax.find(r=>r.cod===o.idimpuesto);this.modeltax=a;const l=this.optionsunidad.find(r=>r.cod===o.idunidad);this.modelunidad=l;const n=this.optionstipoproducto.find(r=>r.id===Number(o.intipoproducto));this.modeltipoproducto=n,console.log(n),this.sku=o.sku,this.descripcion=o.descripcion,this.idproducto=o.cod,this.producto=o.producto,this.costo=o.costo,this.inventario=o.inventario,this.precio=o.precio,this.costousd=o.costousd,this.utilidad=o.utilidad,this.preciousd=o.preciousd},openCrear(){this.limpiar(),this.buscaritem=!0},limpiar(){this.model=null,this.modeltax=null,this.modelunidad=null,this.sku="",this.descripcion="",this.producto="",this.costo=0,this.costousd=0,this.inventario="",this.precio=0,this.preciousd=0},async editarCompuesto(){let o=999999999;for(const a in this.rowsproductocompuesto){const l=this.rowsproductocompuesto[a],n=document.getElementById("cantidad"+l.cod).value,r=document.getElementById("estimado"+l.cod).innerHTML;Number(r)<Number(o)&&(o=r);const s={idproductopadre:this.idproducto,idproductohijo:l.cod,cantidad:n};await V.post(k+"productos/updatecompuesto",s)}console.log(parseInt(o));const t={idproducto:this.idproducto,inventario:parseInt(o)};await V.post(k+"productos/updateinventario",t),this.buscarcompuestos=!1,this.listar()},editar(){if(this.producto.length===0||this.descripcion.length===0||this.precio.length===0||this.preciousd.length===0||this.inventario.length===0)return;const o={id:this.idproducto,idcategoria:this.model.cod,idimpuesto:this.modeltax.cod,idunidad:this.modelunidad.cod,intipoproducto:this.modelunidad.id,descripcion:this.descripcion,producto:this.producto,sku:this.sku,costo:this.costo||0,costousd:this.costousd||0,inventario:Number(this.modeltipoproducto.id)===3?0:this.inventario,utilidad:this.utilidad,precio:this.precio,preciousd:this.preciousd};V.post(k+"productos/updateproductos",o).then(async t=>{this.modalcrear=!1,console.log(t.data),v.create(t.data.resp.message),this.listar()})},crear(){if(this.producto.length===0||this.descripcion.length===0||this.precio.length===0||this.preciousd.length===0||this.inventario.length===0)return;const o={idcategoria:this.model.cod,idimpuesto:this.modeltax.cod,idunidad:this.modelunidad.cod,intipoproducto:this.modeltipoproducto.id,descripcion:this.descripcion,producto:this.producto,sku:this.sku,costo:this.costo,costousd:this.costousd,preciousd:this.preciousd,inventario:Number(this.modeltipoproducto.id)===3?0:this.inventario,utilidad:this.utilidad,precio:this.precio};V.post(k+"productos",o).then(async t=>{this.modalcrear=!1,v.create(t.data.message),this.listar()}).catch(t=>{v.create("Problemas al Crear Producto "+t)})},listarCategoria(){V.get(k+"categoria/"+sessionStorage.getItem("co_empresa")).then(async o=>{const t=o.data.resp;this.options=[];for(const a in t){const l={};l.cod=t[a].id,l.categoria=t[a].categoria,l.descripcion=t[a].descripcion,this.options.push(l)}}).catch(o=>{v.create("Problemas al listar Categorias "+o)})},listarImpuesto(){V.get(k+"impuestos").then(async o=>{const t=o.data.resp;this.optionstax=[];for(const a in t){const l={};l.cod=t[a].id,l.impuesto=t[a].impuesto,l.tasa=t[a].tasa,this.optionstax.push(l)}}).catch(o=>{v.create("Problemas al listar Impuestos "+o)})},listarUnidades(){V.get(k+"unidades").then(async o=>{const t=o.data.resp;this.optionsunidad=[];for(const a in t){const l={};l.cod=t[a].id,l.unidad=t[a].unidad,this.optionsunidad.push(l)}}).catch(o=>{v.create("Problemas al listar Unidades "+o)})},primeraletra(o){return o[0]},colorLetra(o){const t=o[0].charCodeAt(0);return"#"+t+"0"},async cargar(){const o=await V.get(k+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(t=>{v.create("Problemas al listar Configuracion "+t)});return console.log(o),o.data.resp}},watch:{textitem(o){console.log("textitem"),console.log(o),this.buscadoproducto=!1,o.length>0?this.rowsproductosfiltre=this.rowsproductosfiltre.filter(t=>!!(t.producto.toUpperCase().includes(o.toUpperCase())||t.sku&&t.sku.includes(o))):this.rowsproductosfiltre=this.rows,this.buscadoproducto=!0},textitemsimple(o){console.log("textitemsimple"),console.log(o),this.buscadoproductosimple=!1,o.length>0?this.rowsproductosimple=this.rowsproductosimple.filter(t=>!!(t.producto.toUpperCase().includes(o.toUpperCase())||t.sku&&t.sku.includes(o))):this.rowsproductosimple=this.rows,this.buscadoproductosimple=!0},costo(){this.costo>0?(this.costousd=(this.costo/this.tasausd).toFixed(2),this.utilidad=((this.precio-this.costo)/this.costo*100).toFixed(2)):(this.costousd=0,this.utilidad=0,this.costo=0)},precio(){this.precio>0?(this.preciousd=(this.precio/this.tasausd).toFixed(2),this.costo>0&&(this.utilidad=((this.precio-this.costo)/this.costo*100).toFixed(2))):(this.preciousd=0,this.utilidad=0,this.precio=0)}},async mounted(){const o=await this.cargar();this.tasausd=o.tasabcv,this.listar(),this.listarCategoria(),this.listarImpuesto(),this.listarUnidades();let t={};t.id=1,t.tipoproducto="Simple",this.optionstipoproducto.push(t),t={},t.id=2,t.tipoproducto="Compuesto",this.optionstipoproducto.push(t),t={},t.id=3,t.tipoproducto="Servicio",this.optionstipoproducto.push(t)}}),q={class:"col"},G=d("div",{class:"botones row fondo-gris shadow-up-9"},[d("h6",{class:"p-4"},"Productos")],-1),O={class:"botones"},J={class:"row"},R={class:"col"},W={class:"col",style:{display:"flex","justify-content":"flex-end"}},X={class:"listarproductos row"},Y={key:1,class:"puntodeventaconitem col"},Z={key:0,class:"row justify-center"},oo={style:{display:"flex"}},to={style:{display:"flex"}},eo={style:{display:"flex"}},so={style:{display:"grid",width:"33%","font-size":"11px","justify-content":"center"}},io=d("div",{class:"text-center"},"Unidad",-1),lo={class:"text-primary"},ao={style:{display:"grid",width:"33%","font-size":"11px","justify-content":"center"}},no=d("div",{class:"text-center"},"Impuesto.",-1),ro={class:"text-primary"},uo={style:{display:"grid",width:"33%","font-size":"11px","justify-content":"center"}},co=d("div",{class:"text-center"},"Inventario",-1),po={class:"text-center"},mo=d("div",{class:"text-h6 text-center color-texto"},"Crear producto",-1),ho={class:"col",style:{padding:"0 10px"}},fo={class:"col",style:{padding:"0 10px"}},go={class:""},yo={class:"col"},bo={class:"col"},vo={class:"row"},Vo={class:"row"},ko={class:"row"},wo=d("div",{class:"text-h6"},"Editar producto",-1),_o={class:"col",style:{padding:"0 10px"}},Co={class:"col",style:{padding:"0 10px"}},Uo={class:""},xo={class:"col"},So={class:"col"},Po={class:"row"},Io={class:"row"},jo={class:"row"},zo=d("div",{class:"titulobuscar"},"Agregar item al Producto Compuesto",-1),No={class:"subtitulobuscar"},Qo={class:""},Bo={style:{display:"flex"}},Eo={style:{display:"flex"}},Ao={style:{display:"flex"}},Do={style:{display:"grid",width:"48%","font-size":"11px","justify-content":"center"}},$o=d("div",{class:"text-center"},"Unidad",-1),Fo={class:"text-secondary"},Lo={style:{display:"grid",width:"48%","font-size":"11px","justify-content":"center"}},To=d("div",{class:"text-center"},"Impuesto.",-1),Ko={class:"text-secondary"},Mo=d("div",{class:"titulobuscar"},"Editar items del Producto Compuesto",-1),Ho={class:"subtitulobuscar"},qo=d("div",{class:"titulonohay"},"No tiene item asignado",-1),Go={style:{display:"flex"}},Oo={style:{display:"grid",width:"25%","font-size":"11px","justify-content":"center"}},Jo=d("div",{class:"text-center"},"Cantidad",-1),Ro=["id","value","onInput"],Wo={style:{display:"grid",width:"25%","font-size":"11px","justify-content":"center"}},Xo=d("div",{class:"text-center"},"Disponible",-1),Yo={class:"text-secondary text-center"},Zo={style:{display:"grid",width:"25%","font-size":"11px","justify-content":"center"}},ot=d("div",{class:"text-center"},"Unidad",-1),tt={class:"text-secondary text-center"},et={style:{display:"grid",width:"25%","font-size":"11px","justify-content":"center"}},st=d("div",{class:"text-center"},"Estimado",-1),it=["id"];function dt(o,t,a,l,n,r){return f(),b(M,null,{default:i(()=>[d("div",q,[G,d("div",O,[d("div",J,[d("div",R,[e(p,{color:"blue-grey-3","bg-color":"white",dense:"",outlined:"",modelValue:o.textitem,"onUpdate:modelValue":t[1]||(t[1]=s=>o.textitem=s),label:"Nombre o Sku de producto",style:{margin:"5px",width:"310px"},autofocus:""},{prepend:i(()=>[e(z,{name:"search"})]),append:i(()=>[e(z,{name:"close",onClick:t[0]||(t[0]=s=>o.textitem=""),class:"cursor-pointer"})]),_:1},8,["modelValue"])]),d("div",W,[e(y,{"no-caps":"",unelevated:"",dense:"",class:"gradient-btn",icon:"add_circle",onClick:o.openCrear,label:"Agregar producto",style:{margin:"10px"}},null,8,["onClick"])])])]),d("div",X,[o.slide===1?(f(),b(z,{key:0,class:"carritofondo",name:"remove_shopping_cart"})):(f(),N("div",Y,[o.buscadoproducto?(f(),N("div",Z,[(f(!0),N(A,null,D(o.rowsproductosfiltre,s=>(f(),b(U,{key:s,class:"my-card tarjetaitem col-md-5 col-sm-11 col-xs-11 custom-shadow custom-border-radius"},{default:i(()=>[e(j,{horizontal:""},{default:i(()=>[e(w,null,{default:i(()=>[e(S,null,{default:i(()=>[g(c(s.sku)+" "+c(s.producto),1)]),_:2},1024),e(S,{caption:""},{default:i(()=>[e(I,{color:s.intipoproducto==="1"?"light-green-2":s.intipoproducto==="2"?"deep-orange-2":"orange-2",style:{"margin-top":"5px","margin-right":"5px",color:"#404d52"}},{default:i(()=>[g(c(s.intipoproducto==="1"?"Simple":s.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color"]),g(" "+c(s.categoria),1)]),_:2},1024)]),_:2},1024),e(w,{side:""},{default:i(()=>[d("div",oo,[s.intipoproducto==="2"?(f(),b(y,{key:0,flat:"",round:"",icon:"dashboard_customize",style:{margin:"3px"},onClick:Q=>o.openEditarCompuesto(s)},null,8,["onClick"])):_("",!0),s.intipoproducto==="2"?(f(),b(y,{key:1,flat:"",round:"",icon:"inventory_2",style:{margin:"3px"},onClick:Q=>o.openAbrirCompuesto(s)},null,8,["onClick"])):_("",!0),x(e(y,{flat:"",round:"",icon:"delete",style:{margin:"3px"}},null,512),[[K,!1]]),e(y,{flat:"",round:"",icon:"edit",onClick:Q=>o.openEditar(s),style:{margin:"3px"}},null,8,["onClick"])])]),_:2},1024)]),_:2},1024),e(j,{horizontal:""},{default:i(()=>[e(w,{avatar:"",style:{"padding-right":"15px","align-items":"center"}},{default:i(()=>[e($,{"text-color":"white",style:F("background: "+o.colorLetra(s.producto))},{default:i(()=>[g(c(o.primeraletra(s.producto)),1)]),_:2},1032,["style"]),e(I,{color:"dark",style:{"margin-top":"5px"}},{default:i(()=>[g(" Bs."+c(s.precio),1)]),_:2},1024)]),_:2},1024),e(w,{class:"tarjeticainside"},{default:i(()=>[d("div",to,c(s.descripcion),1),d("div",eo,[d("div",so,[io,d("div",lo,c(s.unidad),1)]),d("div",ao,[no,d("div",ro,c(s.impuesto),1)]),d("div",uo,[co,d("div",po,[s.inventario>10?(f(),b(I,{key:0,class:"estatusbien"},{default:i(()=>[g(c(s.inventario),1)]),_:2},1024)):_("",!0),s.inventario>0&&s.inventario<=10?(f(),b(I,{key:1,class:"estatusmedio"},{default:i(()=>[g(c(s.inventario),1)]),_:2},1024)):_("",!0),s.inventario===0?(f(),b(I,{key:2,class:"estatusmal"},{default:i(()=>[g(c(s.intipoproducto==="3"?"N/A":0),1)]),_:2},1024)):_("",!0)])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):_("",!0)]))])]),e(E,{modelValue:o.buscaritem,"onUpdate:modelValue":t[15]||(t[15]=s=>o.buscaritem=s)},{default:i(()=>[e(U,{class:"custom-shadow custom-border-radius"},{default:i(()=>[e(m,null,{default:i(()=>[mo]),_:1}),e(h),e(m,{class:"row"},{default:i(()=>[e(p,{class:"col",filled:"",modelValue:o.sku,"onUpdate:modelValue":t[2]||(t[2]=s=>o.sku=s),label:"SKU","stack-label":"",dense:""},null,8,["modelValue"]),d("div",ho,[e(C,{filled:"",modelValue:o.modeltipoproducto,"onUpdate:modelValue":t[3]||(t[3]=s=>o.modeltipoproducto=s),options:o.optionstipoproducto,"option-label":"tipoproducto","option-value":"id",label:"Seleccione tipo",dense:""},null,8,["modelValue","options"])])]),_:1}),e(h),e(m,{class:"row"},{default:i(()=>[d("div",fo,[e(C,{filled:"",modelValue:o.model,"onUpdate:modelValue":t[4]||(t[4]=s=>o.model=s),options:o.options,"option-label":"categoria","option-value":"cod",label:"Seleccione categor\xEDa",dense:""},null,8,["modelValue","options"])])]),_:1}),e(h),e(m,null,{default:i(()=>[d("div",go,[e(p,{filled:"",modelValue:o.producto,"onUpdate:modelValue":t[5]||(t[5]=s=>o.producto=s),label:"Producto","stack-label":"",dense:""},null,8,["modelValue"])])]),_:1}),e(h),e(m,null,{default:i(()=>[e(p,{modelValue:o.descripcion,"onUpdate:modelValue":t[6]||(t[6]=s=>o.descripcion=s),label:"Descripci\xF3n de producto",filled:"",rows:"2",dense:"",type:"textarea"},null,8,["modelValue"])]),_:1}),e(h),e(m,{class:"row"},{default:i(()=>[d("div",yo,[e(C,{filled:"",modelValue:o.modeltax,"onUpdate:modelValue":t[7]||(t[7]=s=>o.modeltax=s),options:o.optionstax,"option-label":"impuesto","option-value":"cod",label:"Elija impuesto",dense:""},null,8,["modelValue","options"])]),d("div",bo,[e(C,{filled:"",modelValue:o.modelunidad,"onUpdate:modelValue":t[8]||(t[8]=s=>o.modelunidad=s),options:o.optionsunidad,"option-label":"unidad","option-value":"cod",label:"Elija unidad",dense:""},null,8,["modelValue","options"])])]),_:1}),e(h),e(m,null,{default:i(()=>[d("div",vo,[e(p,{style:{"margin-right":"5px"},type:"number",min:"0",class:"col",filled:"",modelValue:o.costo,"onUpdate:modelValue":t[9]||(t[9]=s=>o.costo=s),label:"Costo Bs.","stack-label":"",dense:""},null,8,["modelValue"]),e(p,{style:{"margin-left":"5px"},class:"col",filled:"",modelValue:o.costousd,"onUpdate:modelValue":t[10]||(t[10]=s=>o.costousd=s),label:"Costo USD","stack-label":"",dense:""},null,8,["modelValue"])]),d("div",Vo,[e(p,{style:{"margin-right":"5px"},type:"number",min:"0",class:"col",filled:"",modelValue:o.precio,"onUpdate:modelValue":t[11]||(t[11]=s=>o.precio=s),label:"Precio Bs.","stack-label":"",dense:""},null,8,["modelValue"]),e(p,{style:{"margin-left":"5px"},class:"col",filled:"",modelValue:o.preciousd,"onUpdate:modelValue":t[12]||(t[12]=s=>o.preciousd=s),label:"Precio USD","stack-label":"",dense:""},null,8,["modelValue"])]),d("div",ko,[e(p,{style:{"margin-right":"5px"},class:"col",filled:"",modelValue:o.utilidad,"onUpdate:modelValue":t[13]||(t[13]=s=>o.utilidad=s),label:"Utilidad %","stack-label":"",dense:"",readonly:""},null,8,["modelValue"]),e(p,{style:{"margin-left":"5px"},class:"col",filled:"",modelValue:o.inventario,"onUpdate:modelValue":t[14]||(t[14]=s=>o.inventario=s),label:"Inventario","stack-label":"",dense:""},null,8,["modelValue"])])]),_:1}),e(h),e(B,{align:"center"},{default:i(()=>[x(e(y,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"warning"},null,512),[[P]]),x(e(y,{unelevated:"","no-caps":"",label:"Aceptar",color:"warning","icon-right":"check",onClick:o.crear},null,8,["onClick"]),[[P]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:o.editaritem,"onUpdate:modelValue":t[29]||(t[29]=s=>o.editaritem=s),position:"top"},{default:i(()=>[e(U,null,{default:i(()=>[e(m,null,{default:i(()=>[wo]),_:1}),e(h),e(m,{class:"row"},{default:i(()=>[e(p,{class:"col",filled:"",modelValue:o.sku,"onUpdate:modelValue":t[16]||(t[16]=s=>o.sku=s),label:"SKU","stack-label":"",dense:""},null,8,["modelValue"]),d("div",_o,[e(C,{filled:"",disable:"",modelValue:o.modeltipoproducto,"onUpdate:modelValue":t[17]||(t[17]=s=>o.modeltipoproducto=s),options:o.optionstipoproducto,"option-label":"tipoproducto","option-value":"id",label:"Seleccione tipo",dense:""},null,8,["modelValue","options"])])]),_:1}),e(h),e(m,{class:"row"},{default:i(()=>[d("div",Co,[e(C,{filled:"",modelValue:o.model,"onUpdate:modelValue":t[18]||(t[18]=s=>o.model=s),options:o.options,"option-label":"categoria","option-value":"cod",label:"Seleccione categor\xEDa",dense:""},null,8,["modelValue","options"])])]),_:1}),e(h),e(m,null,{default:i(()=>[d("div",Uo,[e(p,{filled:"",modelValue:o.producto,"onUpdate:modelValue":t[19]||(t[19]=s=>o.producto=s),label:"Producto","stack-label":"",dense:""},null,8,["modelValue"])])]),_:1}),e(h),e(m,null,{default:i(()=>[e(p,{modelValue:o.descripcion,"onUpdate:modelValue":t[20]||(t[20]=s=>o.descripcion=s),label:"Descripci\xF3n de producto",filled:"",dense:"",type:"textarea"},null,8,["modelValue"])]),_:1}),e(h),e(m,{class:"row"},{default:i(()=>[d("div",xo,[e(C,{filled:"",modelValue:o.modeltax,"onUpdate:modelValue":t[21]||(t[21]=s=>o.modeltax=s),options:o.optionstax,"option-label":"impuesto","option-value":"cod",label:"Elija impuesto",dense:""},null,8,["modelValue","options"])]),d("div",So,[e(C,{filled:"",modelValue:o.modelunidad,"onUpdate:modelValue":t[22]||(t[22]=s=>o.modelunidad=s),options:o.optionsunidad,"option-label":"unidad","option-value":"cod",label:"Elija unidad",dense:""},null,8,["modelValue","options"])])]),_:1}),e(h),e(m,null,{default:i(()=>[d("div",Po,[e(p,{style:{"margin-right":"5px"},type:"number",min:"0",class:"col",filled:"",modelValue:o.costo,"onUpdate:modelValue":t[23]||(t[23]=s=>o.costo=s),label:"Costo Bs.","stack-label":"",dense:""},null,8,["modelValue"]),e(p,{style:{"margin-left":"5px"},class:"col",filled:"",modelValue:o.costousd,"onUpdate:modelValue":t[24]||(t[24]=s=>o.costousd=s),label:"Costo USD","stack-label":"",dense:""},null,8,["modelValue"])]),d("div",Io,[e(p,{style:{"margin-right":"5px"},type:"number",min:"0",class:"col",filled:"",modelValue:o.precio,"onUpdate:modelValue":t[25]||(t[25]=s=>o.precio=s),label:"Precio Bs.","stack-label":"",dense:""},null,8,["modelValue"]),e(p,{style:{"margin-left":"5px"},class:"col",filled:"",modelValue:o.preciousd,"onUpdate:modelValue":t[26]||(t[26]=s=>o.preciousd=s),label:"Precio USD","stack-label":"",dense:""},null,8,["modelValue"])]),d("div",jo,[e(p,{style:{"margin-right":"5px"},class:"col",filled:"",modelValue:o.utilidad,"onUpdate:modelValue":t[27]||(t[27]=s=>o.utilidad=s),label:"Utilidad %","stack-label":"",dense:"",readonly:""},null,8,["modelValue"]),e(p,{style:{"margin-left":"5px"},class:"col",filled:"",modelValue:o.inventario,"onUpdate:modelValue":t[28]||(t[28]=s=>o.inventario=s),label:"Inventario","stack-label":"",dense:""},null,8,["modelValue"])])]),_:1}),e(h),e(B,{align:"right"},{default:i(()=>[x(e(y,{label:"Cancelar",color:"negative"},null,512),[[P]]),x(e(y,{label:"Aceptar",color:"secondary",onClick:o.editar},null,8,["onClick"]),[[P]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:o.buscarsimples,"onUpdate:modelValue":t[32]||(t[32]=s=>o.buscarsimples=s),position:"top",persistent:""},{default:i(()=>[e(U,{style:{background:"#ddd",width:"350px"}},{default:i(()=>[e(m,{style:{padding:"10px 15px 7px"}},{default:i(()=>[zo,d("div",No,c(o.productocompuestoedit),1)]),_:1}),e(h),e(m,{style:{padding:"10px 15px 7px"}},{default:i(()=>[d("div",Qo,[e(p,{color:"white","bg-color":"primary",rounded:"",standout:"","bottom-slots":"",modelValue:o.textitemsimple,"onUpdate:modelValue":t[31]||(t[31]=s=>o.textitemsimple=s),label:"Nombre o Sku Producto Simple",counter:"",autofocus:""},{prepend:i(()=>[e(z,{name:"search"})]),append:i(()=>[e(z,{name:"close",onClick:t[30]||(t[30]=s=>o.textitemsimple=""),class:"cursor-pointer"})]),hint:i(()=>[g(" Cantidad de letras ")]),_:1},8,["modelValue"])])]),_:1}),e(h),o.buscadoproductosimple?(f(),b(m,{key:0,style:{"max-height":"64vh"},class:"scroll"},{default:i(()=>[(f(!0),N(A,null,D(o.rowsproductosimple,s=>(f(),b(U,{key:s.id,class:"my-card tarjetaitem"},{default:i(()=>[e(j,{horizontal:""},{default:i(()=>[e(w,null,{default:i(()=>[e(S,null,{default:i(()=>[g(c(s.producto),1)]),_:2},1024),e(S,null,{default:i(()=>[g("SKU "+c(s.sku),1)]),_:2},1024),e(S,{caption:""},{default:i(()=>[g(c(s.categoria),1)]),_:2},1024)]),_:2},1024),e(w,{side:""},{default:i(()=>[d("div",Bo,[e(y,{flat:"",round:"",color:"blue",icon:"add_box",onClick:Q=>o.addproductosimple(s),style:{"font-size":"20px"}},null,8,["onClick"])])]),_:2},1024)]),_:2},1024),e(j,{horizontal:""},{default:i(()=>[e(w,{avatar:"",style:{"padding-right":"15px","align-items":"center"}},{default:i(()=>[e($,{"text-color":"white",style:F("background: "+o.colorLetra(s.producto))},{default:i(()=>[g(c(o.primeraletra(s.producto)),1)]),_:2},1032,["style"]),e(I,{color:"blue",style:{"margin-top":"5px"}},{default:i(()=>[g(" Bs. "+c(s.precio),1)]),_:2},1024)]),_:2},1024),e(w,{class:"tarjeticainside"},{default:i(()=>[d("div",Eo,c(s.descripcion),1),d("div",Ao,[d("div",Do,[$o,d("div",Fo,c(s.unidad),1)]),d("div",Lo,[To,d("div",Ko,c(s.impuesto),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):_("",!0),e(h),e(B,{align:"right"},{default:i(()=>[x(e(y,{label:"Cerrar",color:"negative"},null,512),[[P]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:o.buscarcompuestos,"onUpdate:modelValue":t[33]||(t[33]=s=>o.buscarcompuestos=s),position:"top",persistent:""},{default:i(()=>[e(U,{style:{background:"#ddd",width:"350px"}},{default:i(()=>[e(m,{style:{padding:"10px 15px 7px"}},{default:i(()=>[Mo,d("div",Ho,c(o.productocompuestoedit),1)]),_:1}),e(h),o.rowsproductocompuesto.length===0?(f(),b(m,{key:0,style:{padding:"10px 15px 7px"}},{default:i(()=>[qo]),_:1})):_("",!0),e(m,{style:{"max-height":"64vh"},class:"scroll"},{default:i(()=>[(f(!0),N(A,null,D(o.rowsproductocompuesto,s=>(f(),b(U,{key:s.id,class:"my-card tarjetaitem"},{default:i(()=>[e(j,{horizontal:""},{default:i(()=>[e(w,null,{default:i(()=>[e(S,null,{default:i(()=>[g(c(s.producto),1)]),_:2},1024),e(S,{caption:""},{default:i(()=>[g("SKU "+c(s.sku)+" - "+c(s.categoria),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(j,{horizontal:""},{default:i(()=>[e(w,{class:"tarjeticainside"},{default:i(()=>[d("div",Go,[d("div",Oo,[Jo,d("input",{class:"inputCantidad",id:"cantidad"+s.cod,value:s.cantidad,pattern:"^\\d*(\\.\\d{0,2})?$",onInput:Q=>o.calcularMonto(s)},null,40,Ro)]),d("div",Wo,[Xo,d("div",Yo,c(s.inventario),1)]),d("div",Zo,[ot,d("div",tt,c(s.unidad),1)]),d("div",et,[st,d("div",{id:"estimado"+s.cod,class:"text-secondary text-center"},c(s.estimado),9,it)])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(h),e(B,{align:"right"},{default:i(()=>[x(e(y,{label:"Cerrar",color:"negative"},null,512),[[P]]),e(y,{label:"Guardar",color:"primary",onClick:o.editarCompuesto},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ht=L(H,[["render",dt]]);export{ht as default};
