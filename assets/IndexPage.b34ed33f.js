import{Q as $,a as G}from"./QSelect.c47f29f5.js";import{c as R,a0 as K,a2 as Z,K as O,h as Q,e as E,g as J,_ as W,a9 as X,r as c,N as f,k as h,l as F,w as n,m as o,q as e,ab as l,F as _,B as p,aw as g,ax as V,ay as A,Q as B,x as y,a6 as N,y as P,z as j,C as b,ac as x,A as q,az as T,aA as tt,aB as S,aC as et,aD as L,D as ot,E as at}from"./index.2b5d0bf6.js";import{Q as M}from"./QImg.5e073b73.js";import{Q as Y}from"./QBadge.1954e0ab.js";import{Q as I,C as D}from"./ClosePopup.0000aab8.js";import{Q as U,a as z}from"./QItem.114cbe0b.js";import{Q as st}from"./format.80f30a37.js";import{Q as lt}from"./QScrollArea.04957af9.js";import{Q as nt}from"./QPage.161e7907.js";import{a as v}from"./axios.7331a07d.js";import{h as H}from"./moment.40bc58bf.js";import"./QResizeObserver.3393515a.js";var it=R({name:"QBanner",props:{...K,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:s}){const{proxy:{$q:i}}=J(),u=Z(t,i),r=O(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),C=O(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const a=[Q("div",{class:"q-banner__avatar col-auto row items-center self-start"},E(s.avatar)),Q("div",{class:"q-banner__content col text-body2"},E(s.default))],m=E(s.action);return m!==void 0&&a.push(Q("div",{class:C.value},m)),Q("div",{class:r.value+(t.inlineActions===!1&&m!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}}),dt=R({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:s}){const i=O(()=>{const u=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>t[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${u.length!==0?" "+u:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>Q("div",{class:i.value},E(s.default))}});const w="https://posapi-test.factura-smart.com/",rt=X({name:"IndexPage",setup(){return{slide:c(2),prefijo:c("Bs."),prefijo2:c("$"),mostrartotal:c("1"),tipomoneda:c("1"),buscadoproducto:c(!0),btnDisableAnular:c(!0),numerointernoanular:c(""),modalanular:c(!1),empresa:c(""),direccion:c(""),rif:c(""),telefono:c(""),email:c(""),igtf:c(0),numerointerno:c(""),comentario:c(""),idventa:c(""),textitem:c(""),subtotal:c(0),impuesto:c(0),descuento:c(0),total:c(0),subtotalusd:c(0),impuestousd:c(0),descuentousd:c(0),totalusd:c(0),nombrecliente:c(""),correocliente:c(""),telefonocliente:c(""),direccioncliente:c(""),idclienteventa:c(""),nombreclienteventa:c(""),documentoabrev:c(""),documentoclientesolo:c(""),documentoclienteventa:c(""),fechahoy:c(H().format("DD/MM/YYYY")),fechaholds:c(""),idhold:c(""),iditemhold:c(""),iditemholdUpd:c(""),buscaritem:c(!1),modalrealizarventa:c(!1),noencontrado:c(!1),clientebuscado:c(!1),facturabuscado:c(!1),encontrado:c(!1),modalcliente:c(!1),modalcomentario:c(!1),dsbBtnCrearCliente:c(!0),modeldocumento:c(null),modaldeleteholds:c(!1),modaldetalleinvoice:c(!1),optionsdocumento:[],rowsproductos:[],rowsproductosfiltre:[],holds:[],ventas:[],ventasanular:[],detalleventa:{},detalleventaanular:{},tasausd:c(0),idusuario:c(sessionStorage.getItem("id_usuario"))}},methods:{imprimir(){window.frames.print_frame.document.body.innerHTML=document.getElementById("areaImprimir").innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print(),this.modaldetalleinvoice=!1},fechaDetalle(t){return H(t).format("DD/MM/YYYY HH:mm:ss")},escribirComentario(t){let s="<p><ul>";return t.split("//").forEach(u=>{s=s+u+"</br>"}),s+"</ul></p>"},abrirComentario(t){this.comentario=t.comentario,this.iditemholdUpd=t.iditemhold,this.modalcomentario=!0},abrirBuscarFactura(){this.detalleventaanular={},this.numerointernoanular="",this.idUpd="",this.facturabuscado=!1,this.btnDisableAnular=!0,this.modalanular=!0},async updprecioitemholds(t){const s={iditemhold:t.iditemhold,total:t.total,precio:t.precio};t.precio>0&&await v.post(w+"ventas/updprecioitemholds",s).then(async i=>{console.log(i)})},async updComentarioItemHolds(){const t={iditemhold:this.iditemholdUpd,comentario:this.comentario};await v.post(w+"ventas/updcomentarioitemholds",t).then(async s=>{console.log(s),this.modalcomentario=!1,this.comentario="",this.listarHolds(),f.create({message:"Comentario de Item ACTUALIZADO con \xE9xito",type:"positive"})})},async anularDocumento(){const t={idventa:this.idUpd};await v.post(w+"ventas/anularventa",t).then(async s=>{console.log(s),this.modalanular=!1,f.create({message:"Documento ANULADO con \xE9xito",type:"positive"})})},async buscarFactura(){this.detalleventaanular={},this.ventasanular=[],this.facturabuscado=!1,this.idtipofacturaanular=1,await v.get(w+"ventas/getventanumerointerno/"+sessionStorage.getItem("co_empresa")+"/"+this.idtipofacturaanular+"/"+this.numerointernoanular).then(async t=>{console.log(this.numerointernoanular),console.log(t),t.status===200?(this.detalleventaanular=t.data.resp,this.idUpd=this.detalleventaanular.id,this.ventasanular=t.data.respdetalles,this.facturabuscado=!0,this.btnDisableAnular=this.detalleventaanular.estatus==="2"||!1):(f.create({message:"Documento NO ENCONTRADO",type:"info"}),this.facturabuscado=!1,this.btnDisableAnular=!0,this.idUpd="")})},async abrirDetalleInvoive(){const t=this;this.detalleventa={},await v.get(w+"ventas/getventa/"+this.idventa).then(async s=>{this.detalleventa=s.data.resp,await v.get(w+"ventas/getitemsventas/"+this.idventa).then(async i=>{t.ventas=[],console.log(i);const u=i.data.resp;for(const r in u){const C=u[r];t.ventas.push(C)}t.deleteHolds(2),t.modaldetalleinvoice=!0}).catch(i=>{f.create({message:"Problemas al listar items Ventas "+i,type:"negative"})}),console.log(this.detalleventa)})},async actualizarCantidad(t,s){const i=document.getElementById("cantidad"+t.idproducto);s===1?(i.value=Number(i.value)+1,this.subtotal=Number(this.subtotal)+t.precio,this.impuesto=Number(this.impuesto)+t.precio*t.tasa/100,this.total=Number(this.total)+(Number(t.precio)+t.precio*t.tasa/100)):(i.value>1&&(this.subtotal=Number(this.subtotal)-t.precio,this.impuesto=Number(this.impuesto)-t.precio*t.tasa/100,this.total=Number(this.total)-(Number(t.precio)+t.precio*t.tasa/100)),i.value=i.value<=1?1:Number(i.value)-1),t.total=(Number(t.precio)+t.precio*t.tasa/100)*i.value,this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,await this.updItemHolds(t.iditemhold,i.value,i.value*(Number(t.precio)+t.precio*t.tasa/100),t.idproducto,s,t.intipoproducto)?await this.calcularMonto(t):i.value=i.value<=1?1:Number(i.value)-1},calcularMonto(t){const s=document.getElementById("cantidad"+t.idproducto),i=document.getElementById("precioventa"+t.idproducto).value;if(s&&i>0){this.subtotal=0,this.impuesto=0;const u=s.value>0?s.value:1;this.holds.map(r=>(r.iditemhold===t.iditemhold&&(r.monto=(i*r.tasa/100+Number(i))*u,r.total=r.monto,r.precio=Number(i),t.monto=r.monto,r.cantidad=u),this.subtotal=this.subtotal+r.precio*r.cantidad,this.impuesto=this.impuesto+r.precio*r.tasa/100*r.cantidad,this.total=this.impuesto+this.subtotal,this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,r)),document.getElementById("monto"+t.idproducto).innerHTML="Bs."+t.monto.toFixed(2)}},async updItemHolds(t,s,i,u,r,C){const a={idproducto:u,iditemhold:t,cantidad:s,accion:r,total:i,intipoproducto:C},m=await v.post(w+"ventas/upditemholds",a);return console.log(m.status),m.status===202?(this.$q.dialog({title:"Ooops! "+m.data.resp,message:" Contacte al administrador del sistema.",html:!0,ok:{color:"primary",label:"Aceptar"}}),!1):!0},openDeleteHolds(){this.modaldeleteholds=!0},deleteHolds(t){const s={idhold:this.idhold,accion:t};v.post(w+"ventas/deleteholds",s).then(async i=>{this.modaldeleteholds=!1,this.documentoclienteventa="",this.listarHolds()}).catch(i=>{f.create({message:"Problemas al ELIMINAR Hold de venta "+i,type:"negative"})})},deleteItemHolds(t){console.log(t);const s={iditemhold:t.iditemhold,idproducto:t.idproducto,intipoproducto:t.intipoproducto,cantidad:t.cantidad};this.$q.dialog({title:"Eliminar Item",message:"\xBFDesea eliminar este item?",ok:{label:"Aceptar",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{v.post(w+"ventas/deleteitemholds",s).then(async i=>{console.log(i.data.success),this.nombrecliente="",this.listarHolds()}).catch(i=>{f.create({message:"Problemas al ELIMINAR itemhold de venta "+i,type:"negative"})})})},async additemholds(t){console.log(t);const s=this.descuento;let i=!1;const u=this.holds.findIndex(r=>r.idproducto===t.idproducto);if(u===-1){const r=t.precio*t.tasa/100+t.precio,C={idhold:this.idhold,idproducto:t.idproducto,precio:t.precio,cantidad:1,tasa:t.tasa,total:r,idunidad:t.idunidad,intipoproducto:t.intipoproducto,descuento:s};await v.post(w+"ventas/setitemholds",C).then(async a=>{const m=a.data.resp;if(a.data.success){const k={};k.idhold=this.idhold,k.iditemhold=m.iditemhold,k.idproducto=t.idproducto,k.precio=t.precio,k.precioreal=t.precio,k.cantidad=1,k.tasa=t.tasa,k.total=r,k.producto=t.producto,k.categoria=t.categoria,k.descripcion=t.descripcion,k.intipoproducto=t.intipoproducto,k.descuento=s,this.subtotal=(Number(this.subtotal)+k.precio*k.cantidad).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+r).toFixed(2),this.holds.push(k),i=!0}else this.buscaritem=!1,this.slide=2,f.create({message:`<span style="text-transform: uppercase;">${a.data.resp}</span>`})}).catch(a=>{f.create({message:"Problemas al crear itemhold de venta "+a,type:"negative"})})}else{this.holds[u].cantidad=Number(this.holds[u].cantidad)+1;const r=t.precio*t.tasa/100+t.precio;document.getElementById("monto"+t.idproducto).innerHTML="Bs."+(r*this.holds[u].cantidad).toFixed(2),this.subtotal=(Number(this.subtotal)+t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+r).toFixed(2),i=await this.updItemHolds(this.holds[u].iditemhold,this.holds[u].cantidad,r*this.holds[u].cantidad,t.idproducto,1)}i&&(this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd,this.buscaritem=!1,this.slide=2)},listarProductos(){v.get(w+"productos/"+sessionStorage.getItem("co_empresa")+"/"+0).then(async s=>{const i=s.data.resp;this.rowsproductos=[];for(const u in i){const r={};r.idproducto=i[u].id,r.sku=i[u].sku,r.producto=i[u].producto,r.id=i[u].id,r.categoria=i[u].categoria,r.descripcion=i[u].descripcion,r.unidad=i[u].unidad,r.idunidad=i[u].idunidad,r.impuesto=i[u].impuesto,r.precio=this.tipomoneda==="1"?i[u].precio:i[u].preciousd,r.inventario=Number(i[u].inventario1),r.costo=i[u].costo,r.tasa=i[u].tasa,r.intipoproducto=i[u].intipoproducto,this.rowsproductos.push(r)}this.rowsproductosfiltre=this.rowsproductos}).catch(s=>{f.create({message:"Problemas al listar Categor\xEDas"+s,type:"negative"})})},abrirRealizarVenta(){console.log(this.holds),this.modalrealizarventa=!0},realizarVenta(){const t=this,s={idhold:this.idhold,tasausd:this.tasausd,totalusd:this.totalusd,idempresa:sessionStorage.getItem("co_empresa")};v.post(w+"ventas/setventa",s).then(async i=>{const u=i.data;console.log(u.success),u.success?(t.idventa=u.resp.idventa,t.abrirDetalleInvoive()):f.create({message:u.resp.message,type:"negative"})}).catch(i=>{f.create({message:"Problemas al REALIZAR venta "+i,type:"negative"})}),this.modalrealizarventa=!1},abrirBuscarItem(){this.nombrecliente.length===0?(console.log("Debe buscar cliente"),this.abrirBuscarCliente()):(this.buscaritem=!0,this.textitem="")},abrirBuscarCliente(){this.modalcliente=!0,this.documento="",console.log(this.optionsdocumento[0]),this.modeldocumento=this.optionsdocumento[0],this.limpiarCliente()},limpiarCliente(){this.nombrecliente="",this.telefonocliente="",this.correocliente="",this.direccioncliente="",this.noencontrado=!1,this.encontrado=!1,this.clientebuscado=!1,this.dsbBtnCrearCliente=!0},listarTiposDocumentos(){v.get(w+"tipodocumento").then(async t=>{const s=t.data.data;this.optionsdocumento=[];for(const i in s){const u={};u.cod=s[i].id,u.tipodocumento=s[i].tipodocumento,u.abrev=s[i].abrev,this.optionsdocumento.push(u)}}).catch(t=>{f.create({message:"Problemas al listar Tipos"+t,type:"negative"})})},buscarCliente(){if(this.limpiarCliente(),!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento};v.post(w+"clientes/buscar",t).then(async s=>{const i=s.data.resp;i.length>0?(this.idcliente=i[0].id,this.nombrecliente=i[0].nombre,this.telefonocliente=i[0].telefono,this.correocliente=i[0].correo,this.direccioncliente=i[0].direccion,this.noencontrado=!1,this.encontrado=!0):(this.noencontrado=!0,this.encontrado=!1),this.clientebuscado=!0,this.dsbBtnCrearCliente=!1}).catch(s=>{f.create({message:"Problemas al buscar cliente"+s,type:"negative"})})},crearCliente(){if(!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}if(this.nombrecliente.length===0){f.create({message:"Debe agregar NOMBRE",type:"info"});return}if(this.encontrado)this.modalcliente=!1,this.idclienteventa=this.idcliente,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(this.idcliente,this.idusuario);else{const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento,nombre:this.nombrecliente,telefono:this.telefonocliente,correo:this.correocliente,direccion:this.direccioncliente};v.post(w+"clientes/crear",t).then(async s=>{const i=s.data.resp;i&&(this.modalcliente=!1,this.idclienteventa=i,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(i,this.idusuario))}).catch(s=>{f.create({message:"Problemas al crear cliente"+s,type:"negative"})})}},crearHolds(t,s){const u={idcliente:t,idusuario:s,idtipofactura:1};v.post(w+"ventas/setholds",u).then(async r=>{const C=r.data.resp;C&&(this.idhold=C.idhold,this.fechaholds=H(C.fecha).format("DD/MM/YYYY"))}).catch(r=>{f.create({message:"Problemas al crear hold de venta"+r,type:"negative"})})},async listarHolds(){this.nombrecliente="",await v.get(w+"ventas/gethols/"+sessionStorage.getItem("id_usuario")).then(async t=>{const s=t.data.resp.length>0?t.data.resp[0]:null;console.log(s),this.holds=[],this.slide=1,this.subtotal=0,this.impuesto=0,this.total=0,s&&(this.idcliente=s.idcliente,this.nombrecliente=s.nombre,this.documentoabrev=s.abrev,this.documentoclienteventa=s.abrev+" "+s.documento,this.documentoclientesolo=s.documento,this.idhold=s.idhold,this.fechaholds=H(s.fecha).format("DD/MM/YYYY"),await v.get(w+"ventas/getitemshols/"+this.idhold).then(async i=>{this.holds=i.data.resp;for(const u in this.holds){const r=this.holds[u],C=r.precio*r.cantidad,a=C*r.tasa/100,m=a+C;this.subtotal=(Number(this.subtotal)+C).toFixed(2),this.impuesto=(Number(this.impuesto)+a).toFixed(2),this.total=(Number(this.total)+m).toFixed(2)}this.slide=this.holds.length>0?2:1}).catch(i=>{f.create({message:"Problemas al listar items Holds"+i,type:"negative"})})),this.totalusd=this.tipomoneda==="1"?this.total/this.tasausd:this.total*this.tasausd}).catch(t=>{f.create({message:"Problemas al listar Holds"+t,type:"negative"})})},primeraletra(t){return t[0]},colorLetra(t){const s=t[0].charCodeAt(0);return"#"+s+"0"},async cargar(){const t=await v.get(w+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(s=>{f.create({message:"Problemas al listar Configuraci\xF3n"+s,type:"negative"})});return console.log(t),t.data.resp}},watch:{textitem(t){console.log("textitem"),console.log(t),this.buscadoproducto=!1,t.length>0?this.rowsproductosfiltre=this.rowsproductos.filter(s=>!!(s.producto.toUpperCase().includes(t.toUpperCase())||s.sku&&s.sku.includes(t))):this.rowsproductosfiltre=this.rowsproductos,this.buscadoproducto=!0,this.rowsproductosfiltre=this.rowsproductosfiltre.slice().reverse(),console.log(this.rowsproductosfiltre)}},async mounted(){const t=await this.cargar();this.tasausd=t.tasabcv,this.empresa=t.empresa,this.rif=t.rif,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.tipomoneda=t.tipomoneda,this.prefijo=t.tipomoneda==="1"?"Bs.":"$",this.prefijo2=t.tipomoneda==="1"?"$":"Bs.",this.mostrartotal=t.mostrartotal,console.log("this.tasausd"),console.log(this.tasausd),await this.listarTiposDocumentos(),await this.listarHolds(),await this.listarProductos();const s=this;document.addEventListener("keydown",function(i){console.log(i.key),i.key==="F2"&&(i.preventDefault(),s.abrirBuscarItem()),i.key==="F3"&&(i.preventDefault(),s.abrirBuscarCliente()),i.key==="F4"&&(s.dsbBtnCrearCliente||(i.preventDefault(),s.crearCliente())),i.key==="F6"&&(s.holds.length<=0?f.create({message:"No tiene venta",type:"info"}):(i.preventDefault(),s.abrirRealizarVenta()))})}}),d=t=>(ot("data-v-1fd7ce90"),t=t(),at(),t),ct={class:"row"},ut={class:"col-12 col-md-4 bd-left bd-top"},ht={class:"row"},pt={class:"col-6 col-md-12"},mt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Cliente:",-1)),ft={class:"negrita ellipsis",style:{"margin-bottom":"10px"}},yt={class:"col-6 col-md-12"},gt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Documento:",-1)),_t={class:"negrita ellipsis"},bt={class:"col-5 col-md-4 bd-left bd-top"},vt={class:"row"},wt=d(()=>e("div",{class:"col-3 col-md-2 logo-bcv"},[e("img",{src:"logo_bcv.png"})],-1)),Ct={class:"col-9 col-md-10"},kt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"\u{1F5D3}\uFE0F Fecha de venta:",-1)),xt={class:"negrita",style:{"font-size":"12px"}},It=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Tasa del d\xEDa (BCV):",-1)),Nt={class:"col-7 col-md-4 bd-left bd-top"},Dt={class:"row"},Ft=d(()=>e("div",{class:"col-1"},[e("div",{class:"texto-pequeno ellipsis"},"\u{1F4B5} "),e("div",{class:"texto-pequeno ellipsis"},"\u{1F3DB}\uFE0F "),e("div",{class:"texto-pequeno ellipsis"},"\u{1F3F7}\uFE0F ")],-1)),Vt={class:"col"},qt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Subtotal: ",-1)),Bt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Impuesto: ",-1)),jt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Descuento: ",-1)),Pt={class:"col"},zt={class:"negrita ellipsis"},At={class:"negrita ellipsis"},Tt={class:"negrita ellipsis"},Ut={class:"q-px-md q-py-sm q-gutter-sm row items-center justify-between"},Qt={class:"col-12 col-md-8 text-center"},St={unelevated:"",class:"row"},Ht={class:"col-12 col-md-3 text-center q-mt-md"},Et={class:"row"},$t={key:1,class:"listarcategoriasconitem col"},Mt={class:"row justify-center"},Ot={class:"col no-wrap"},Lt={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Yt={class:"q-mb-none"},Rt={class:"row no-wrap"},Gt={class:"overlay-content",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white",background:"rgba(0, 0, 0, 0.5)"}},Kt={class:"col-8"},Zt=["id","value","onInput"],Jt=["id"],Wt=d(()=>e("span",{style:{"font-size":"12px","margin-right":"10px"}},"Cantidad",-1)),Xt=["id","value","onInput"],te=d(()=>e("div",{class:"text-center"},[e("h6",null,"Agregar Item")],-1)),ee={style:{display:"flex"}},oe={style:{"margin-right":"10px"}},ae={class:"tarjeticainside mr-2 texto-pequeno",style:{height:"auto"}},se={class:"row q-mt-sm"},le={class:"col-4 text-left"},ne=d(()=>e("span",{class:"color-texto texto-pequeno"},"SKU: ",-1)),ie={class:"col-4 text-left"},de=d(()=>e("span",{class:"color-texto texto-pequeno"},"Unidad: ",-1)),re={class:"col-4 text-left"},ce=d(()=>e("span",{class:"color-texto texto-pequeno"},"Impuesto: ",-1)),ue=d(()=>e("span",{class:"color-texto texto-pequeno"},"Precio: ",-1)),he=d(()=>e("div",{class:"text-center"},[e("h6",null,"Agregar cliente")],-1)),pe={class:""},me={class:"row"},fe={key:0,class:"noencontrado text-center"},ye=d(()=>e("p",{class:"text-noencontrado"},"Lo sentimos, no existe un cliente con ese documento",-1)),ge=[ye],_e={key:1,class:"encontrado text-center"},be=d(()=>e("p",{class:"text-encontrado"},"Cliente encontrado",-1)),ve=[be],we=d(()=>e("div",{class:"text-center",style:{padding:"10px"}},[e("h6",null,"Eliminar venta")],-1)),Ce=d(()=>e("div",{class:"text-center"},[e("h6",null,"Realizar venta")],-1)),ke=d(()=>e("div",{class:"text-p color-texto",style:{"margin-left":"10px"}}," \xBFDesea realizar esta venta?",-1)),xe={class:"color-texto",style:{width:"100%"}},Ie=d(()=>e("td",{style:{width:"35%"}},"Raz\xF3n social:",-1)),Ne={style:{"font-weight":"bold"}},De={style:{"font-weight":"bold"}},Fe=d(()=>e("td",null,"Fecha:",-1)),Ve={style:{"font-weight":"bold"}},qe={class:"color-texto",style:{width:"100%"}},Be=d(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant"),e("td",{class:"rayafactura rayaarriba"},"Imp"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),je={style:{"font-size":"11px"}},Pe={style:{width:"130px"}},ze={style:{"text-align":"right"}},Ae={style:{"text-align":"center"}},Te={style:{"text-align":"center"}},Ue={style:{"text-align":"right"}},Qe={key:0},Se={style:{"font-style":"italic","font-size":"10px"}},He={key:0},Ee=d(()=>e("td",null,null,-1)),$e=d(()=>e("td",null,null,-1)),Me=d(()=>e("td",null,null,-1)),Oe=d(()=>e("td",null,null,-1)),Le=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),Ye={class:"color-texto",style:{width:"100%"}},Re={class:"letratotalesfactura"},Ge=d(()=>e("td",{style:{width:"50%"}},null,-1)),Ke={style:{"text-align":"right"}},Ze={class:"letratotalesfactura"},Je=d(()=>e("td",null,null,-1)),We={style:{"text-align":"right"}},Xe={class:"letratotalesfactura"},to=d(()=>e("td",null,null,-1)),eo={style:{"text-align":"right"}},oo={class:"letratotalesfactura"},ao=d(()=>e("td",null,null,-1)),so={class:"rayafactura"},lo={class:"rayafactura",style:{"text-align":"right"}},no={class:"letratotalesfactura",style:{"font-weight":"bold"}},io=d(()=>e("td",null,null,-1)),ro={style:{"text-align":"right"}},co={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},uo=d(()=>e("td",null,null,-1)),ho={style:{"text-align":"right"}},po={id:"areaImprimir",style:{width:"100%"}},mo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},fo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},yo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},go={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},_o={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},bo={style:{display:"flex","align-items":"left",width:"100%"}},vo={class:"numero",style:{"margin-left":"10px"}},wo={class:"numero",style:{"margin-left":"10px"}},Co={style:{display:"flex","align-items":"center","font-size":"11px"}},ko=d(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),xo={class:"control",style:{"margin-left":"10px"}},Io={style:{width:"100%"}},No={class:"letratotalesfactura",style:{"line-height":"10px"}},Do=d(()=>e("td",{style:{width:"40%"}},"Raz\xF3n social:",-1)),Fo={style:{"font-weight":"bold"}},Vo={class:"letratotalesfactura",style:{"line-height":"10px"}},qo={style:{"font-weight":"bold"}},Bo={class:"letratotalesfactura",style:{"line-height":"10px"}},jo=d(()=>e("td",null,"Fecha:",-1)),Po={style:{"font-weight":"bold"}},zo={class:"letratotalesfactura",style:{"line-height":"10px"}},Ao=d(()=>e("td",null,"Cajero:",-1)),To={style:{"font-weight":"bold"}},Uo={style:{width:"100%"}},Qo=d(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"Imp"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),So={style:{"font-size":"11px"}},Ho={style:{width:"130px"}},Eo={style:{"text-align":"right"}},$o={style:{"text-align":"center"}},Mo={style:{"text-align":"center"}},Oo={style:{"text-align":"right"}},Lo={key:0,style:{"line-height":"10px"}},Yo={style:{"font-style":"italic","font-size":"9px"}},Ro={key:0},Go=d(()=>e("td",null,null,-1)),Ko=d(()=>e("td",null,null,-1)),Zo=d(()=>e("td",null,null,-1)),Jo=d(()=>e("td",null,null,-1)),Wo=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),Xo={style:{width:"100%"}},ta={class:"letratotalesfactura",style:{"line-height":"10px"}},ea=d(()=>e("td",{style:{width:"40%"}},null,-1)),oa={style:{"text-align":"right"}},aa={class:"letratotalesfactura",style:{"line-height":"10px"}},sa=d(()=>e("td",null,null,-1)),la={style:{"text-align":"right"}},na={class:"letratotalesfactura",style:{"line-height":"10px"}},ia=d(()=>e("td",null,null,-1)),da={style:{"text-align":"right"}},ra={class:"letratotalesfactura",style:{"line-height":"10px"}},ca=d(()=>e("td",null,null,-1)),ua={class:"rayafactura"},ha={class:"rayafactura",style:{"text-align":"right"}},pa={class:"letratotalesfactura",style:{"font-weight":"bold"}},ma=d(()=>e("td",null,null,-1)),fa={style:{"text-align":"right"}},ya={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},ga=d(()=>e("td",null,null,-1)),_a={style:{"text-align":"right"}},ba=d(()=>e("iframe",{name:"print_frame",width:"0",height:"0",frameborder:"0",src:"about:blank"},null,-1)),va=d(()=>e("div",{class:"text-center"},[e("h6",null,"Anular documento")],-1)),wa=d(()=>e("div",{style:{"margin-left":"10px"}}," Buscar n\xFAmero interno",-1)),Ca={class:"row"},ka={style:{display:"flex","align-items":"left",width:"100%"}},xa={class:"numero",style:{"margin-left":"10px"}},Ia={class:"numero",style:{"margin-left":"10px"}},Na={style:{display:"flex","align-items":"center"}},Da=d(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),Fa={class:"control",style:{"margin-left":"10px"}},Va={style:{width:"100%"}},qa={class:"letratotalesfactura"},Ba=d(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),ja={style:{"font-weight":"bold"}},Pa={class:"letratotalesfactura"},za={style:{"font-weight":"bold"}},Aa={class:"letratotalesfactura"},Ta=d(()=>e("td",null,"Fecha:",-1)),Ua={style:{"font-weight":"bold"}},Qa={class:"letratotalesfactura"},Sa=d(()=>e("td",null,"Cajero:",-1)),Ha={style:{"font-weight":"bold"}},Ea={style:{width:"100%"}},$a=d(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"Imp"),e("td",{class:"rayafactura rayaarriba"},"Total")],-1)),Ma={style:{width:"140px","font-style":"italic"}},Oa={style:{"text-align":"right"}},La=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),Ya={style:{width:"100%"}},Ra={class:"letratotalesfactura"},Ga=d(()=>e("td",{style:{width:"40%"}},null,-1)),Ka={style:{"text-align":"right"}},Za={class:"letratotalesfactura"},Ja=d(()=>e("td",null,null,-1)),Wa={style:{"text-align":"right"}},Xa={class:"letratotalesfactura"},ts=d(()=>e("td",null,null,-1)),es={style:{"text-align":"right"}},os={class:"letratotalesfactura"},as=d(()=>e("td",null,null,-1)),ss={class:"rayafactura"},ls={class:"rayafactura",style:{"text-align":"right"}},ns={class:"letratotalesfactura",style:{"font-weight":"bold"}},is=d(()=>e("td",null,null,-1)),ds={style:{"text-align":"right"}},rs={key:0,class:"letratotalesfactura",style:{"font-weight":"bold"}},cs=d(()=>e("td",null,null,-1)),us={style:{"text-align":"right"}},hs=d(()=>e("div",{class:"text-center"},[e("h6",null,"Editar comentario")],-1));function ps(t,s,i,u,r,C){return h(),F(nt,null,{default:n(()=>[o(it,{class:"fondo-gris shadow-up-9"},{default:n(()=>[e("div",ct,[e("div",ut,[e("div",ht,[e("div",pt,[mt,e("div",ft,l(t.nombrecliente.length>0?t.nombrecliente:"S/INF"),1)]),e("div",yt,[gt,e("div",_t,l(t.documentoclienteventa),1)])])]),e("div",bt,[e("div",vt,[wt,e("div",Ct,[kt,e("div",xt,l(t.nombrecliente.length>0?t.fechaholds:t.fechahoy),1),It,o($,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:n(()=>[_("\u{1F1FB}\u{1F1EA} Bs."+l(parseFloat(t.tasausd).toFixed(2)),1)]),_:1})])])]),e("div",Nt,[e("div",Dt,[Ft,e("div",Vt,[qt,Bt,jt,o($,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:n(()=>[_(l(t.prefijo2)+" "+l(t.totalusd.toFixed(2)),1)]),_:1})]),e("div",Pt,[e("div",zt,l(t.prefijo)+" "+l(Number(t.subtotal).toFixed(2)),1),e("div",At,l(t.prefijo)+" "+l(Number(t.impuesto).toFixed(2)),1),e("div",Tt,l(t.prefijo)+" "+l(Number(t.descuento).toFixed(2)),1),o($,{dense:"",class:"color-degradado-vnz negrita ellipsis text-degradado color-texto"},{default:n(()=>[_(l(t.prefijo)+" "+l(Number(t.total).toFixed(2)),1)]),_:1})])])])])]),_:1}),e("div",Ut,[e("div",Qt,[e("div",St,[o(p,{class:"col-6 col-md-3","no-caps":"",unelevated:"",color:"accent",icon:"add",onClick:t.abrirBuscarItem,label:"Productos (F2)"},null,8,["onClick"]),o(p,{class:"col-6 col-md-3",outline:"","no-caps":"",unelevated:"",color:"accent","icon-right":"person",onClick:t.abrirBuscarCliente,label:"Cliente (F3)"},null,8,["onClick"]),o(p,{outline:"",unelevated:"","no-caps":"",color:"accent",icon:"cancel_presentation",onClick:t.abrirBuscarFactura,label:"Anular documento",class:"boton-banner col-6 col-md-3"},null,8,["onClick"]),o(p,{outline:"",unelevated:"","no-caps":"",color:"accent","icon-right":"settings_backup_restore",onClick:t.abrirBuscarFactura,label:"Devoluciones",class:"boton-banner col-6 col-md-3",disable:!0},null,8,["onClick"])])]),e("div",Ht,[o(dt,{unelevated:"",style:{display:"flex","justify-content":"center"}},{default:n(()=>[o(p,{outline:"",unelevated:"","no-caps":"",color:"primary","icon-right":"close",onClick:t.openDeleteHolds,label:"Cancelar",disable:t.holds.length<=0},null,8,["onClick","disable"]),o(p,{"no-caps":"",unelevated:"",class:"gradient-btn","icon-right":"point_of_sale",onClick:t.abrirRealizarVenta,label:"Realizar venta (F6)",disable:t.holds.length<=0},null,8,["onClick","disable"])]),_:1})])]),e("div",Et,[t.slide===1?(h(),F(M,{key:0,src:"img/sin-productos.png",style:{width:"333px",height:"auto",display:"block",margin:"auto"},fit:"contain"})):(h(),g("div",$t,[e("div",Mt,[(h(!0),g(V,null,A(t.holds,a=>(h(),F(B,{class:"my-card custom-shadow custom-border-radius col-md-5 col-sm-11 col-xs-11",bordered:"",key:a,style:{margin:"10px"}},{default:n(()=>[e("div",Ot,[o(y,{class:"q-pa-sm"},{default:n(()=>[e("div",Lt,[e("h6",Yt,l(a.producto),1),o(p,{round:"",unelevated:"",color:"red-1","text-color":"red-10",icon:"delete",onClick:m=>t.deleteItemHolds(a),style:{margin:"0"}},null,8,["onClick"])])]),_:2},1024),o(b),e("div",Rt,[o(M,{class:"borde-cust-up col-4",src:"img/no-photo-prod.avif"},{default:n(()=>[e("div",Gt,[o(S,{"text-color":"white",style:L("background: "+t.colorLetra(a.producto)),size:"40px"},{default:n(()=>[_(l(t.primeraletra(a.producto)),1)]),_:2},1032,["style"]),e("div",null,[e("b",null,l(a.categoria),1)]),o(Y,{color:a.intipoproducto==="1"?"blue-1":a.intipoproducto==="2"?"orange-1":"purple-1","text-color":a.intipoproducto==="1"?"blue-10":a.intipoproducto==="2"?"orange-10":"purple-10",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:n(()=>[_(l(a.intipoproducto==="1"?"Simple":a.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color","text-color"])])]),_:2},1024),e("div",Kt,[o(b),o(st,null,{default:n(()=>[o(U,{style:{"padding-left":"7px"}},{default:n(()=>[o(z,{style:{display:"-webkit-inline-box"}},{default:n(()=>[e("div",null,[o(I,{caption:""},{default:n(()=>[_("Precio unidad:")]),_:1}),o(I,null,{default:n(()=>[_(l(a.precioreal.toFixed(2)),1)]),_:2},1024)])]),_:2},1024),o(z,{side:""},{default:n(()=>[o(I,{caption:""},{default:n(()=>[_("Precio venta:")]),_:1}),o(I,null,{default:n(()=>[e("input",{class:"inputCantidad",type:"number",min:"0",id:"precioventa"+a.idproducto,value:a.precio.toFixed(2),onInput:m=>(t.calcularMonto(a),t.updprecioitemholds(a)),style:{"font-size":"10px","font-weight":"bold"},onkeydown:"return event.keyCode !== 69 && event.keyCode !== 189"},null,40,Zt)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(U,{style:{"padding-left":"7px"}},{default:n(()=>[o(z,{style:{display:"-webkit-inline-box"}},{default:n(()=>[e("div",null,[o(I,{caption:""},{default:n(()=>[_("Impuesto (%):")]),_:1}),o(I,null,{default:n(()=>[_(l(a.tasa),1)]),_:2},1024)])]),_:2},1024),o(z,{side:""},{default:n(()=>[o(I,{caption:""},{default:n(()=>[_("Comentario:")]),_:1}),o(p,{unelevated:"",class:"btncantidad",color:"blue-1","text-color":"blue-10",icon:"question_answer",onClick:m=>t.abrirComentario(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(U,{style:{"padding-left":"7px"}},{default:n(()=>[o(z,{style:{display:"-webkit-inline-box"}},{default:n(()=>[e("div",null,[o(I,{caption:""},{default:n(()=>[_("Total:")]),_:1}),e("span",{id:"monto"+a.idproducto,class:"precio"},l(t.prefijo)+" "+l(a.total.toFixed(2)),9,Jt)])]),_:2},1024)]),_:2},1024)]),_:2},1024),o(b),o(q,{align:"right"},{default:n(()=>[Wt,e("input",{class:"inputCantidad",id:"cantidad"+a.idproducto,value:a.cantidad,onInput:m=>t.calcularMonto(a),style:{"margin-right":"10px"}},null,40,Xt),o(p,{round:"",unelevated:"",class:"btncantidad",icon:"remove",color:"red-1","text-color":"red-10",onClick:m=>t.actualizarCantidad(a,2),style:{}},null,8,["onClick"]),o(p,{round:"",unelevated:"",class:"btncantidad",color:"green-1","text-color":"green-10",icon:"add",onClick:m=>t.actualizarCantidad(a,1)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1024))),128))])]))]),o(T,{modelValue:t.buscaritem,"onUpdate:modelValue":s[1]||(s[1]=a=>t.buscaritem=a)},{default:n(()=>[o(B,{class:"custom-shadow custom-border-radius",style:{width:"350px",padding:"5px"},bordered:""},{default:n(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:n(()=>[te,N(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(y,{style:{padding:"5px"}},{default:n(()=>[o(P,{color:"blue-grey-3",outlined:"",standout:"","bottom-slots":"",modelValue:t.textitem,"onUpdate:modelValue":s[0]||(s[0]=a=>t.textitem=a),label:"Nombre/Sku Producto",counter:"",autofocus:""},{prepend:n(()=>[o(j,{name:"search"})]),hint:n(()=>[_(" Cantidad de letras ")]),_:1},8,["modelValue"])]),_:1}),o(b),t.buscadoproducto?(h(),F(y,{key:0},{default:n(()=>[o(lt,{style:{height:"64vh"}},{default:n(()=>[(h(!0),g(V,null,A(t.rowsproductosfiltre,a=>(h(),F(B,{key:a.id,class:"custom-shadow custom-border-radius q-mb-md",bordered:""},{default:n(()=>[o(U,{class:"q-pa-sm"},{default:n(()=>[o(z,null,{default:n(()=>[o(I,null,{default:n(()=>[_(l(a.producto),1)]),_:2},1024),o(I,{caption:""},{default:n(()=>[_(l(a.categoria),1)]),_:2},1024)]),_:2},1024),o(z,{side:""},{default:n(()=>[o(p,{round:"",unelevated:"",color:"deep-orange-1","text-color":"deep-orange-8",icon:"add_shopping_cart",onClick:m=>t.additemholds(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(U,{class:""},{default:n(()=>[e("div",ee,[e("div",oe,[o(I,null,{default:n(()=>[o(S,{"text-color":"white",style:L("background: "+t.colorLetra(a.producto))},{default:n(()=>[_(l(t.primeraletra(a.producto)),1)]),_:2},1032,["style"])]),_:2},1024),o(I,null,{default:n(()=>[o(Y,{color:a.intipoproducto==="1"?"light-green-5":a.intipoproducto==="2"?"deep-orange-5":"orange-5",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:n(()=>[_(l(a.intipoproducto==="1"?"Simple":a.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color"])]),_:2},1024)]),e("div",null,[o(I,{caption:""},{default:n(()=>[_(" Descripci\xF3n:")]),_:1}),o(I,{style:{}},{default:n(()=>[e("p",ae,l(a.descripcion),1)]),_:2},1024)])])]),_:2},1024),o(b),o(U,{class:"q-pa-sm"},{default:n(()=>[o(z,{class:"q-ml-md"},{default:n(()=>[e("div",se,[e("div",le,[ne,e("p",null,l(a.sku),1)]),e("div",ie,[de,e("p",null,l(a.unidad),1)]),e("div",re,[ce,e("p",null,l(a.impuesto),1)])])]),_:2},1024)]),_:2},1024),o(q,{class:"tarjeticainside",align:"right"},{default:n(()=>[e("h6",null,[ue,_(" "+l(t.prefijo)+" "+l(Number(a.precio).toFixed(2)),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):x("",!0),o(b),o(q,{align:"right"},{default:n(()=>[N(o(p,{outline:"","no-caps":"",label:"Cancelar",color:"primary"},null,512),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalcliente,"onUpdate:modelValue":s[8]||(s[8]=a=>t.modalcliente=a)},{default:n(()=>[o(B,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:n(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:n(()=>[he,N(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(b),o(y,{style:{padding:"15px"}},{default:n(()=>[e("div",pe,[o(G,{outlined:"",modelValue:t.modeldocumento,"onUpdate:modelValue":s[2]||(s[2]=a=>t.modeldocumento=a),options:t.optionsdocumento,"option-label":"tipodocumento","option-value":"cod",label:"Seleccione tipo documento"},{prepend:n(()=>[o(j,{name:"badge"})]),_:1},8,["modelValue","options"])])]),_:1}),o(y,{style:{padding:"10px 15px"}},{default:n(()=>[e("div",me,[o(P,{class:"col-10",outlined:"",modelValue:t.documento,"onUpdate:modelValue":s[3]||(s[3]=a=>t.documento=a),label:"Documento","stack-label":"",autofocus:"",onKeyup:tt(t.buscarCliente,["enter"])},{prepend:n(()=>[o(j,{name:"badge"})]),_:1},8,["modelValue","onKeyup"]),o(p,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarCliente},null,8,["onClick"])])]),_:1}),t.noencontrado?(h(),g("div",fe,ge)):x("",!0),t.encontrado?(h(),g("div",_e,ve)):x("",!0),t.clientebuscado?(h(),F(b,{key:2})):x("",!0),t.clientebuscado?(h(),F(y,{key:3,style:{padding:"15px"}},{default:n(()=>[o(P,{outlined:"",modelValue:t.nombrecliente,"onUpdate:modelValue":s[4]||(s[4]=a=>t.nombrecliente=a),label:"Nombre del cliente","stack-label":""},{prepend:n(()=>[o(j,{name:"badge"})]),_:1},8,["modelValue"])]),_:1})):x("",!0),t.clientebuscado?(h(),F(y,{key:4,style:{padding:"15px"}},{default:n(()=>[o(P,{outlined:"",modelValue:t.correocliente,"onUpdate:modelValue":s[5]||(s[5]=a=>t.correocliente=a),label:"Email del cliente","stack-label":""},{prepend:n(()=>[o(j,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):x("",!0),t.clientebuscado?(h(),F(y,{key:5,style:{padding:"15px"}},{default:n(()=>[o(P,{outlined:"",modelValue:t.telefonocliente,"onUpdate:modelValue":s[6]||(s[6]=a=>t.telefonocliente=a),label:"Tel\xE9fono del cliente","stack-label":""},{prepend:n(()=>[o(j,{name:"phone"})]),_:1},8,["modelValue"])]),_:1})):x("",!0),t.clientebuscado?(h(),F(y,{key:6,style:{padding:"15px"}},{default:n(()=>[o(P,{outlined:"",modelValue:t.direccioncliente,"onUpdate:modelValue":s[7]||(s[7]=a=>t.direccioncliente=a),label:"Direcci\xF3n del cliente","stack-label":""},{prepend:n(()=>[o(j,{name:"location_on"})]),_:1},8,["modelValue"])]),_:1})):x("",!0),o(b),o(q,{align:"center"},{default:n(()=>[N(o(p,{outline:"","no-caps":"",label:"Cancelar","icon-right":"close",color:"primary",onClick:t.limpiarCliente},null,8,["onClick"]),[[D]]),o(p,{unelevated:"","no-caps":"",label:"Aceptar (F4)",color:"primary","icon-right":"check",onClick:t.crearCliente,disable:t.dsbBtnCrearCliente},null,8,["onClick","disable"])]),_:1}),o(q,{align:"center",class:"color-texto"},{default:n(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modaldeleteholds,"onUpdate:modelValue":s[10]||(s[10]=a=>t.modaldeleteholds=a),persistent:""},{default:n(()=>[o(B,{class:"custom-shadow custom-border-radius",style:{width:"350px"}},{default:n(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:n(()=>[we,N(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(y,null,{default:n(()=>[o(M,{class:"rounded-borders col-3",src:"img/delete.png"})]),_:1}),o(q,{align:"center",style:{"margin-bottom":"10px"}},{default:n(()=>[N(o(p,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"primary"},null,512),[[D]]),o(p,{unelevated:"","no-caps":"",label:"Aceptar",color:"primary","icon-right":"check",onClick:s[9]||(s[9]=a=>t.deleteHolds(1))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalrealizarventa,"onUpdate:modelValue":s[11]||(s[11]=a=>t.modalrealizarventa=a),persistent:""},{default:n(()=>[o(B,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:n(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:n(()=>[Ce,N(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(y,{style:{display:"flex","align-items":"center"}},{default:n(()=>[o(S,{color:"primary","text-color":"white"},{default:n(()=>[o(j,{name:"shopping_cart_checkout"})]),_:1}),ke]),_:1}),o(b),o(y,null,{default:n(()=>[e("table",xe,[e("tr",null,[Ie,e("td",Ne,l(t.nombrecliente),1)]),e("tr",null,[e("td",null,l(t.documentoabrev)+":",1),e("td",De,l(t.documentoclientesolo),1)]),e("tr",null,[Fe,e("td",Ve,l(t.fechaholds),1)])]),e("table",qe,[Be,(h(!0),g(V,null,A(t.holds,a=>(h(),g(V,{key:a},[e("tr",je,[e("td",Pe,l(a.producto),1),e("td",ze,l(a.precio.toFixed(2)),1),e("td",Ae,l(a.cantidad),1),e("td",Te,l(a.tasa)+"%",1),e("td",Ue,l(a.total.toFixed(2)),1)]),a.comentario&&a.comentario.length>0?(h(),g("tr",Qe,[e("td",Se,[(h(!0),g(V,null,A(a.comentario.split("//"),m=>(h(),g(V,{key:m},[m.length>0?(h(),g("p",He,"- "+l(m),1)):x("",!0)],64))),128))]),Ee,$e,Me,Oe])):x("",!0)],64))),128)),Le]),e("table",Ye,[e("tr",Re,[Ge,e("td",null,"Subtotal "+l(t.prefijo)+":",1),e("td",Ke,l(Number(t.subtotal).toFixed(2)),1)]),e("tr",Ze,[Je,e("td",null,"Impuestos "+l(t.prefijo)+":",1),e("td",We,l(Number(t.impuesto).toFixed(2)),1)]),e("tr",Xe,[to,e("td",null,"Descuentos "+l(t.prefijo)+":",1),e("td",eo,l(Number(t.descuento).toFixed(2)),1)]),e("tr",oo,[ao,e("td",so,"IGTF 3% "+l(t.prefijo)+":",1),e("td",lo,l(Number(t.igtf).toFixed(2)),1)]),e("tr",no,[io,e("td",null,"Total "+l(t.prefijo)+":",1),e("td",ro,l(Number(t.total).toFixed(2)),1)]),t.mostrartotal==="2"?(h(),g("tr",co,[uo,e("td",null,"Total "+l(t.prefijo2)+":",1),e("td",ho,l(Number(t.totalusd).toFixed(2)),1)])):x("",!0)])]),_:1}),o(b),o(q,{align:"center"},{default:n(()=>[N(o(p,{outline:"","no-caps":"","icon-right":"close",color:"primary",label:"Cancelar"},null,512),[[D]]),o(p,{unelevated:"","no-caps":"","icon-right":"check",color:"primary",label:"Aceptar",onClick:t.realizarVenta},null,8,["onClick"])]),_:1}),o(q,{align:"center",class:"color-texto"},{default:n(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modaldetalleinvoice,"onUpdate:modelValue":s[12]||(s[12]=a=>t.modaldetalleinvoice=a),persistent:""},{default:n(()=>[o(B,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"330px"}},{default:n(()=>[e("div",po,[o(y,{style:{"justify-content":"center"}},{default:n(()=>[e("div",mo,l(t.empresa),1),e("div",fo,l(t.rif),1),e("div",yo,l(t.direccion),1),e("div",go,l(t.telefono),1),e("div",_o,l(t.email),1),o(b,{style:{margin:"20px 0 5px 0"}}),e("div",bo,[e("div",vo,l(t.detalleventa.tipofactura),1),e("div",wo,l(t.detalleventa.numerointerno),1)]),e("div",Co,[ko,e("div",xo,l(t.detalleventa.numerocontrol),1)]),o(b,{style:{margin:"5px 0px"}}),e("table",Io,[e("tr",No,[Do,e("td",Fo,l(t.detalleventa.nombrecliente),1)]),e("tr",Vo,[e("td",null,l(t.detalleventa.abrev),1),e("td",qo,l(t.detalleventa.documento),1)]),e("tr",Bo,[jo,e("td",Po,l(t.fechaDetalle(t.detalleventa.fecha)),1)]),e("tr",zo,[Ao,e("td",To,l(t.detalleventa.usuario),1)])]),e("table",Uo,[Qo,(h(!0),g(V,null,A(t.ventas,a=>(h(),g(V,{key:a},[e("tr",So,[e("td",Ho,l(a.producto),1),e("td",Eo,l(Number(a.precio).toFixed(2)),1),e("td",$o,l(a.cantidad),1),e("td",Mo,l(a.tasa)+"%",1),e("td",Oo,l(Number(a.subtotal).toFixed(2)),1)]),a.comentario&&a.comentario.length>0?(h(),g("tr",Lo,[e("td",Yo,[(h(!0),g(V,null,A(a.comentario.split("//"),m=>(h(),g(V,{key:m},[m.length>0?(h(),g("p",Ro,"- "+l(m),1)):x("",!0)],64))),128))]),Go,Ko,Zo,Jo])):x("",!0)],64))),128)),Wo]),e("table",Xo,[e("tr",ta,[ea,e("td",null,"Subtotal "+l(t.prefijo)+":",1),e("td",oa,l(t.detalleventa.subtotal.toFixed(2)),1)]),e("tr",aa,[sa,e("td",null,"Impuestos "+l(t.prefijo)+":",1),e("td",la,l(t.detalleventa.impuesto.toFixed(2)),1)]),e("tr",na,[ia,e("td",null,"Descuentos "+l(t.prefijo)+":",1),e("td",da,l(t.detalleventa.descuentos.toFixed(2)),1)]),e("tr",ra,[ca,e("td",ua,"IGTF 3% "+l(t.prefijo)+":",1),e("td",ha,l(t.detalleventa.igtf.toFixed(2)),1)]),e("tr",pa,[ma,e("td",null,"Total "+l(t.prefijo)+":",1),e("td",fa,l(t.detalleventa.total.toFixed(2)),1)]),t.mostrartotal==="2"?(h(),g("tr",ya,[ga,e("td",null,"Total "+l(t.prefijo2)+":",1),e("td",_a,l(t.detalleventa.totalusd.toFixed(2)),1)])):x("",!0)])]),_:1})]),ba,o(b),o(q,{align:"center"},{default:n(()=>[N(o(p,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[D]]),o(p,{unelevated:"","no-caps":"",label:"Imprimir",color:"primary","icon-right":"check",onClick:t.imprimir},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalanular,"onUpdate:modelValue":s[14]||(s[14]=a=>t.modalanular=a),persistent:""},{default:n(()=>[o(B,{class:"custom-shadow custom-border-radius",style:{width:"350px"}},{default:n(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:n(()=>[va,N(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(y,{style:{display:"flex","align-items":"center"}},{default:n(()=>[o(S,{color:"primary","text-color":"white"},{default:n(()=>[o(j,{name:"cancel_presentation"})]),_:1}),wa]),_:1}),o(b),o(y,{style:{"justify-content":"center"}},{default:n(()=>[e("div",Ca,[o(P,{class:"col-10",color:"blue-grey-3",outlined:"",modelValue:t.numerointernoanular,"onUpdate:modelValue":s[13]||(s[13]=a=>t.numerointernoanular=a),label:"N\xFAmero Interno","stack-label":"",autofocus:""},null,8,["modelValue"]),o(p,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarFactura},null,8,["onClick"])])]),_:1}),o(b),t.facturabuscado?(h(),F(y,{key:0,style:{"justify-content":"center"}},{default:n(()=>[e("div",{class:et(t.detalleventaanular.estatus==="1"?"procesada":"anulada"),style:{display:"flex","justify-content":"center","align-items":"center",width:"100%"}},l(t.detalleventaanular.estatus==="1"?"Procesada":"Anulada"),3),e("div",ka,[e("div",xa,l(t.detalleventaanular.tipofactura),1),e("div",Ia,l(t.detalleventaanular.numerointerno),1)]),e("div",Na,[Da,e("div",Fa,l(t.detalleventaanular.numerocontrol),1)]),o(b,{style:{margin:"10px 0px"}}),e("table",Va,[e("tr",qa,[Ba,e("td",ja,l(t.detalleventaanular.nombrecliente),1)]),e("tr",Pa,[e("td",null,l(t.detalleventaanular.abrev),1),e("td",za,l(t.detalleventaanular.documento),1)]),e("tr",Aa,[Ta,e("td",Ua,l(t.fechaDetalle(t.detalleventaanular.fecha)),1)]),e("tr",Qa,[Sa,e("td",Ha,l(t.detalleventaanular.usuario),1)])]),e("table",Ea,[$a,(h(!0),g(V,null,A(t.ventasanular,a=>(h(),g("tr",{key:a,style:{"font-size":"11px"}},[e("td",Ma,l(a.producto),1),e("td",null,l(a.precio),1),e("td",null,l(a.cantidad),1),e("td",null,l(a.tasa)+"%",1),e("td",Oa,l(a.subtotal),1)]))),128)),La]),e("table",Ya,[e("tr",Ra,[Ga,e("td",null,"Subtotal "+l(t.prefijo)+":",1),e("td",Ka,l(t.detalleventaanular.subtotal),1)]),e("tr",Za,[Ja,e("td",null,"Impuestos "+l(t.prefijo)+":",1),e("td",Wa,l(t.detalleventaanular.impuesto),1)]),e("tr",Xa,[ts,e("td",null,"Descuentos "+l(t.prefijo)+":",1),e("td",es,l(t.detalleventaanular.descuentos),1)]),e("tr",os,[as,e("td",ss,"IGTF 3% "+l(t.prefijo)+":",1),e("td",ls,l(t.detalleventaanular.igtf),1)]),e("tr",ns,[is,e("td",null,"Total "+l(t.prefijo)+":",1),e("td",ds,l(t.detalleventaanular.total),1)]),t.mostrartotal==="2"?(h(),g("tr",rs,[cs,e("td",null,"Total "+l(t.prefijo2)+":",1),e("td",us,l(t.detalleventaanular.totalusd),1)])):x("",!0)])]),_:1})):x("",!0),o(b),o(q,{align:"center"},{default:n(()=>[N(o(p,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[D]]),o(p,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",disable:t.btnDisableAnular,onClick:t.anularDocumento},null,8,["disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalcomentario,"onUpdate:modelValue":s[16]||(s[16]=a=>t.modalcomentario=a),persistent:""},{default:n(()=>[o(B,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"330px"}},{default:n(()=>[o(y,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:n(()=>[hs,N(o(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(y,{style:{display:"flex","align-items":"center"}},{default:n(()=>[o(P,{outlined:"",modelValue:t.comentario,"onUpdate:modelValue":s[15]||(s[15]=a=>t.comentario=a),label:"Descripci\xF3n de producto",rows:"6",dense:"",type:"textarea",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(b),o(q,{align:"center"},{default:n(()=>[N(o(p,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[D]]),o(p,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",onClick:t.updComentarioItemHolds},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Ns=W(rt,[["render",ps],["__scopeId","data-v-1fd7ce90"]]);export{Ns as default};
