import{c as Z,K as n,h as $,e as ie,G as be,H as N,I as pe,r as p,P as d,T as _e,Z as Pe,g as ke,$ as He,a0 as Ne,a1 as We,a2 as Ae,a3 as Fe,a4 as Re,a5 as Ue,d as Ee,n as me,a6 as Q,a7 as he,a8 as je,_ as Ke,a9 as Ge,N as Xe,aa as Ze,k as T,l as O,w as c,m as i,B as ge,q as m,ab as re,z as L,ac as U,ad as V}from"./index.d69e7185.js";import{a as Je}from"./QResizeObserver.61dab2a5.js";import{Q as D,a as M}from"./QItem.0e259d63.js";import{b as X,Q as Ye}from"./format.b9ed30a5.js";import{T as se,Q as et}from"./QScrollArea.55603ac2.js";import{Q as tt,a as at}from"./QLayout.81de3cdf.js";import{a as ot}from"./axios.7331a07d.js";var lt=Z({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:h}){const v=n(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>$("div",{class:v.value},ie(h.default))}}),nt=Z({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:h}){const v=n(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>$("div",{class:v.value,role:"toolbar"},ie(h.default))}}),rt=Z({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:v}){const{proxy:{$q:x}}=ke(),r=be(pe,N);if(r===N)return console.error("QHeader needs to be child of QLayout"),N;const f=p(parseInt(e.heightHint,10)),k=p(!0),C=n(()=>e.reveal===!0||r.view.value.indexOf("H")>-1||x.platform.is.ios&&r.isContainer.value===!0),W=n(()=>{if(e.modelValue!==!0)return 0;if(C.value===!0)return k.value===!0?f.value:0;const o=f.value-r.scroll.value.position;return o>0?o:0}),E=n(()=>e.modelValue!==!0||C.value===!0&&k.value!==!0),a=n(()=>e.modelValue===!0&&E.value===!0&&e.reveal===!0),A=n(()=>"q-header q-layout__section--marginal "+(C.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(E.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),q=n(()=>{const o=r.rows.value.top,w={};return o[0]==="l"&&r.left.space===!0&&(w[x.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),o[2]==="r"&&r.right.space===!0&&(w[x.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),w});function g(o,w){r.update("header",o,w)}function u(o,w){o.value!==w&&(o.value=w)}function I({height:o}){u(f,o),g("size",o)}function y(o){a.value===!0&&u(k,!0),v("focusin",o)}d(()=>e.modelValue,o=>{g("space",o),u(k,!0),r.animate()}),d(W,o=>{g("offset",o)}),d(()=>e.reveal,o=>{o===!1&&u(k,e.modelValue)}),d(k,o=>{r.animate(),v("reveal",o)}),d(r.scroll,o=>{e.reveal===!0&&u(k,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const s={};return r.instances.header=s,e.modelValue===!0&&g("size",f.value),g("space",e.modelValue),g("offset",W.value),_e(()=>{r.instances.header===s&&(r.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const o=Pe(h.default,[]);return e.elevated===!0&&o.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push($(Je,{debounce:0,onResize:I})),$("header",{class:A.value,style:q.value,onFocusin:y},o)}}});const ye=150;var st=Z({name:"QDrawer",inheritAttrs:!1,props:{...He,...Ne,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...We,"onLayout","miniState"],setup(e,{slots:h,emit:v,attrs:x}){const r=ke(),{proxy:{$q:f}}=r,k=Ae(e,f),{preventBodyScroll:C}=je(),{registerTimeout:W,removeTimeout:E}=Fe(),a=be(pe,N);if(a===N)return console.error("QDrawer needs to be child of QLayout"),N;let A,q=null,g;const u=p(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),I=n(()=>e.mini===!0&&u.value!==!0),y=n(()=>I.value===!0?e.miniWidth:e.width),s=p(e.showIfAbove===!0&&u.value===!1?!0:e.modelValue===!0),o=n(()=>e.persistent!==!0&&(u.value===!0||Ce.value===!0));function w(t,l){if(we(),t!==!1&&a.animate(),_(0),u.value===!0){const b=a.instances[K.value];b!==void 0&&b.belowBreakpoint===!0&&b.hide(!1),B(1),a.isContainer.value!==!0&&C(!0)}else B(0),t!==!1&&oe(!1);W(()=>{t!==!1&&oe(!0),l!==!0&&v("show",t)},ye)}function ue(t,l){xe(),t!==!1&&a.animate(),B(0),_(P.value*y.value),le(),l!==!0?W(()=>{v("hide",t)},ye):E()}const{show:J,hide:F}=Re({showing:s,hideOnRouteChange:o,handleShow:w,handleHide:ue}),{addToHistory:we,removeFromHistory:xe}=Ue(s,F,o),j={belowBreakpoint:u,hide:F},S=n(()=>e.side==="right"),P=n(()=>(f.lang.rtl===!0?-1:1)*(S.value===!0?1:-1)),ce=p(0),H=p(!1),Y=p(!1),de=p(y.value*P.value),K=n(()=>S.value===!0?"left":"right"),ee=n(()=>s.value===!0&&u.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),te=n(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(S.value?"R":"L")>-1||f.platform.is.ios===!0&&a.isContainer.value===!0),R=n(()=>e.overlay===!1&&s.value===!0&&u.value===!1),Ce=n(()=>e.overlay===!0&&s.value===!0&&u.value===!1),qe=n(()=>"fullscreen q-drawer__backdrop"+(s.value===!1&&H.value===!1?" hidden":"")),Se=n(()=>({backgroundColor:`rgba(0,0,0,${ce.value*.4})`})),ve=n(()=>S.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),$e=n(()=>S.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Be=n(()=>{const t={};return a.header.space===!0&&ve.value===!1&&(te.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&$e.value===!1&&(te.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),ze=n(()=>{const t={width:`${y.value}px`,transform:`translateX(${de.value}px)`};return u.value===!0?t:Object.assign(t,Be.value)}),Te=n(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Oe=n(()=>`q-drawer q-drawer--${e.side}`+(Y.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(k.value===!0?" q-drawer--dark q-dark":"")+(H.value===!0?" no-transition":s.value===!0?"":" q-layout--prevent-focus")+(u.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${I.value===!0?"mini":"standard"}`+(te.value===!0||R.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ve.value===!0?" q-drawer--top-padding":""))),Qe=n(()=>{const t=f.lang.rtl===!0?e.side:K.value;return[[se,De,void 0,{[t]:!0,mouse:!0}]]}),Ie=n(()=>{const t=f.lang.rtl===!0?K.value:e.side;return[[se,fe,void 0,{[t]:!0,mouse:!0}]]}),Le=n(()=>{const t=f.lang.rtl===!0?K.value:e.side;return[[se,fe,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ae(){Me(u,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}d(u,t=>{t===!0?(A=s.value,s.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&A!==!1&&(s.value===!0?(_(0),B(0),le()):J(!1))}),d(()=>e.side,(t,l)=>{a.instances[l]===j&&(a.instances[l]=void 0,a[l].space=!1,a[l].offset=0),a.instances[t]=j,a[t].size=y.value,a[t].space=R.value,a[t].offset=ee.value}),d(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ae()}),d(()=>e.behavior+e.breakpoint,ae),d(a.isContainer,t=>{s.value===!0&&C(t!==!0),t===!0&&ae()}),d(a.scrollbarWidth,()=>{_(s.value===!0?0:void 0)}),d(ee,t=>{z("offset",t)}),d(R,t=>{v("onLayout",t),z("space",t)}),d(S,()=>{_()}),d(y,t=>{_(),ne(e.miniToOverlay,t)}),d(()=>e.miniToOverlay,t=>{ne(t,y.value)}),d(()=>f.lang.rtl,()=>{_()}),d(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ve(),a.animate())}),d(I,t=>{v("miniState",t)});function _(t){t===void 0?me(()=>{t=s.value===!0?0:y.value,_(P.value*t)}):(a.isContainer.value===!0&&S.value===!0&&(u.value===!0||Math.abs(t)===y.value)&&(t+=P.value*a.scrollbarWidth.value),de.value=t)}function B(t){ce.value=t}function oe(t){const l=t===!0?"remove":a.isContainer.value!==!0?"add":"";l!==""&&document.body.classList[l]("q-body--drawer-toggle")}function Ve(){q!==null&&clearTimeout(q),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),Y.value=!0,q=setTimeout(()=>{q=null,Y.value=!1,r&&r.proxy&&r.proxy.$el&&r.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function De(t){if(s.value!==!1)return;const l=y.value,b=X(t.distance.x,0,l);if(t.isFinal===!0){b>=Math.min(75,l)===!0?J():(a.animate(),B(0),_(P.value*l)),H.value=!1;return}_((f.lang.rtl===!0?S.value!==!0:S.value)?Math.max(l-b,0):Math.min(0,b-l)),B(X(b/l,0,1)),t.isFirst===!0&&(H.value=!0)}function fe(t){if(s.value!==!0)return;const l=y.value,b=t.direction===e.side,G=(f.lang.rtl===!0?b!==!0:b)?X(t.distance.x,0,l):0;if(t.isFinal===!0){Math.abs(G)<Math.min(75,l)===!0?(a.animate(),B(1),_(0)):F(),H.value=!1;return}_(P.value*G),B(X(1-G/l,0,1)),t.isFirst===!0&&(H.value=!0)}function le(){C(!1),oe(!0)}function z(t,l){a.update(e.side,t,l)}function Me(t,l){t.value!==l&&(t.value=l)}function ne(t,l){z("size",t===!0?e.miniWidth:l)}return a.instances[e.side]=j,ne(e.miniToOverlay,y.value),z("space",R.value),z("offset",ee.value),e.showIfAbove===!0&&e.modelValue!==!0&&s.value===!0&&e["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!0),Ee(()=>{v("onLayout",R.value),v("miniState",I.value),A=e.showIfAbove===!0;const t=()=>{(s.value===!0?w:ue)(!1,!0)};if(a.totalWidth.value!==0){me(t);return}g=d(a.totalWidth,()=>{g(),g=void 0,s.value===!1&&e.showIfAbove===!0&&u.value===!1?J(!1):t()})}),_e(()=>{g!==void 0&&g(),q!==null&&(clearTimeout(q),q=null),s.value===!0&&le(),a.instances[e.side]===j&&(a.instances[e.side]=void 0,z("size",0),z("offset",0),z("space",!1))}),()=>{const t=[];u.value===!0&&(e.noSwipeOpen===!1&&t.push(Q($("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Qe.value)),t.push(he("div",{ref:"backdrop",class:qe.value,style:Se.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&s.value===!0,()=>Le.value)));const l=I.value===!0&&h.mini!==void 0,b=[$("div",{...x,key:""+l,class:[Te.value,x.class]},l===!0?h.mini():ie(h.default))];return e.elevated===!0&&s.value===!0&&b.push($("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(he("aside",{ref:"content",class:Oe.value,style:ze.value},b,"contentclose",e.noSwipeClose!==!0&&u.value===!0,()=>Ie.value)),$("div",{class:"q-drawer-container"},t)}}});const it="https://posapi-test.factura-smart.com/",ut=Ge({name:"MainLayout",setup(){const e=p(!1),h=p(0),v=p(sessionStorage.getItem("tx_nombre")),x=p(sessionStorage.getItem("tx_rol")),r=p(sessionStorage.getItem("co_rol")),f=p(sessionStorage.getItem("tx_empresa"));return{rol:x,corol:r,empresa:f,saldoactual:h,nombreusuario:v,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}},methods:{salir(){this.$q.dialog({title:"Confirmaci\xF3n",message:"\xBFEst\xE1 seguro que quieres cerrar sesi\xF3n?",ok:{label:"S\xED",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{sessionStorage.removeItem("id_usuario"),sessionStorage.removeItem("tx_nombre"),sessionStorage.removeItem("tx_empresa"),sessionStorage.removeItem("co_empresa"),sessionStorage.removeItem("tx_rol"),sessionStorage.removeItem("co_rol"),this.$router.push("/")})},usuarios(){this.$router.push("/usuarios")},empresas(){this.$router.push("/empresas")},ventas(){this.$router.push("/ventas")},puntodeventa(){this.$router.push("/puntodeventa")},categorias(){this.$router.push("/categorias")},productos(){this.$router.push("/productos")},configuracion(){this.$router.push("/configuracion")},async cargar(){const e=await ot.get(it+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(h=>{Xe.create("Problemas al listar Configuracion "+h)});return console.log(e),e.data.resp}}}),ct=m("img",{src:"img/logo-prosales-dark.png",class:"logo"},null,-1),dt={class:"rulusuario"},vt={class:"bienvenido"},ft={class:"text-accent text-center"},mt=m("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Punto de venta",-1),ht={class:"text-accent text-center"},gt=m("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Categorias",-1),yt={class:"text-accent text-center"},bt=m("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Productos",-1),pt={class:"text-accent text-center"},_t=m("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Configuraci\xF3n",-1),kt={class:"text-accent text-center"},wt=m("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Emisores",-1),xt={class:"text-accent text-center"},Ct=m("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Ventas",-1),qt={class:"text-accent text-center"},St=m("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Usuarios",-1);function $t(e,h,v,x,r,f){const k=Ze("router-view");return T(),O(tt,{view:"hHh Lpr lff",container:"",style:{height:"100vh"},class:"shadow-2"},{default:c(()=>[i(rt,{class:"bg-accent"},{default:c(()=>[i(nt,null,{default:c(()=>[i(ge,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer,color:"primary"},null,8,["onClick"]),ct,i(lt,{style:{display:"grid"}},{default:c(()=>[m("span",dt,re(e.empresa),1),m("span",vt,re(e.nombreusuario)+' "'+re(e.rol)+'"',1)]),_:1}),i(ge,{flat:"",dense:"",icon:"logout","aria-label":"Salir",onClick:e.salir,color:"primary"},null,8,["onClick"])]),_:1})]),_:1}),i(st,{bordered:"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":h[0]||(h[0]=C=>e.leftDrawerOpen=C),"show-if-above":"",width:120,breakpoint:600},{default:c(()=>[i(et,{style:{height:"calc(100% - 30px)","margin-top":"20px","border-right":"1px solid #ddd"}},{default:c(()=>[i(Ye,{padding:""},{default:c(()=>[Q((T(),O(D,{clickable:"",onClick:e.puntodeventa},{default:c(()=>[i(M,null,{default:c(()=>[m("div",ft,[i(L,{color:"accent",name:"receipt_long",size:"40px"})]),mt]),_:1})]),_:1},8,["onClick"])),[[V]]),e.corol==="1"||e.corol==="2"?Q((T(),O(D,{key:0,clickable:"",onClick:e.categorias},{default:c(()=>[i(M,null,{default:c(()=>[m("div",ht,[i(L,{color:"accent",name:"collections_bookmark",size:"40px"})]),gt]),_:1})]),_:1},8,["onClick"])),[[V]]):U("",!0),e.corol==="1"||e.corol==="2"?Q((T(),O(D,{key:1,clickable:"",onClick:e.productos},{default:c(()=>[i(M,null,{default:c(()=>[m("div",yt,[i(L,{color:"accent",name:"inventory_2",size:"40px"})]),bt]),_:1})]),_:1},8,["onClick"])),[[V]]):U("",!0),e.corol==="1"||e.corol==="2"?Q((T(),O(D,{key:2,clickable:"",onClick:e.configuracion},{default:c(()=>[i(M,null,{default:c(()=>[m("div",pt,[i(L,{color:"accent",name:"settings",size:"40px"})]),_t]),_:1})]),_:1},8,["onClick"])),[[V]]):U("",!0),e.corol==="1"?Q((T(),O(D,{key:3,clickable:"",onClick:e.empresas},{default:c(()=>[i(M,null,{default:c(()=>[m("div",kt,[i(L,{color:"accent",name:"store",size:"40px"})]),wt]),_:1})]),_:1},8,["onClick"])),[[V]]):U("",!0),Q((T(),O(D,{clickable:"",onClick:e.ventas},{default:c(()=>[i(M,null,{default:c(()=>[m("div",xt,[i(L,{color:"accent",name:"payments",size:"40px"})]),Ct]),_:1})]),_:1},8,["onClick"])),[[V]]),e.corol==="1"||e.corol==="2"?Q((T(),O(D,{key:4,clickable:"",onClick:e.usuarios},{default:c(()=>[i(M,null,{default:c(()=>[m("div",qt,[i(L,{color:"accent",name:"people",size:"40px"})]),St]),_:1})]),_:1},8,["onClick"])),[[V]]):U("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(at,null,{default:c(()=>[i(k)]),_:1})]),_:1})}var Dt=Ke(ut,[["render",$t]]);export{Dt as default};
