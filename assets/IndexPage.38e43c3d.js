import{Q as $,a as K}from"./QSelect.ebf2cdea.js";import{c as G,a0 as Z,a2 as J,K as O,h as H,e as E,g as W,_ as X,a9 as tt,r as c,N as p,k as m,l as B,w as l,m as a,q as e,ab as i,F as _,B as h,au as I,av as Q,aw as S,Q as N,x as f,a6 as D,y as A,z as x,C as g,ac as V,A as k,ax as T,ay as et,az as U,aA as at,aB as L,D as st,E as ot}from"./index.608b0065.js";import{Q as j}from"./QImg.204c18d5.js";import{Q as R}from"./QBadge.8a2e8743.js";import{Q as z,a as F}from"./QItem.72a40108.js";import{Q as P,C as q}from"./ClosePopup.f967dfff.js";import{Q as lt}from"./format.782319f3.js";import{Q as nt}from"./QScrollArea.a56324ec.js";import{Q as it}from"./QPage.592d4da3.js";import{a as b}from"./axios.7331a07d.js";import{h as M}from"./moment.40bc58bf.js";import"./QResizeObserver.149afb17.js";var dt=G({name:"QBanner",props:{...Z,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:s}){const{proxy:{$q:n}}=W(),r=J(t,n),u=O(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(r.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),v=O(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const o=[H("div",{class:"q-banner__avatar col-auto row items-center self-start"},E(s.avatar)),H("div",{class:"q-banner__content col text-body2"},E(s.default))],w=E(s.action);return w!==void 0&&o.push(H("div",{class:v.value},w)),H("div",{class:u.value+(t.inlineActions===!1&&w!==void 0?" q-banner--top-padding":""),role:"alert"},o)}}}),Y=G({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:s}){const n=O(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(u=>t[u]===!0).map(u=>`q-btn-group--${u}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>H("div",{class:n.value},E(s.default))}});const y="https://posapi-test.factura-smart.com/",rt=tt({name:"IndexPage",setup(){return{slide:c(2),buscadoproducto:c(!0),btnDisableAnular:c(!0),numerointernoanular:c(""),modalanular:c(!1),empresa:c(""),direccion:c(""),rif:c(""),telefono:c(""),email:c(""),igtf:c(0),numerointerno:c(""),idventa:c(""),textitem:c(""),subtotal:c(0),impuesto:c(0),descuento:c(0),total:c(0),subtotalusd:c(0),impuestousd:c(0),descuentousd:c(0),totalusd:c(0),nombrecliente:c(""),correocliente:c(""),telefonocliente:c(""),direccioncliente:c(""),idclienteventa:c(""),nombreclienteventa:c(""),documentoabrev:c(""),documentoclientesolo:c(""),documentoclienteventa:c(""),fechahoy:c(M().format("DD/MM/YYYY")),fechaholds:c(""),idhold:c(""),iditemhold:c(""),buscaritem:c(!1),modalrealizarventa:c(!1),noencontrado:c(!1),clientebuscado:c(!1),facturabuscado:c(!1),encontrado:c(!1),modalcliente:c(!1),dsbBtnCrearCliente:c(!0),modeldocumento:c(null),modaldeleteholds:c(!1),modaldetalleinvoice:c(!1),optionsdocumento:[],rowsproductos:[],rowsproductosfiltre:[],holds:[],ventas:[],ventasanular:[],detalleventa:{},detalleventaanular:{},tasausd:c(0),idusuario:c(sessionStorage.getItem("id_usuario"))}},methods:{imprimir(){window.frames.print_frame.document.body.innerHTML=document.getElementById("areaImprimir").innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print(),this.modaldetalleinvoice=!1},fechaDetalle(t){return M(t).format("DD/MM/YYYY HH:mm:ss")},abrirBuscarFactura(){this.detalleventaanular={},this.numerointernoanular="",this.idUpd="",this.facturabuscado=!1,this.btnDisableAnular=!0,this.modalanular=!0},async anularDocumento(){const t={idventa:this.idUpd};await b.post(y+"ventas/anularventa",t).then(async s=>{console.log(s),this.modalanular=!1,p.create({message:"Documento ANULADO con \xE9xito",type:"positive"})})},async buscarFactura(){this.detalleventaanular={},this.ventasanular=[],this.facturabuscado=!1,this.idtipofacturaanular=1,await b.get(y+"ventas/getventanumerointerno/"+sessionStorage.getItem("co_empresa")+"/"+this.idtipofacturaanular+"/"+this.numerointernoanular).then(async t=>{console.log(this.numerointernoanular),console.log(t),t.status===200?(this.detalleventaanular=t.data.resp,this.idUpd=this.detalleventaanular.id,this.ventasanular=t.data.respdetalles,this.facturabuscado=!0,this.btnDisableAnular=this.detalleventaanular.estatus==="2"||!1):(p.create({message:"Documento NO ENCONTRADO",type:"info"}),this.facturabuscado=!1,this.btnDisableAnular=!0,this.idUpd="")})},async abrirDetalleInvoive(){const t=this;this.detalleventa={},await b.get(y+"ventas/getventa/"+this.idventa).then(async s=>{this.detalleventa=s.data.resp,await b.get(y+"ventas/getitemsventas/"+this.idventa).then(async n=>{t.ventas=[],console.log(n);const r=n.data.resp;for(const u in r){const v=r[u];t.ventas.push(v)}t.deleteHolds(2),t.modaldetalleinvoice=!0}).catch(n=>{p.create({message:"Problemas al listar items Ventas "+n,type:"negative"})}),console.log(this.detalleventa)})},async actualizarCantidad(t,s){console.log(t);const n=document.getElementById("cantidad"+t.idproducto);s===1?(n.value=Number(n.value)+1,this.subtotal=(Number(this.subtotal)+t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+(Number(t.precio)+t.precio*t.tasa/100)).toFixed(2)):(n.value>1&&(this.subtotal=(Number(this.subtotal)-t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)-t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)-(Number(t.precio)+t.precio*t.tasa/100)).toFixed(2)),n.value=n.value<=1?1:Number(n.value)-1),t.total=(Number(t.precio)+t.precio*t.tasa/100)*n.value,console.log("this.tasausd"),console.log(this.tasausd),this.subtotalusd=(this.subtotal/this.tasausd).toFixed(2),this.impuestousd=(this.impuesto/this.tasausd).toFixed(2),this.totalusd=(this.total/this.tasausd).toFixed(2);const r=await this.updItemHolds(t.iditemhold,n.value,n.value*(Number(t.precio)+t.precio*t.tasa/100),t.idproducto,s,t.intipoproducto);r?await this.calcularMonto(t):(console.log("resp input false"),console.log(r),n.value=n.value<=1?1:Number(n.value)-1)},calcularMonto(t){const s=document.getElementById("cantidad"+t.idproducto);if(s){const n=s.value>0?s.value:1;this.holds.map(r=>(r.cod===t.cod&&(r.monto=(r.precio*r.tasa/100+r.precio)*n,t.monto=r.monto,r.cantidad=n),r)),document.getElementById("monto"+t.idproducto).innerHTML="Bs."+t.monto.toFixed(2)}},async updItemHolds(t,s,n,r,u,v){const o={idproducto:r,iditemhold:t,cantidad:s,accion:u,total:n,intipoproducto:v},w=await b.post(y+"ventas/upditemholds",o);return console.log(w.status),w.status===202?(this.$q.dialog({title:"Ooops! "+w.data.resp,message:" Contacte al administrador del sistema.",html:!0,ok:{color:"primary",label:"Aceptar"}}),!1):!0},openDeleteHolds(){this.modaldeleteholds=!0},deleteHolds(t){const s={idhold:this.idhold,accion:t};b.post(y+"ventas/deleteholds",s).then(async n=>{this.modaldeleteholds=!1,this.documentoclienteventa="",this.listarHolds()}).catch(n=>{p.create({message:"Problemas al ELIMINAR Hold de venta "+n,type:"negative"})})},deleteItemHolds(t){console.log(t);const s={iditemhold:t.iditemhold,idproducto:t.idproducto,intipoproducto:t.intipoproducto,cantidad:t.cantidad};this.$q.dialog({title:"Eliminar Item",message:"\xBFDesea eliminar este item?",ok:{label:"Aceptar",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{b.post(y+"ventas/deleteitemholds",s).then(async n=>{console.log(n.data.success),this.nombrecliente="",this.listarHolds()}).catch(n=>{p.create({message:"Problemas al ELIMINAR itemhold de venta "+n,type:"negative"})})})},async additemholds(t){console.log(t);const s=this.descuento;let n=!1;const r=this.holds.findIndex(u=>u.idproducto===t.idproducto);if(r===-1){const u=t.precio*t.tasa/100+t.precio,v={idhold:this.idhold,idproducto:t.idproducto,precio:t.precio,cantidad:1,tasa:t.tasa,total:u,idunidad:t.idunidad,intipoproducto:t.intipoproducto,descuento:s};await b.post(y+"ventas/setitemholds",v).then(async o=>{const w=o.data.resp;if(o.data.success){const C={};C.idhold=this.idhold,C.iditemhold=w.iditemhold,C.idproducto=t.idproducto,C.precio=t.precio,C.cantidad=1,C.tasa=t.tasa,C.total=u,C.producto=t.producto,C.categoria=t.categoria,C.descripcion=t.descripcion,C.intipoproducto=t.intipoproducto,C.descuento=s,this.subtotal=(Number(this.subtotal)+C.precio*C.cantidad).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+u).toFixed(2),this.holds.push(C),n=!0}else this.buscaritem=!1,this.slide=2,p.create({message:`<span style="text-transform: uppercase;">${o.data.resp}</span>`})}).catch(o=>{p.create({message:"Problemas al crear itemhold de venta "+o,type:"negative"})})}else{this.holds[r].cantidad=Number(this.holds[r].cantidad)+1;const u=t.precio*t.tasa/100+t.precio;document.getElementById("monto"+t.idproducto).innerHTML="Bs."+(u*this.holds[r].cantidad).toFixed(2),this.subtotal=(Number(this.subtotal)+t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+u).toFixed(2),n=await this.updItemHolds(this.holds[r].iditemhold,this.holds[r].cantidad,u*this.holds[r].cantidad,t.idproducto,1)}n&&(this.subtotalusd=(this.subtotal/this.tasausd).toFixed(2),this.impuestousd=(this.impuesto/this.tasausd).toFixed(2),this.totalusd=(this.total/this.tasausd).toFixed(2),this.buscaritem=!1,this.slide=2)},listarProductos(){b.get(y+"productos/"+sessionStorage.getItem("co_empresa")+"/"+0).then(async s=>{const n=s.data.resp;this.rowsproductos=[];for(const r in n){const u={};u.idproducto=n[r].id,u.sku=n[r].sku,u.producto=n[r].producto,u.id=n[r].id,u.categoria=n[r].categoria,u.descripcion=n[r].descripcion,u.unidad=n[r].unidad,u.idunidad=n[r].idunidad,u.impuesto=n[r].impuesto,u.precio=n[r].precio,u.inventario=Number(n[r].inventario1),u.costo=n[r].costo,u.tasa=n[r].tasa,u.intipoproducto=n[r].intipoproducto,this.rowsproductos.push(u)}this.rowsproductosfiltre=this.rowsproductos}).catch(s=>{p.create({message:"Problemas al listar Categor\xEDas"+s,type:"negative"})})},abrirRealizarVenta(){this.listarHolds(),this.modalrealizarventa=!0},realizarVenta(){const t=this,s={idhold:this.idhold,tasausd:this.tasausd,totalusd:this.totalusd,idempresa:sessionStorage.getItem("co_empresa")};b.post(y+"ventas/setventa",s).then(async n=>{const r=n.data;console.log(r.success),r.success?(t.idventa=r.resp.idventa,t.abrirDetalleInvoive()):p.create({message:r.resp.message,type:"negative"})}).catch(n=>{p.create({message:"Problemas al REALIZAR venta "+n,type:"negative"})}),this.modalrealizarventa=!1},abrirBuscarItem(){this.nombrecliente.length===0?(console.log("Debe buscar cliente"),this.abrirBuscarCliente()):(this.buscaritem=!0,this.textitem="")},abrirBuscarCliente(){this.modalcliente=!0,this.documento="",console.log(this.optionsdocumento[0]),this.modeldocumento=this.optionsdocumento[0],this.limpiarCliente()},limpiarCliente(){this.nombrecliente="",this.telefonocliente="",this.correocliente="",this.direccioncliente="",this.noencontrado=!1,this.encontrado=!1,this.clientebuscado=!1,this.dsbBtnCrearCliente=!0},listarTiposDocumentos(){b.get(y+"tipodocumento").then(async t=>{const s=t.data.data;this.optionsdocumento=[];for(const n in s){const r={};r.cod=s[n].id,r.tipodocumento=s[n].tipodocumento,r.abrev=s[n].abrev,this.optionsdocumento.push(r)}}).catch(t=>{p.create({message:"Problemas al listar Tipos"+t,type:"negative"})})},buscarCliente(){if(this.limpiarCliente(),!this.modeldocumento){p.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){p.create({message:"Debe agregar DOCUMENTO",type:"info"});return}const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento};b.post(y+"clientes/buscar",t).then(async s=>{const n=s.data.resp;n.length>0?(this.idcliente=n[0].id,this.nombrecliente=n[0].nombre,this.telefonocliente=n[0].telefono,this.correocliente=n[0].correo,this.direccioncliente=n[0].direccion,this.noencontrado=!1,this.encontrado=!0):(this.noencontrado=!0,this.encontrado=!1),this.clientebuscado=!0,this.dsbBtnCrearCliente=!1}).catch(s=>{p.create({message:"Problemas al buscar cliente"+s,type:"negative"})})},crearCliente(){if(!this.modeldocumento){p.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){p.create({message:"Debe agregar DOCUMENTO",type:"info"});return}if(this.nombrecliente.length===0){p.create({message:"Debe agregar NOMBRE",type:"info"});return}if(this.encontrado)this.modalcliente=!1,this.idclienteventa=this.idcliente,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(this.idcliente,this.idusuario);else{const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento,nombre:this.nombrecliente,telefono:this.telefonocliente,correo:this.correocliente,direccion:this.direccioncliente};b.post(y+"clientes/crear",t).then(async s=>{const n=s.data.resp;n&&(this.modalcliente=!1,this.idclienteventa=n,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(n,this.idusuario))}).catch(s=>{p.create({message:"Problemas al crear cliente"+s,type:"negative"})})}},crearHolds(t,s){const r={idcliente:t,idusuario:s,idtipofactura:1};b.post(y+"ventas/setholds",r).then(async u=>{const v=u.data.resp;v&&(this.idhold=v.idhold,this.fechaholds=v.fecha)}).catch(u=>{p.create({message:"Problemas al crear hold de venta"+u,type:"negative"})})},async listarHolds(){this.nombrecliente="",await b.get(y+"ventas/gethols/"+sessionStorage.getItem("id_usuario")).then(async t=>{const s=t.data.resp.length>0?t.data.resp[0]:null;console.log(s),this.holds=[],this.slide=1,this.subtotal=0,this.impuesto=0,this.total=0,s&&(this.idcliente=s.idcliente,this.nombrecliente=s.nombre,this.documentoabrev=s.abrev,this.documentoclienteventa=s.abrev+" "+s.documento,this.documentoclientesolo=s.documento,this.idhold=s.idhold,this.fechaholds=M(s.fecha).format("DD/MM/YYYY"),await b.get(y+"ventas/getitemshols/"+this.idhold).then(async n=>{this.holds=n.data.resp;for(const r in this.holds){const u=this.holds[r],v=u.precio*u.cantidad,o=v*u.tasa/100,w=o+v;this.subtotal=(Number(this.subtotal)+v).toFixed(2),this.impuesto=(Number(this.impuesto)+o).toFixed(2),this.total=(Number(this.total)+w).toFixed(2)}this.slide=this.holds.length>0?2:1}).catch(n=>{p.create({message:"Problemas al listar items Holds"+n,type:"negative"})})),this.subtotalusd=(this.subtotal/this.tasa).toFixed(2),this.impuestousd=(this.impuesto/this.tasa).toFixed(2),this.totalusd=(this.total/this.tasausd).toFixed(2)}).catch(t=>{p.create({message:"Problemas al listar Holds"+t,type:"negative"})})},primeraletra(t){return t[0]},colorLetra(t){const s=t[0].charCodeAt(0);return"#"+s+"0"},async cargar(){const t=await b.get(y+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(s=>{p.create({message:"Problemas al listar Configuraci\xF3n"+s,type:"negative"})});return console.log(t),t.data.resp}},watch:{textitem(t){console.log("textitem"),console.log(t),this.buscadoproducto=!1,t.length>0?this.rowsproductosfiltre=this.rowsproductos.filter(s=>!!(s.producto.toUpperCase().includes(t.toUpperCase())||s.sku&&s.sku.includes(t))):this.rowsproductosfiltre=this.rowsproductos,this.buscadoproducto=!0,this.rowsproductosfiltre=this.rowsproductosfiltre.slice().reverse(),console.log(this.rowsproductosfiltre)}},async mounted(){const t=await this.cargar();this.tasausd=t.tasabcv,this.empresa=t.empresa,this.rif=t.rif,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,console.log("this.tasausd"),console.log(this.tasausd),await this.listarTiposDocumentos(),await this.listarHolds(),await this.listarProductos();const s=this;document.addEventListener("keydown",function(n){console.log(n.key),n.key==="F2"&&(n.preventDefault(),s.abrirBuscarItem()),n.key==="F3"&&(n.preventDefault(),s.abrirBuscarCliente()),n.key==="F4"&&(s.dsbBtnCrearCliente||(n.preventDefault(),s.crearCliente())),n.key==="F6"&&(s.holds.length<=0?p.create({message:"No tiene venta",type:"info"}):(n.preventDefault(),s.abrirRealizarVenta()))})}}),d=t=>(st("data-v-b2de9246"),t=t(),ot(),t),ct={class:"row"},ut={class:"col"},ht=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Cliente:",-1)),pt={class:"negrita ellipsis"},mt={class:"col bd-left"},ft={class:"row"},_t=d(()=>e("div",{class:"col-1 logo-bcv"},[e("img",{src:"logo_bcv.png"})],-1)),gt={class:"col"},bt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"\u{1F5D3}\uFE0F Fecha de venta:",-1)),yt={class:"negrita ellipsis"},vt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Tasa del d\xEDa (BCV):",-1)),wt={class:"col bd-left"},Ct={class:"row"},kt=d(()=>e("div",{class:"col-1"},[e("div",{class:"texto-pequeno ellipsis"},"\u{1F4B5} "),e("div",{class:"texto-pequeno ellipsis"},"\u{1F3DB}\uFE0F "),e("div",{class:"texto-pequeno ellipsis"},"\u{1F3F7}\uFE0F ")],-1)),xt={class:"col"},Bt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Subtotal: ",-1)),It=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Impuesto: ",-1)),Dt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Descuento: ",-1)),qt={class:"col"},Vt={class:"negrita ellipsis"},Ft={class:"negrita ellipsis"},Nt={class:"negrita ellipsis"},Pt={class:"q-px-md q-py-sm q-gutter-sm row items-center justify-between"},At={class:"col-12 col-md-auto text-center"},Tt={class:"col-12 col-md-auto text-center q-mt-md"},Qt={class:"row"},St={key:1,class:"listarcategoriasconitem col"},zt={class:"row justify-center"},Ht={class:"row no-wrap"},Ut={class:"overlay-content",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white",background:"rgba(0, 0, 0, 0.5)"}},Et={class:"col-8"},$t={style:{display:"flex","justify-content":"space-between","align-items":"center"}},jt={class:"q-mb-none"},Mt=["id"],Ot=d(()=>e("span",{style:{"margin-right":"10px"}},"Cantidad",-1)),Lt=["id","value","onInput"],Rt=d(()=>e("div",{class:"text-center"},[e("h6",null,"Agregar Item")],-1)),Yt={class:"q-ml-sm"},Gt={class:"row q-mt-sm"},Kt={class:"col-4 text-left"},Zt=d(()=>e("span",{class:"color-texto texto-pequeno"},"Descripci\xF3n: ",-1)),Jt={class:"tarjeticainside mr-2 texto-pequeno"},Wt={class:"col-4 text-left"},Xt=d(()=>e("span",{class:"color-texto texto-pequeno"},"Unidad: ",-1)),te={class:"col-4 text-left"},ee=d(()=>e("span",{class:"color-texto texto-pequeno"},"Impuesto: ",-1)),ae=d(()=>e("span",{class:"color-texto texto-pequeno"},"Precio: ",-1)),se=d(()=>e("div",{class:"text-center"},[e("h6",null,"Agregar cliente")],-1)),oe={class:""},le={class:"row"},ne={key:0,class:"noencontrado text-center"},ie=d(()=>e("p",{class:"text-noencontrado"},"Lo sentimos, no existe un cliente con ese documento",-1)),de=[ie],re={key:1,class:"encontrado text-center"},ce=d(()=>e("p",{class:"text-encontrado"},"Cliente encontrado",-1)),ue=[ce],he=d(()=>e("div",{class:"text-center"},[e("h6",null,"Eliminar")],-1)),pe=d(()=>e("div",{class:"color-texto",style:{"margin-left":"10px"}}," \xBFDesea eliminar esta venta?",-1)),me=d(()=>e("div",{class:"text-center"},[e("h6",null,"Realizar venta")],-1)),fe=d(()=>e("div",{class:"text-p color-texto",style:{"margin-left":"10px"}}," \xBFDesea realizar esta venta?",-1)),_e={class:"color-texto",style:{width:"100%"}},ge=d(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),be={style:{"font-weight":"bold"}},ye={style:{"font-weight":"bold"}},ve=d(()=>e("td",null,"Fecha:",-1)),we={style:{"font-weight":"bold"}},Ce={class:"color-texto",style:{width:"100%"}},ke=d(()=>e("tr",{style:{"font-weight":"bold"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cantidad"),e("td",{class:"rayafactura rayaarriba"},"Tasa %"),e("td",{class:"rayafactura rayaarriba"},"Total")],-1)),xe={style:{width:"150px","font-style":"italic"}},Be={style:{"text-align":"right"}},Ie={style:{"text-align":"center"}},De={style:{"text-align":"center"}},qe={style:{"text-align":"right"}},Ve=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),Fe={class:"color-texto",style:{width:"100%"}},Ne={class:"letratotalesfactura"},Pe=d(()=>e("td",{style:{width:"50%"}},null,-1)),Ae=d(()=>e("td",null,"Subtotal Bs.:",-1)),Te={style:{"text-align":"right"}},Qe={class:"letratotalesfactura"},Se=d(()=>e("td",null,null,-1)),ze=d(()=>e("td",null,"Impuestos Bs.:",-1)),He={style:{"text-align":"right"}},Ue={class:"letratotalesfactura"},Ee=d(()=>e("td",null,null,-1)),$e=d(()=>e("td",null,"Descuentos Bs.:",-1)),je={style:{"text-align":"right"}},Me={class:"letratotalesfactura"},Oe=d(()=>e("td",null,null,-1)),Le=d(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),Re={class:"rayafactura",style:{"text-align":"right"}},Ye={class:"letratotalesfactura",style:{"font-weight":"bold"}},Ge=d(()=>e("td",null,null,-1)),Ke=d(()=>e("td",null,"Total Bs.:",-1)),Ze={style:{"text-align":"right"}},Je={class:"letratotalesfactura",style:{"font-weight":"bold"}},We=d(()=>e("td",null,null,-1)),Xe=d(()=>e("td",null,"Total $:",-1)),ta={style:{"text-align":"right"}},ea={id:"areaImprimir",style:{width:"100%"}},aa={class:"text-center letratotalesfactura",style:{}},sa={class:"text-center letratotalesfactura",style:{}},oa={class:"text-center letratotalesfactura",style:{}},la={class:"text-center letratotalesfactura",style:{}},na={style:{display:"flex","align-items":"left",width:"100%"}},ia={class:"numero",style:{"margin-left":"10px"}},da={class:"numero",style:{"margin-left":"10px"}},ra={style:{display:"flex","align-items":"center"}},ca=d(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),ua={class:"control",style:{"margin-left":"10px"}},ha={style:{width:"100%"}},pa={class:"letratotalesfactura"},ma=d(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),fa={style:{"font-weight":"bold"}},_a={class:"letratotalesfactura"},ga={style:{"font-weight":"bold"}},ba={class:"letratotalesfactura"},ya=d(()=>e("td",null,"Fecha:",-1)),va={style:{"font-weight":"bold"}},wa={class:"letratotalesfactura"},Ca=d(()=>e("td",null,"Cajero:",-1)),ka={style:{"font-weight":"bold"}},xa={style:{width:"100%"}},Ba=d(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"Imp %"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),Ia={style:{width:"140px","font-style":"italic"}},Da={style:{"text-align":"right"}},qa={style:{"text-align":"center"}},Va={style:{"text-align":"center"}},Fa={style:{"text-align":"right"}},Na=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),Pa={style:{width:"100%"}},Aa={class:"letratotalesfactura"},Ta=d(()=>e("td",{style:{width:"40%"}},null,-1)),Qa=d(()=>e("td",null,"Subtotal Bs.:",-1)),Sa={style:{"text-align":"right"}},za={class:"letratotalesfactura"},Ha=d(()=>e("td",null,null,-1)),Ua=d(()=>e("td",null,"Impuestos Bs.:",-1)),Ea={style:{"text-align":"right"}},$a={class:"letratotalesfactura"},ja=d(()=>e("td",null,null,-1)),Ma=d(()=>e("td",null,"Descuentos Bs.:",-1)),Oa={style:{"text-align":"right"}},La={class:"letratotalesfactura"},Ra=d(()=>e("td",null,null,-1)),Ya=d(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),Ga={class:"rayafactura",style:{"text-align":"right"}},Ka={class:"letratotalesfactura",style:{"font-weight":"bold"}},Za=d(()=>e("td",null,null,-1)),Ja=d(()=>e("td",null,"Total Bs.:",-1)),Wa={style:{"text-align":"right"}},Xa={class:"letratotalesfactura",style:{"font-weight":"bold"}},ts=d(()=>e("td",null,null,-1)),es=d(()=>e("td",null,"Total $:",-1)),as={style:{"text-align":"right"}},ss=d(()=>e("iframe",{name:"print_frame",width:"0",height:"0",frameborder:"0",src:"about:blank"},null,-1)),os=d(()=>e("div",{class:"text-center"},[e("h6",null,"Anular documento")],-1)),ls=d(()=>e("div",{style:{"margin-left":"10px"}}," Buscar n\xFAmero interno",-1)),ns={class:"row"},is={style:{display:"flex","align-items":"left",width:"100%"}},ds={class:"numero",style:{"margin-left":"10px"}},rs={class:"numero",style:{"margin-left":"10px"}},cs={style:{display:"flex","align-items":"center"}},us=d(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),hs={class:"control",style:{"margin-left":"10px"}},ps={style:{width:"100%"}},ms={class:"letratotalesfactura"},fs=d(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),_s={style:{"font-weight":"bold"}},gs={class:"letratotalesfactura"},bs={style:{"font-weight":"bold"}},ys={class:"letratotalesfactura"},vs=d(()=>e("td",null,"Fecha:",-1)),ws={style:{"font-weight":"bold"}},Cs={class:"letratotalesfactura"},ks=d(()=>e("td",null,"Cajero:",-1)),xs={style:{"font-weight":"bold"}},Bs={style:{width:"100%"}},Is=d(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"Imp %"),e("td",{class:"rayafactura rayaarriba"},"Total")],-1)),Ds={style:{width:"140px","font-style":"italic"}},qs={style:{"text-align":"right"}},Vs=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),Fs={style:{width:"100%"}},Ns={class:"letratotalesfactura"},Ps=d(()=>e("td",{style:{width:"40%"}},null,-1)),As=d(()=>e("td",null,"Subtotal Bs.:",-1)),Ts={style:{"text-align":"right"}},Qs={class:"letratotalesfactura"},Ss=d(()=>e("td",null,null,-1)),zs=d(()=>e("td",null,"Impuestos Bs.:",-1)),Hs={style:{"text-align":"right"}},Us={class:"letratotalesfactura"},Es=d(()=>e("td",null,null,-1)),$s=d(()=>e("td",null,"Descuentos Bs.:",-1)),js={style:{"text-align":"right"}},Ms={class:"letratotalesfactura"},Os=d(()=>e("td",null,null,-1)),Ls=d(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),Rs={class:"rayafactura",style:{"text-align":"right"}},Ys={class:"letratotalesfactura",style:{"font-weight":"bold"}},Gs=d(()=>e("td",null,null,-1)),Ks=d(()=>e("td",null,"Total Bs.:",-1)),Zs={style:{"text-align":"right"}},Js={class:"letratotalesfactura",style:{"font-weight":"bold"}},Ws=d(()=>e("td",null,null,-1)),Xs=d(()=>e("td",null,"Total $:",-1)),to={style:{"text-align":"right"}};function eo(t,s,n,r,u,v){return m(),B(it,null,{default:l(()=>[a(dt,{class:"fondo-gris shadow-up-9"},{default:l(()=>[e("div",ct,[e("div",ut,[ht,e("div",pt,i(t.nombrecliente.length>0?t.nombrecliente:"S/INF"),1),e("div",null,i(t.documentoclienteventa),1)]),e("div",mt,[e("div",ft,[_t,e("div",gt,[bt,e("div",yt,i(t.nombrecliente.length>0?t.fechaholds:t.fechahoy),1),vt,a($,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:l(()=>[_("\u{1F1FB}\u{1F1EA} Bs."+i(parseFloat(t.tasausd).toFixed(2)),1)]),_:1})])])]),e("div",wt,[e("div",Ct,[kt,e("div",xt,[Bt,It,Dt,a($,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:l(()=>[_("$ "+i(t.totalusd),1)]),_:1})]),e("div",qt,[e("div",Vt,"Bs. "+i(t.subtotal),1),e("div",Ft,"Bs. "+i(t.impuesto),1),e("div",Nt,"Bs. "+i(t.descuento),1),a($,{dense:"",class:"color-degradado-vnz negrita ellipsis text-degradado color-texto"},{default:l(()=>[_("Bs. "+i(t.total),1)]),_:1})])])])])]),_:1}),e("div",Pt,[e("div",At,[a(Y,{unelevated:""},{default:l(()=>[a(h,{"no-caps":"",unelevated:"",color:"accent","icon-right":"add",onClick:t.abrirBuscarItem,label:"Agregar item (F2)"},null,8,["onClick"]),a(h,{outline:"","no-caps":"",unelevated:"",color:"accent","icon-right":"person",onClick:t.abrirBuscarCliente,label:"Agregar cliente (F3)"},null,8,["onClick"]),a(h,{outline:"",unelevated:"","no-caps":"",color:"accent",icon:"cancel_presentation",onClick:t.abrirBuscarFactura,label:"Anular documento",class:"boton-banner"},null,8,["onClick"]),a(h,{outline:"",unelevated:"","no-caps":"",color:"accent",icon:"settings_backup_restore",onClick:t.abrirBuscarFactura,label:"Devoluciones",class:"boton-banner",disable:!0},null,8,["onClick"])]),_:1})]),e("div",Tt,[a(Y,{unelevated:""},{default:l(()=>[a(h,{outline:"",unelevated:"","no-caps":"",color:"primary","icon-right":"close",onClick:t.openDeleteHolds,label:"Cancelar",disable:t.holds.length<=0},null,8,["onClick","disable"]),a(h,{"no-caps":"",unelevated:"",class:"gradient-btn","icon-right":"point_of_sale",onClick:t.abrirRealizarVenta,label:"Realizar venta (F6)",disable:t.holds.length<=0},null,8,["onClick","disable"])]),_:1})])]),e("div",Qt,[t.slide===1?(m(),B(j,{key:0,src:"img/sin-productos.png",style:{width:"35%",height:"auto",display:"block",margin:"auto"},fit:"contain"})):(m(),I("div",St,[e("div",zt,[(m(!0),I(Q,null,S(t.holds,o=>(m(),B(N,{class:"my-card custom-shadow custom-border-radius col-md-5 col-sm-11 col-xs-11",bordered:"",key:o,style:{margin:"10px"}},{default:l(()=>[e("div",Ht,[a(j,{class:"borde-cust col-4",src:"img/no-photo-prod.avif"},{default:l(()=>[e("div",Ut,[a(U,{"text-color":"white",style:L("background: "+t.colorLetra(o.producto)),size:"40px"},{default:l(()=>[_(i(t.primeraletra(o.producto)),1)]),_:2},1032,["style"]),e("div",null,[e("b",null,i(o.producto),1)]),a(R,{color:"grey-5",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:l(()=>[_(i(o.categoria),1)]),_:2},1024)])]),_:2},1024),e("div",Et,[a(f,{class:"q-pa-sm"},{default:l(()=>[e("div",$t,[e("h6",jt,i(o.producto),1),a(h,{round:"",unelevated:"",color:"red-1","text-color":"red-10",icon:"delete",onClick:w=>t.deleteItemHolds(o),style:{margin:"0"}},null,8,["onClick"])])]),_:2},1024),a(g),a(g),a(lt,null,{default:l(()=>[a(z,null,{default:l(()=>[a(F,{avatar:""},{default:l(()=>[a(x,{name:"sell",color:"grey-7"})]),_:1}),a(F,null,{default:l(()=>[a(P,{caption:""},{default:l(()=>[_("Precio unitario:")]),_:1}),a(P,null,{default:l(()=>[_(i(o.precio),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(z,null,{default:l(()=>[a(F,{avatar:""},{default:l(()=>[a(x,{name:"account_balance",color:"grey-7"})]),_:1}),a(F,null,{default:l(()=>[a(P,{caption:""},{default:l(()=>[_("Impuesto (%):")]),_:1}),a(P,null,{default:l(()=>[_(i(o.tasa),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(z,null,{default:l(()=>[a(F,{avatar:""},{default:l(()=>[a(x,{name:"attach_money",color:"grey-7"})]),_:1}),a(F,null,{default:l(()=>[a(P,{caption:""},{default:l(()=>[_("Total:")]),_:1}),e("span",{id:"monto"+o.idproducto,class:"precio"},"Bs. "+i(o.total),9,Mt)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(g),a(k,{align:"center"},{default:l(()=>[Ot,e("input",{class:"inputCantidad",id:"cantidad"+o.idproducto,value:o.cantidad,onInput:w=>t.calcularMonto(o),style:{"margin-right":"10px"}},null,40,Lt),a(h,{round:"",unelevated:"",class:"btncantidad",icon:"remove",color:"red-1","text-color":"red-10",onClick:w=>t.actualizarCantidad(o,2),style:{"margin-right":"10px"}},null,8,["onClick"]),a(h,{round:"",unelevated:"",class:"btncantidad",color:"green-1","text-color":"green-10",icon:"add",onClick:w=>t.actualizarCantidad(o,1)},null,8,["onClick"])]),_:2},1024)])])]),_:2},1024))),128))])]))]),a(T,{modelValue:t.buscaritem,"onUpdate:modelValue":s[1]||(s[1]=o=>t.buscaritem=o)},{default:l(()=>[a(N,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"800px"},bordered:""},{default:l(()=>[a(f,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[Rt,D(a(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])]),_:1}),a(f,{style:{padding:"10px 15px"}},{default:l(()=>[a(A,{color:"blue-grey-3",outlined:"",standout:"","bottom-slots":"",modelValue:t.textitem,"onUpdate:modelValue":s[0]||(s[0]=o=>t.textitem=o),label:"Nombre o Sku de producto",counter:"",autofocus:""},{prepend:l(()=>[a(x,{name:"search"})]),hint:l(()=>[_(" Cantidad de letras ")]),_:1},8,["modelValue"])]),_:1}),a(g),t.buscadoproducto?(m(),B(f,{key:0},{default:l(()=>[a(nt,{style:{height:"64vh"}},{default:l(()=>[(m(!0),I(Q,null,S(t.rowsproductosfiltre,o=>(m(),B(N,{key:o.id,class:"custom-shadow custom-border-radius q-mb-md",bordered:""},{default:l(()=>[a(z,{class:"q-pa-sm"},{default:l(()=>[a(F,null,{default:l(()=>[a(P,{caption:"",style:{"padding-left":"7px"}},{default:l(()=>[_(i(o.categoria),1)]),_:2},1024),a(P,{class:"text-h6"},{default:l(()=>[a(U,{"text-color":"white",style:L("background: "+t.colorLetra(o.producto))},{default:l(()=>[_(i(t.primeraletra(o.producto)),1)]),_:2},1032,["style"]),_(" "+i(o.producto),1)]),_:2},1024),a(P,null,{default:l(()=>[a(R,{color:o.intipoproducto==="1"?"light-green-5":o.intipoproducto==="2"?"deep-orange-5":"orange-5",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:l(()=>[_(i(o.intipoproducto==="1"?"Simple":o.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color"]),e("span",Yt,"SKU: "+i(o.sku),1)]),_:2},1024)]),_:2},1024),a(F,{side:""},{default:l(()=>[a(h,{round:"",unelevated:"",color:"deep-orange-1","text-color":"deep-orange-8",icon:"add_shopping_cart",onClick:w=>t.additemholds(o)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),a(g),a(z,{class:"q-pa-sm"},{default:l(()=>[a(F,{class:"q-ml-md"},{default:l(()=>[e("div",Gt,[e("div",Kt,[Zt,e("p",Jt,i(o.descripcion),1)]),e("div",Wt,[Xt,e("p",null,i(o.unidad),1)]),e("div",te,[ee,e("p",null,i(o.impuesto),1)])])]),_:2},1024)]),_:2},1024),a(k,{class:"tarjeticainside",align:"right"},{default:l(()=>[e("h6",null,[ae,_(" Bs. "+i(o.precio),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):V("",!0),a(g),a(k,{align:"right"},{default:l(()=>[D(a(h,{outline:"","no-caps":"",label:"Cancelar",color:"primary"},null,512),[[q]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(T,{modelValue:t.modalcliente,"onUpdate:modelValue":s[8]||(s[8]=o=>t.modalcliente=o)},{default:l(()=>[a(N,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[a(f,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[se,D(a(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])]),_:1}),a(g),a(f,{style:{padding:"15px"}},{default:l(()=>[e("div",oe,[a(K,{outlined:"",modelValue:t.modeldocumento,"onUpdate:modelValue":s[2]||(s[2]=o=>t.modeldocumento=o),options:t.optionsdocumento,"option-label":"tipodocumento","option-value":"cod",label:"Seleccione tipo documento"},{prepend:l(()=>[a(x,{name:"badge"})]),_:1},8,["modelValue","options"])])]),_:1}),a(f,{style:{padding:"10px 15px"}},{default:l(()=>[e("div",le,[a(A,{class:"col-10",outlined:"",modelValue:t.documento,"onUpdate:modelValue":s[3]||(s[3]=o=>t.documento=o),label:"Documento","stack-label":"",autofocus:"",onKeyup:et(t.buscarCliente,["enter"])},{prepend:l(()=>[a(x,{name:"badge"})]),_:1},8,["modelValue","onKeyup"]),a(h,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarCliente},null,8,["onClick"])])]),_:1}),t.noencontrado?(m(),I("div",ne,de)):V("",!0),t.encontrado?(m(),I("div",re,ue)):V("",!0),t.clientebuscado?(m(),B(g,{key:2})):V("",!0),t.clientebuscado?(m(),B(f,{key:3,style:{padding:"15px"}},{default:l(()=>[a(A,{outlined:"",modelValue:t.nombrecliente,"onUpdate:modelValue":s[4]||(s[4]=o=>t.nombrecliente=o),label:"Nombre del cliente","stack-label":""},{prepend:l(()=>[a(x,{name:"badge"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),t.clientebuscado?(m(),B(f,{key:4,style:{padding:"15px"}},{default:l(()=>[a(A,{outlined:"",modelValue:t.correocliente,"onUpdate:modelValue":s[5]||(s[5]=o=>t.correocliente=o),label:"Email del cliente","stack-label":""},{prepend:l(()=>[a(x,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),t.clientebuscado?(m(),B(f,{key:5,style:{padding:"15px"}},{default:l(()=>[a(A,{outlined:"",modelValue:t.telefonocliente,"onUpdate:modelValue":s[6]||(s[6]=o=>t.telefonocliente=o),label:"Tel\xE9fono del cliente","stack-label":""},{prepend:l(()=>[a(x,{name:"phone"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),t.clientebuscado?(m(),B(f,{key:6,style:{padding:"15px"}},{default:l(()=>[a(A,{outlined:"",modelValue:t.direccioncliente,"onUpdate:modelValue":s[7]||(s[7]=o=>t.direccioncliente=o),label:"Direcci\xF3n del cliente","stack-label":""},{prepend:l(()=>[a(x,{name:"location_on"})]),_:1},8,["modelValue"])]),_:1})):V("",!0),a(g),a(k,{align:"center"},{default:l(()=>[D(a(h,{outline:"","no-caps":"",label:"Cancelar","icon-right":"close",color:"primary",onClick:t.limpiarCliente},null,8,["onClick"]),[[q]]),a(h,{unelevated:"","no-caps":"",label:"Aceptar (F4)",color:"primary","icon-right":"check",onClick:t.crearCliente,disable:t.dsbBtnCrearCliente},null,8,["onClick","disable"])]),_:1}),a(k,{align:"center",class:"color-texto"},{default:l(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(T,{modelValue:t.modaldeleteholds,"onUpdate:modelValue":s[10]||(s[10]=o=>t.modaldeleteholds=o),persistent:""},{default:l(()=>[a(N,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[a(f,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[he,D(a(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])]),_:1}),a(f,{style:{display:"flex","align-items":"center"}},{default:l(()=>[pe]),_:1}),a(f,null,{default:l(()=>[a(j,{class:"rounded-borders col-3",src:"img/delete.png"})]),_:1}),a(k,{align:"center"},{default:l(()=>[D(a(h,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"primary"},null,512),[[q]]),a(h,{unelevated:"","no-caps":"",label:"Aceptar",color:"primary","icon-right":"check",onClick:s[9]||(s[9]=o=>t.deleteHolds(1))})]),_:1}),a(k,{align:"center",class:"color-texto"},{default:l(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(T,{modelValue:t.modalrealizarventa,"onUpdate:modelValue":s[11]||(s[11]=o=>t.modalrealizarventa=o),persistent:""},{default:l(()=>[a(N,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[a(f,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[me,D(a(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])]),_:1}),a(f,{style:{display:"flex","align-items":"center"}},{default:l(()=>[a(U,{color:"primary","text-color":"white"},{default:l(()=>[a(x,{name:"shopping_cart_checkout"})]),_:1}),fe]),_:1}),a(g),a(f,null,{default:l(()=>[e("table",_e,[e("tr",null,[ge,e("td",be,i(t.nombrecliente),1)]),e("tr",null,[e("td",null,i(t.documentoabrev)+":",1),e("td",ye,i(t.documentoclientesolo),1)]),e("tr",null,[ve,e("td",we,i(t.fechaholds),1)])]),e("table",Ce,[ke,(m(!0),I(Q,null,S(t.holds,o=>(m(),I("tr",{key:o},[e("td",xe,i(o.producto),1),e("td",Be,i(o.precio),1),e("td",Ie,i(o.cantidad),1),e("td",De,i(o.tasa)+"%",1),e("td",qe,i(o.total),1)]))),128)),Ve]),e("table",Fe,[e("tr",Ne,[Pe,Ae,e("td",Te,i(t.subtotal),1)]),e("tr",Qe,[Se,ze,e("td",He,i(t.impuesto),1)]),e("tr",Ue,[Ee,$e,e("td",je,i(t.descuento),1)]),e("tr",Me,[Oe,Le,e("td",Re,i(t.igtf),1)]),e("tr",Ye,[Ge,Ke,e("td",Ze,i(t.total),1)]),e("tr",Je,[We,Xe,e("td",ta,i(t.totalusd),1)])])]),_:1}),a(g),a(k,{align:"center"},{default:l(()=>[D(a(h,{outline:"","no-caps":"","icon-right":"close",color:"primary",label:"Cancelar"},null,512),[[q]]),a(h,{unelevated:"","no-caps":"","icon-right":"check",color:"primary",label:"Aceptar",onClick:t.realizarVenta},null,8,["onClick"])]),_:1}),a(k,{align:"center",class:"color-texto"},{default:l(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(T,{modelValue:t.modaldetalleinvoice,"onUpdate:modelValue":s[12]||(s[12]=o=>t.modaldetalleinvoice=o),persistent:""},{default:l(()=>[a(N,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[e("div",ea,[a(f,{style:{"justify-content":"center"}},{default:l(()=>[e("div",aa,i(t.empresa)+" - "+i(t.rif),1),e("div",sa,i(t.direccion),1),e("div",oa,i(t.telefono),1),e("div",la,i(t.email),1),a(g,{style:{margin:"10px 0px"}}),e("div",na,[e("div",ia,i(t.detalleventa.tipofactura),1),e("div",da,i(t.detalleventa.numerointerno),1)]),e("div",ra,[ca,e("div",ua,i(t.detalleventa.numerocontrol),1)]),a(g,{style:{margin:"10px 0px"}}),e("table",ha,[e("tr",pa,[ma,e("td",fa,i(t.detalleventa.nombrecliente),1)]),e("tr",_a,[e("td",null,i(t.detalleventa.abrev),1),e("td",ga,i(t.detalleventa.documento),1)]),e("tr",ba,[ya,e("td",va,i(t.fechaDetalle(t.detalleventa.fecha)),1)]),e("tr",wa,[Ca,e("td",ka,i(t.detalleventa.usuario),1)])]),e("table",xa,[Ba,(m(!0),I(Q,null,S(t.ventas,o=>(m(),I("tr",{key:o,style:{"font-size":"11px"}},[e("td",Ia,i(o.producto),1),e("td",Da,i(o.precio),1),e("td",qa,i(o.cantidad),1),e("td",Va,i(o.tasa)+"%",1),e("td",Fa,i(o.subtotal),1)]))),128)),Na]),e("table",Pa,[e("tr",Aa,[Ta,Qa,e("td",Sa,i(t.detalleventa.subtotal),1)]),e("tr",za,[Ha,Ua,e("td",Ea,i(t.detalleventa.impuesto),1)]),e("tr",$a,[ja,Ma,e("td",Oa,i(t.detalleventa.descuentos),1)]),e("tr",La,[Ra,Ya,e("td",Ga,i(t.detalleventa.igtf),1)]),e("tr",Ka,[Za,Ja,e("td",Wa,i(t.detalleventa.total),1)]),e("tr",Xa,[ts,es,e("td",as,i(t.detalleventa.totalusd),1)])])]),_:1})]),ss,a(g),a(k,{align:"center"},{default:l(()=>[D(a(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[q]]),a(h,{unelevated:"","no-caps":"",label:"Imprimir",color:"primary","icon-right":"check",onClick:t.imprimir},null,8,["onClick"])]),_:1}),a(k,{align:"center",class:"color-texto"},{default:l(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(T,{modelValue:t.modalanular,"onUpdate:modelValue":s[14]||(s[14]=o=>t.modalanular=o),persistent:""},{default:l(()=>[a(N,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[a(f,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[os,D(a(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])]),_:1}),a(f,{style:{display:"flex","align-items":"center"}},{default:l(()=>[a(U,{color:"primary","text-color":"white"},{default:l(()=>[a(x,{name:"cancel_presentation"})]),_:1}),ls]),_:1}),a(g),a(f,{style:{"justify-content":"center"}},{default:l(()=>[e("div",ns,[a(A,{class:"col-10",color:"blue-grey-3",outlined:"",modelValue:t.numerointernoanular,"onUpdate:modelValue":s[13]||(s[13]=o=>t.numerointernoanular=o),label:"N\xFAmero Interno","stack-label":"",autofocus:""},null,8,["modelValue"]),a(h,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarFactura},null,8,["onClick"])])]),_:1}),a(g),t.facturabuscado?(m(),B(f,{key:0,style:{"justify-content":"center"}},{default:l(()=>[e("div",{class:at(t.detalleventaanular.estatus==="1"?"procesada":"anulada"),style:{display:"flex","justify-content":"center","align-items":"center",width:"100%"}},i(t.detalleventaanular.estatus==="1"?"Procesada":"Anulada"),3),e("div",is,[e("div",ds,i(t.detalleventaanular.tipofactura),1),e("div",rs,i(t.detalleventaanular.numerointerno),1)]),e("div",cs,[us,e("div",hs,i(t.detalleventaanular.numerocontrol),1)]),a(g,{style:{margin:"10px 0px"}}),e("table",ps,[e("tr",ms,[fs,e("td",_s,i(t.detalleventaanular.nombrecliente),1)]),e("tr",gs,[e("td",null,i(t.detalleventaanular.abrev),1),e("td",bs,i(t.detalleventaanular.documento),1)]),e("tr",ys,[vs,e("td",ws,i(t.fechaDetalle(t.detalleventaanular.fecha)),1)]),e("tr",Cs,[ks,e("td",xs,i(t.detalleventaanular.usuario),1)])]),e("table",Bs,[Is,(m(!0),I(Q,null,S(t.ventasanular,o=>(m(),I("tr",{key:o,style:{"font-size":"11px"}},[e("td",Ds,i(o.producto),1),e("td",null,i(o.precio),1),e("td",null,i(o.cantidad),1),e("td",null,i(o.tasa)+"%",1),e("td",qs,i(o.subtotal),1)]))),128)),Vs]),e("table",Fs,[e("tr",Ns,[Ps,As,e("td",Ts,i(t.detalleventaanular.subtotal),1)]),e("tr",Qs,[Ss,zs,e("td",Hs,i(t.detalleventaanular.impuesto),1)]),e("tr",Us,[Es,$s,e("td",js,i(t.detalleventaanular.descuentos),1)]),e("tr",Ms,[Os,Ls,e("td",Rs,i(t.detalleventaanular.igtf),1)]),e("tr",Ys,[Gs,Ks,e("td",Zs,i(t.detalleventaanular.total),1)]),e("tr",Js,[Ws,Xs,e("td",to,i(t.detalleventaanular.totalusd),1)])])]),_:1})):V("",!0),a(g),a(k,{align:"center"},{default:l(()=>[D(a(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[q]]),a(h,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",disable:t.btnDisableAnular,onClick:t.anularDocumento},null,8,["disable","onClick"])]),_:1}),a(k,{align:"center",class:"color-texto"},{default:l(()=>[_(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var fo=X(rt,[["render",eo],["__scopeId","data-v-b2de9246"]]);export{fo as default};
