import{c as Z,K as r,h as T,e as ie,G as ge,H as W,I as pe,r as p,P as d,T as _e,Z as Pe,g as ke,$ as He,a0 as Ne,a1 as We,a2 as Ae,a3 as Fe,a4 as Re,a5 as Ue,d as Ee,n as me,a6 as z,a7 as he,a8 as je,_ as Ke,a9 as Ge,N as Xe,aa as Ze,k as $,l as B,w as u,m as s,B as ye,q as f,ab as ne,z as O,ac as N,ad as L}from"./index.0b5707ba.js";import{a as Je}from"./QResizeObserver.ee535ad9.js";import{Q as V,a as D}from"./QItem.79c151f9.js";import{b as X,Q as Ye}from"./format.ef8154b2.js";import{T as se,Q as et}from"./QScrollArea.17b50b92.js";import{Q as tt}from"./QImg.a63da2b9.js";import{Q as at,a as ot}from"./QLayout.685850b6.js";import{a as lt}from"./axios.7331a07d.js";var rt=Z({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:h}){const v=r(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>T("div",{class:v.value},ie(h.default))}}),nt=Z({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:h}){const v=r(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>T("div",{class:v.value,role:"toolbar"},ie(h.default))}}),st=Z({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:h,emit:v}){const{proxy:{$q:x}}=ke(),n=ge(pe,W);if(n===W)return console.error("QHeader needs to be child of QLayout"),W;const m=p(parseInt(e.heightHint,10)),k=p(!0),C=r(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||x.platform.is.ios&&n.isContainer.value===!0),A=r(()=>{if(e.modelValue!==!0)return 0;if(C.value===!0)return k.value===!0?m.value:0;const o=m.value-n.scroll.value.position;return o>0?o:0}),E=r(()=>e.modelValue!==!0||C.value===!0&&k.value!==!0),a=r(()=>e.modelValue===!0&&E.value===!0&&e.reveal===!0),F=r(()=>"q-header q-layout__section--marginal "+(C.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(E.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),q=r(()=>{const o=n.rows.value.top,w={};return o[0]==="l"&&n.left.space===!0&&(w[x.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),o[2]==="r"&&n.right.space===!0&&(w[x.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),w});function y(o,w){n.update("header",o,w)}function c(o,w){o.value!==w&&(o.value=w)}function M({height:o}){c(m,o),y("size",o)}function b(o){a.value===!0&&c(k,!0),v("focusin",o)}d(()=>e.modelValue,o=>{y("space",o),c(k,!0),n.animate()}),d(A,o=>{y("offset",o)}),d(()=>e.reveal,o=>{o===!1&&c(k,e.modelValue)}),d(k,o=>{n.animate(),v("reveal",o)}),d(n.scroll,o=>{e.reveal===!0&&c(k,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const i={};return n.instances.header=i,e.modelValue===!0&&y("size",m.value),y("space",e.modelValue),y("offset",A.value),_e(()=>{n.instances.header===i&&(n.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const o=Pe(h.default,[]);return e.elevated===!0&&o.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(T(Je,{debounce:0,onResize:M})),T("header",{class:F.value,style:q.value,onFocusin:b},o)}}});const be=150;var it=Z({name:"QDrawer",inheritAttrs:!1,props:{...He,...Ne,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...We,"onLayout","miniState"],setup(e,{slots:h,emit:v,attrs:x}){const n=ke(),{proxy:{$q:m}}=n,k=Ae(e,m),{preventBodyScroll:C}=je(),{registerTimeout:A,removeTimeout:E}=Fe(),a=ge(pe,W);if(a===W)return console.error("QDrawer needs to be child of QLayout"),W;let F,q=null,y;const c=p(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),M=r(()=>e.mini===!0&&c.value!==!0),b=r(()=>M.value===!0?e.miniWidth:e.width),i=p(e.showIfAbove===!0&&c.value===!1?!0:e.modelValue===!0),o=r(()=>e.persistent!==!0&&(c.value===!0||Ce.value===!0));function w(t,l){if(we(),t!==!1&&a.animate(),_(0),c.value===!0){const g=a.instances[K.value];g!==void 0&&g.belowBreakpoint===!0&&g.hide(!1),Q(1),a.isContainer.value!==!0&&C(!0)}else Q(0),t!==!1&&oe(!1);A(()=>{t!==!1&&oe(!0),l!==!0&&v("show",t)},be)}function ue(t,l){xe(),t!==!1&&a.animate(),Q(0),_(P.value*b.value),le(),l!==!0?A(()=>{v("hide",t)},be):E()}const{show:J,hide:R}=Re({showing:i,hideOnRouteChange:o,handleShow:w,handleHide:ue}),{addToHistory:we,removeFromHistory:xe}=Ue(i,R,o),j={belowBreakpoint:c,hide:R},S=r(()=>e.side==="right"),P=r(()=>(m.lang.rtl===!0?-1:1)*(S.value===!0?1:-1)),ce=p(0),H=p(!1),Y=p(!1),de=p(b.value*P.value),K=r(()=>S.value===!0?"left":"right"),ee=r(()=>i.value===!0&&c.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:b.value:0),te=r(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(S.value?"R":"L")>-1||m.platform.is.ios===!0&&a.isContainer.value===!0),U=r(()=>e.overlay===!1&&i.value===!0&&c.value===!1),Ce=r(()=>e.overlay===!0&&i.value===!0&&c.value===!1),qe=r(()=>"fullscreen q-drawer__backdrop"+(i.value===!1&&H.value===!1?" hidden":"")),Se=r(()=>({backgroundColor:`rgba(0,0,0,${ce.value*.4})`})),fe=r(()=>S.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),$e=r(()=>S.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Be=r(()=>{const t={};return a.header.space===!0&&fe.value===!1&&(te.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&$e.value===!1&&(te.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),ze=r(()=>{const t={width:`${b.value}px`,transform:`translateX(${de.value}px)`};return c.value===!0?t:Object.assign(t,Be.value)}),Te=r(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Qe=r(()=>`q-drawer q-drawer--${e.side}`+(Y.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(k.value===!0?" q-drawer--dark q-dark":"")+(H.value===!0?" no-transition":i.value===!0?"":" q-layout--prevent-focus")+(c.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${M.value===!0?"mini":"standard"}`+(te.value===!0||U.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(fe.value===!0?" q-drawer--top-padding":""))),Ie=r(()=>{const t=m.lang.rtl===!0?e.side:K.value;return[[se,De,void 0,{[t]:!0,mouse:!0}]]}),Oe=r(()=>{const t=m.lang.rtl===!0?K.value:e.side;return[[se,ve,void 0,{[t]:!0,mouse:!0}]]}),Le=r(()=>{const t=m.lang.rtl===!0?K.value:e.side;return[[se,ve,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ae(){Me(c,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}d(c,t=>{t===!0?(F=i.value,i.value===!0&&R(!1)):e.overlay===!1&&e.behavior!=="mobile"&&F!==!1&&(i.value===!0?(_(0),Q(0),le()):J(!1))}),d(()=>e.side,(t,l)=>{a.instances[l]===j&&(a.instances[l]=void 0,a[l].space=!1,a[l].offset=0),a.instances[t]=j,a[t].size=b.value,a[t].space=U.value,a[t].offset=ee.value}),d(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ae()}),d(()=>e.behavior+e.breakpoint,ae),d(a.isContainer,t=>{i.value===!0&&C(t!==!0),t===!0&&ae()}),d(a.scrollbarWidth,()=>{_(i.value===!0?0:void 0)}),d(ee,t=>{I("offset",t)}),d(U,t=>{v("onLayout",t),I("space",t)}),d(S,()=>{_()}),d(b,t=>{_(),re(e.miniToOverlay,t)}),d(()=>e.miniToOverlay,t=>{re(t,b.value)}),d(()=>m.lang.rtl,()=>{_()}),d(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ve(),a.animate())}),d(M,t=>{v("miniState",t)});function _(t){t===void 0?me(()=>{t=i.value===!0?0:b.value,_(P.value*t)}):(a.isContainer.value===!0&&S.value===!0&&(c.value===!0||Math.abs(t)===b.value)&&(t+=P.value*a.scrollbarWidth.value),de.value=t)}function Q(t){ce.value=t}function oe(t){const l=t===!0?"remove":a.isContainer.value!==!0?"add":"";l!==""&&document.body.classList[l]("q-body--drawer-toggle")}function Ve(){q!==null&&clearTimeout(q),n.proxy&&n.proxy.$el&&n.proxy.$el.classList.add("q-drawer--mini-animate"),Y.value=!0,q=setTimeout(()=>{q=null,Y.value=!1,n&&n.proxy&&n.proxy.$el&&n.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function De(t){if(i.value!==!1)return;const l=b.value,g=X(t.distance.x,0,l);if(t.isFinal===!0){g>=Math.min(75,l)===!0?J():(a.animate(),Q(0),_(P.value*l)),H.value=!1;return}_((m.lang.rtl===!0?S.value!==!0:S.value)?Math.max(l-g,0):Math.min(0,g-l)),Q(X(g/l,0,1)),t.isFirst===!0&&(H.value=!0)}function ve(t){if(i.value!==!0)return;const l=b.value,g=t.direction===e.side,G=(m.lang.rtl===!0?g!==!0:g)?X(t.distance.x,0,l):0;if(t.isFinal===!0){Math.abs(G)<Math.min(75,l)===!0?(a.animate(),Q(1),_(0)):R(),H.value=!1;return}_(P.value*G),Q(X(1-G/l,0,1)),t.isFirst===!0&&(H.value=!0)}function le(){C(!1),oe(!0)}function I(t,l){a.update(e.side,t,l)}function Me(t,l){t.value!==l&&(t.value=l)}function re(t,l){I("size",t===!0?e.miniWidth:l)}return a.instances[e.side]=j,re(e.miniToOverlay,b.value),I("space",U.value),I("offset",ee.value),e.showIfAbove===!0&&e.modelValue!==!0&&i.value===!0&&e["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!0),Ee(()=>{v("onLayout",U.value),v("miniState",M.value),F=e.showIfAbove===!0;const t=()=>{(i.value===!0?w:ue)(!1,!0)};if(a.totalWidth.value!==0){me(t);return}y=d(a.totalWidth,()=>{y(),y=void 0,i.value===!1&&e.showIfAbove===!0&&c.value===!1?J(!1):t()})}),_e(()=>{y!==void 0&&y(),q!==null&&(clearTimeout(q),q=null),i.value===!0&&le(),a.instances[e.side]===j&&(a.instances[e.side]=void 0,I("size",0),I("offset",0),I("space",!1))}),()=>{const t=[];c.value===!0&&(e.noSwipeOpen===!1&&t.push(z(T("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ie.value)),t.push(he("div",{ref:"backdrop",class:qe.value,style:Se.value,"aria-hidden":"true",onClick:R},void 0,"backdrop",e.noSwipeBackdrop!==!0&&i.value===!0,()=>Le.value)));const l=M.value===!0&&h.mini!==void 0,g=[T("div",{...x,key:""+l,class:[Te.value,x.class]},l===!0?h.mini():ie(h.default))];return e.elevated===!0&&i.value===!0&&g.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(he("aside",{ref:"content",class:Qe.value,style:ze.value},g,"contentclose",e.noSwipeClose!==!0&&c.value===!0,()=>Oe.value)),T("div",{class:"q-drawer-container"},t)}}});const ut="https://posapi-test.factura-smart.com/",ct=Ge({name:"MainLayout",setup(){const e=p(!1),h=p(0),v=p(sessionStorage.getItem("tx_nombre")),x=p(sessionStorage.getItem("tx_rol")),n=p(sessionStorage.getItem("co_rol")),m=p(sessionStorage.getItem("tx_empresa"));return{rol:x,corol:n,empresa:m,saldoactual:h,nombreusuario:v,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}},methods:{salir(){this.$q.dialog({title:"Confirmaci\xF3n",message:"\xBFEst\xE1 seguro que quieres cerrar sesi\xF3n?",ok:{label:"S\xED",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{sessionStorage.removeItem("id_usuario"),sessionStorage.removeItem("tx_nombre"),sessionStorage.removeItem("tx_empresa"),sessionStorage.removeItem("co_empresa"),sessionStorage.removeItem("tx_rol"),sessionStorage.removeItem("co_rol"),this.$router.push("/")})},usuarios(){this.$router.push("/usuarios")},empresas(){this.$router.push("/empresas")},ventas(){this.$router.push("/ventas")},cuentasporcobrar(){this.$router.push("/cuentasporcobrar")},puntodeventa(){this.$router.push("/puntodeventa")},categorias(){this.$router.push("/categorias")},productos(){this.$router.push("/productos")},configuracion(){this.$router.push("/configuracion")},async cargar(){const e=await lt.get(ut+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(h=>{Xe.create("Problemas al listar Configuracion "+h)});return console.log(e),e.data.resp}}}),dt={class:"rulusuario"},ft={class:"bienvenido"},vt={class:"text-accent text-center"},mt=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Punto de venta",-1),ht={class:"text-accent text-center"},yt=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Categorias",-1),bt={class:"text-accent text-center"},gt=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Productos",-1),pt={class:"text-accent text-center"},_t=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Configuraci\xF3n",-1),kt={class:"text-accent text-center"},wt=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Emisores",-1),xt={class:"text-accent text-center"},Ct=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Ventas",-1),qt={class:"text-accent text-center"},St=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Cuentas por cobrar",-1),$t={class:"text-accent text-center"},Bt=f("div",{class:"text-accent text-center",style:{"font-size":"10px"}},"Usuarios",-1);function zt(e,h,v,x,n,m){const k=Ze("router-view");return $(),B(at,{view:"hHh Lpr lff",container:"",style:{height:"100vh"},class:"shadow-2"},{default:u(()=>[s(st,{class:"bg-accent"},{default:u(()=>[s(nt,null,{default:u(()=>[s(ye,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer,color:"primary"},null,8,["onClick"]),s(rt,{style:{display:"grid"}},{default:u(()=>[f("span",dt,ne(e.empresa),1),f("span",ft,ne(e.nombreusuario)+' "'+ne(e.rol)+'"',1)]),_:1}),s(ye,{flat:"",dense:"",icon:"logout","aria-label":"Salir",onClick:e.salir,color:"primary"},null,8,["onClick"])]),_:1})]),_:1}),s(it,{bordered:"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":h[0]||(h[0]=C=>e.leftDrawerOpen=C),"show-if-above":"",width:120,breakpoint:600},{default:u(()=>[s(et,{style:{height:"calc(100% - 30px)","margin-top":"40px","border-right":"1px solid #ddd"}},{default:u(()=>[s(Ye,{padding:""},{default:u(()=>[z(($(),B(V,{clickable:"",onClick:e.puntodeventa},{default:u(()=>[s(D,null,{default:u(()=>[f("div",vt,[s(O,{color:"accent",name:"receipt_long",size:"40px"})]),mt]),_:1})]),_:1},8,["onClick"])),[[L]]),e.corol==="1"||e.corol==="2"?z(($(),B(V,{key:0,clickable:"",onClick:e.categorias},{default:u(()=>[s(D,null,{default:u(()=>[f("div",ht,[s(O,{color:"accent",name:"collections_bookmark",size:"40px"})]),yt]),_:1})]),_:1},8,["onClick"])),[[L]]):N("",!0),e.corol==="1"||e.corol==="2"?z(($(),B(V,{key:1,clickable:"",onClick:e.productos},{default:u(()=>[s(D,null,{default:u(()=>[f("div",bt,[s(O,{color:"accent",name:"inventory_2",size:"40px"})]),gt]),_:1})]),_:1},8,["onClick"])),[[L]]):N("",!0),e.corol==="1"||e.corol==="2"?z(($(),B(V,{key:2,clickable:"",onClick:e.configuracion},{default:u(()=>[s(D,null,{default:u(()=>[f("div",pt,[s(O,{color:"accent",name:"settings",size:"40px"})]),_t]),_:1})]),_:1},8,["onClick"])),[[L]]):N("",!0),e.corol==="1"?z(($(),B(V,{key:3,clickable:"",onClick:e.empresas},{default:u(()=>[s(D,null,{default:u(()=>[f("div",kt,[s(O,{color:"accent",name:"store",size:"40px"})]),wt]),_:1})]),_:1},8,["onClick"])),[[L]]):N("",!0),z(($(),B(V,{clickable:"",onClick:e.ventas},{default:u(()=>[s(D,null,{default:u(()=>[f("div",xt,[s(O,{color:"accent",name:"payments",size:"40px"})]),Ct]),_:1})]),_:1},8,["onClick"])),[[L]]),e.corol==="1"||e.corol==="2"?z(($(),B(V,{key:4,clickable:"",onClick:e.cuentasporcobrar},{default:u(()=>[s(D,null,{default:u(()=>[f("div",qt,[s(O,{color:"accent",name:"fact_check",size:"40px"})]),St]),_:1})]),_:1},8,["onClick"])),[[L]]):N("",!0),e.corol==="1"||e.corol==="2"?z(($(),B(V,{key:5,clickable:"",onClick:e.usuarios},{default:u(()=>[s(D,null,{default:u(()=>[f("div",$t,[s(O,{color:"accent",name:"people",size:"40px"})]),Bt]),_:1})]),_:1},8,["onClick"])),[[L]]):N("",!0)]),_:1})]),_:1}),s(tt,{class:"absolute-top",src:"img/logo-prosales-white.png",style:{margin:"5px",width:"90px"}})]),_:1},8,["modelValue"]),s(ot,null,{default:u(()=>[s(k)]),_:1})]),_:1})}var Ht=Ke(ct,[["render",zt]]);export{Ht as default};
