import{_ as U,aj as T,r,N as f,k as Q,al as P,t as s,m as t,q as a,y as d,z as _,B as u,w as p,Q as v,x as c,am as k,A as h,a3 as y,az as V,au as m}from"./index.aba143e8.js";import{Q as b,a as B}from"./QTable.36021ca2.js";import{Q as $}from"./QPage.8e94c73d.js";import{C as w}from"./ClosePopup.a7cc1708.js";import{a as C}from"./axios.7331a07d.js";import"./QList.c87abec6.js";import"./QSelect.4e25f8e6.js";import"./QItem.1d482576.js";import"./format.a0fe48fe.js";const E="https://posapi-test.factura-smart.com/",j=T({name:"IndexPage",setup(){return{modaldetalleinvoice:r(!1),tokenfacturacion:r(""),rows:r([]),cols:[{name:"rif",align:"center",label:"Rif",field:"rif"},{name:"empresa",align:"center",label:"Raz\xF3n Social",field:"empresa"},{name:"direccion",align:"center",label:"Direcci\xF3n",field:"direccion"},{name:"telefono",align:"left",label:"Tel\xE9fono",field:"telefono"},{name:"email",align:"left",label:"Email",field:"email"},{name:"token",align:"left",label:"Token",field:"token"},{name:"url",align:"left",label:"Url Integraci\xF3n",field:"url"},{name:"tasabcv",align:"left",label:"Tasa BCV",field:"tasabcv"},{name:"estatus",align:"left",label:"Estatus",field:"estatus"},{name:"accion",align:"left",label:"Accion",field:"accion"}],filterTable:r(""),idUpd:r(""),buscaritem:r(!1),detalleventa:r({}),loading:r(!1),viewtoken:r(!1),modalEdit:r(!1),pagination:{page:1,rowsPerPage:20}}},methods:{btnviewtoken(e){console.log(e),this.razonsocialtitulo=e.empresa,this.riftitulo=e.rif,this.tokenservicios=e.token,this.viewtoken=!0},openEdit(e){console.log(e),this.idUpd=e.cod,this.tasabcv=e.tasabcv,this.tokenfacturacion=e.token,this.urlfacturacion=e.url,this.empresa=e.empresa,this.rif=e.rif,this.direccion=e.direccion,this.telefono=e.telefono,this.email=e.email,this.modalEdit=!0},guardar(){const e={empresa:this.empresa||"",email:this.email||"",telefono:this.telefono||"",direccion:this.direccion||"",rif:this.rif||"",urlfacturacion:this.urlfacturacion||"",tasabcv:this.tasabcv||0,tokenfacturacion:this.tokenfacturacion||""};C.put(E+"configuracion/"+this.idUpd,e).then(async l=>{if(console.log(l.status),l.status===200){const i=l.data.resp;console.log(i),f.create(i),this.modalEdit=!1,this.listar()}}).catch(l=>{f.create("Problemas al actualizar Configuracion "+l)})},listar(){this.btndisable=!1,C.get(E+"sede").then(async e=>{const l=e.data.data;this.rows=[];for(const i in l){const n={};n.cod=l[i].id,n.rif=l[i].rif,n.empresa=l[i].empresa,n.direccion=l[i].direccion,n.email=l[i].email,n.token=l[i].tokenfacturacion,n.url=l[i].urlfacturacion,n.telefono=l[i].telefono,n.tasabcv=l[i].tasabcv,n.estatus=l[i].estatus,this.rows.push(n)}}).catch(e=>{f.create("Problemas al listar Emisores "+e)})}},mounted(){console.log("Listar emisores"),this.listar()}}),z={class:"col"},D=t("div",{class:"botones row",style:{background:"#ededed"}},[t("div",{class:"text-h6"},"M\xF3dulo de Emisores")],-1),I={class:"listarcategorias row"},N={class:"listarcategoriasconitem col"},A={class:"row justify-center"},S={style:{display:"inline"}},R={class:"q-ml-sm"},q={style:{}},F=t("div",{class:"text-h6"},"Editar Emisor",-1),M={class:"row justify-around"},G={class:"row justify-around"},H={class:"row justify-around"},L={class:"row justify-around"};function O(e,l,i,n,J,K){return Q(),P($,{class:"bg-white row"},{default:s(()=>[t("div",z,[D,t("div",I,[t("div",N,[t("div",A,[a(B,{dense:"",rows:e.rows,title:"Emisores",columns:e.cols,"row-key":"num",pagination:e.pagination,style:{width:"95%","margin-top":"20px"},loading:e.loading,filter:e.filterTable,"no-data-label":"No hay registros!"},{"top-left":s(()=>[a(d,{dense:"",debounce:"300",color:"primary",modelValue:e.filterTable,"onUpdate:modelValue":l[0]||(l[0]=o=>e.filterTable=o),placeholder:"Buscar"},{append:s(()=>[a(_,{name:"search"})]),_:1},8,["modelValue"])]),"top-right":s(()=>[t("div",S,[a(u,{"icon-right":"add_business",class:"q-ml-sm col-md-4 col-sm-3 col-xs-3",color:"secondary",label:"Crear Emisor",onClick:l[1]||(l[1]=o=>e.drawerFilters=!0)})])]),"body-cell-token":s(o=>[a(b,{props:o},{default:s(()=>[t("div",null,[a(u,{icon:"visibility",onClick:p(g=>e.btnviewtoken(o.row),["stop"]),dense:"",flat:""},null,8,["onClick"])])]),_:2},1032,["props"])]),"body-cell-accion":s(o=>[a(b,{props:o},{default:s(()=>[t("div",null,[a(u,{color:"primary",icon:"app_registration",onClick:p(g=>e.openEdit(o.row),["stop"]),dense:""},null,8,["onClick"])])]),_:2},1032,["props"])]),"body-cell-estatus":s(o=>[a(b,{props:o},{default:s(()=>[t("div",null,[a(u,{color:o.row.estatus==="1"?"secondary":"negative",icon:o.row.estatus==="1"?"toggle_on":"toggle_off",onClick:p(g=>e.abrirDetalleInvoive(o.row),["stop"]),dense:""},null,8,["color","icon","onClick"])])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","loading","filter"])])])])]),a(V,{modelValue:e.viewtoken,"onUpdate:modelValue":l[2]||(l[2]=o=>e.viewtoken=o),persistent:""},{default:s(()=>[a(v,{style:{width:"auto"}},{default:s(()=>[a(c,{class:"row items-center"},{default:s(()=>[t("span",R,"Token del Cliente Emisor "+k(e.razonsocialtitulo+" - "+e.riftitulo),1)]),_:1}),a(c,{class:"row items-center",style:{"word-break":"break-all"}},{default:s(()=>[t("div",q,k(e.tokenservicios),1)]),_:1}),a(h,{align:"right"},{default:s(()=>[y(a(u,{label:"Aceptar",color:"primary"},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(V,{modelValue:e.modalEdit,"onUpdate:modelValue":l[11]||(l[11]=o=>e.modalEdit=o),persistent:""},{default:s(()=>[a(v,{class:"col-md-6 col-sm-11 col-xs-11",style:{"margin-top":"20px"}},{default:s(()=>[a(c,{class:"row"},{default:s(()=>[F]),_:1}),a(m,{class:"row"}),a(c,null,{default:s(()=>[t("div",M,[a(d,{class:"col-md-3 col-sm-12 col-xs-12",filled:"",modelValue:e.tasabcv,"onUpdate:modelValue":l[3]||(l[3]=o=>e.tasabcv=o),label:"Tasa BCV","stack-label":"",dense:"",style:{"margin-bottom":"10px"}},null,8,["modelValue"]),a(d,{class:"col-md-8 col-sm-12 col-xs-12",filled:"",modelValue:e.urlfacturacion,"onUpdate:modelValue":l[4]||(l[4]=o=>e.urlfacturacion=o),label:"Url facturaci\xF3n","stack-label":"",dense:""},null,8,["modelValue"])])]),_:1}),a(m,{class:"row"}),a(c,null,{default:s(()=>[t("div",G,[a(d,{class:"col-md-3 col-sm-12 col-xs-12",filled:"",modelValue:e.rif,"onUpdate:modelValue":l[5]||(l[5]=o=>e.rif=o),label:"RIF","stack-label":"",dense:"",style:{"margin-bottom":"10px"}},null,8,["modelValue"]),a(d,{class:"col-md-8 col-sm-12 col-xs-12",filled:"",modelValue:e.empresa,"onUpdate:modelValue":l[6]||(l[6]=o=>e.empresa=o),label:"Raz\xF3n Social","stack-label":"",dense:""},null,8,["modelValue"])])]),_:1}),a(m,{class:"row"}),a(c,null,{default:s(()=>[t("div",H,[a(d,{class:"col-md-5 col-sm-12 col-xs-12",filled:"",modelValue:e.telefono,"onUpdate:modelValue":l[7]||(l[7]=o=>e.telefono=o),label:"Tel\xE9fono","stack-label":"",dense:"",style:{"margin-bottom":"10px"}},null,8,["modelValue"]),a(d,{class:"col-md-6 col-sm-12 col-xs-12",filled:"",modelValue:e.email,"onUpdate:modelValue":l[8]||(l[8]=o=>e.email=o),label:"Email","stack-label":"",dense:""},null,8,["modelValue"])])]),_:1}),a(m,{class:"row"}),a(c,null,{default:s(()=>[t("div",L,[a(d,{class:"col-12",filled:"",modelValue:e.direccion,"onUpdate:modelValue":l[9]||(l[9]=o=>e.direccion=o),label:"Direcci\xF3n","stack-label":"",dense:"",style:{"margin-bottom":"10px"}},null,8,["modelValue"])])]),_:1}),a(m),a(c,null,{default:s(()=>[a(d,{modelValue:e.tokenfacturacion,"onUpdate:modelValue":l[10]||(l[10]=o=>e.tokenfacturacion=o),label:"Token facturaci\xF3n",filled:"",dense:"",type:"textarea"},null,8,["modelValue"])]),_:1}),a(m),a(h,{align:"right"},{default:s(()=>[y(a(u,{label:"Cerrar",color:"negative"},null,512),[[w]]),a(u,{label:"Guardar",color:"secondary",onClick:e.guardar},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var se=U(j,[["render",O]]);export{se as default};
