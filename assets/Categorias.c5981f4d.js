import{_ as V,ak as I,r as i,N as _,k as c,am as p,t as o,m as r,q as e,B as n,z as x,l as h,aw as A,ax as B,Q as y,x as m,ay as g,y as b,A as N,a6 as v,az as S,an as f,aB as D,aD as P,E as z}from"./index.38cdac20.js";import{Q as $,C}from"./ClosePopup.69c60635.js";import{Q,a as u}from"./QItem.e2486476.js";import{Q as j}from"./QPage.2e884133.js";import{a as w}from"./axios.7331a07d.js";const k="https://posapi-test.factura-smart.com/",L=I({name:"IndexPage",setup(){return{rows:i([]),slide:i(2),categoria:i(""),descripcion:i(""),buscaritem:i(!1)}},methods:{listar(){this.btndisable=!1,w.get(k+"categoria/"+sessionStorage.getItem("co_empresa")).then(async a=>{console.log(a.data);const t=a.data.resp;this.rows=[];for(const d in t){const l={};l.cod=t[d].id,l.categoria=t[d].categoria,l.descripcion=t[d].descripcion,this.rows.push(l)}console.log(this.rows)}).catch(a=>{_.create("Problemas al listar Categorias "+a)})},crear(){if(this.categoria.length===0||this.descripcion.length===0)return;const a={categoria:this.categoria,descripcion:this.descripcion,idempresa:sessionStorage.getItem("co_empresa")};console.log(a),w.post(k+"categoria",a).then(async t=>{this.modalcrear=!1,console.log(t.data),_.create(t.data.message),this.listar()})},primeraletra(a){return a[0]},colorLetra(a){const t=a[0].charCodeAt(0);return"#"+t+"0"}},mounted(){console.log("Modo producci\xF3n"),this.listar()}}),E={class:"col"},T=r("div",{class:"botones row fondo-gris shadow-up-9"},[r("h6",{class:"p-4"},"Categor\xEDas")],-1),U={class:"botones"},q={class:"listarcategorias row"},F={key:1,class:"listarcategoriasconitem col"},H={class:"row justify-center"},M={style:{display:"flex"}},O={style:{display:"flex"}},G=r("div",{class:"text-h6"},"Crear categot\xEDa",-1),J={class:""};function K(a,t,d,l,R,W){return c(),p(j,{class:"row"},{default:o(()=>[r("div",E,[T,r("div",U,[e(n,{"no-caps":"",unelevated:"",dense:"",class:"gradient-btn","icon-right":"add_circle",onClick:t[0]||(t[0]=s=>a.buscaritem=!0),label:"Agregar categoria",style:{margin:"10px"}})]),r("div",q,[a.slide===1?(c(),p(x,{key:0,class:"carritofondo",name:"remove_shopping_cart"})):(c(),h("div",F,[r("div",H,[(c(!0),h(A,null,B(a.rows,s=>(c(),p(y,{key:s,class:"my-card tarjetaitem col-md-5 col-sm-11 col-xs-11 custom-shadow custom-border-radius"},{default:o(()=>[e(Q,{horizontal:""},{default:o(()=>[e(u,null,{default:o(()=>[e($,{class:"color-texto"},{default:o(()=>[r("b",null,f(s.categoria),1)]),_:2},1024)]),_:2},1024),e(u,{side:""},{default:o(()=>[r("div",M,[e(n,{flat:"",round:"",icon:"delete"}),e(n,{flat:"",round:"",icon:"edit"})])]),_:1})]),_:2},1024),e(Q,{horizontal:""},{default:o(()=>[e(u,{avatar:"",style:{"padding-right":"15px","align-items":"center"}},{default:o(()=>[e(D,{"text-color":"white",style:P("background: "+a.colorLetra(s.categoria))},{default:o(()=>[z(f(a.primeraletra(s.categoria)),1)]),_:2},1032,["style"])]),_:2},1024),e(u,{class:"tarjeticainside"},{default:o(()=>[r("div",O,f(s.descripcion),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])]))])]),e(S,{modelValue:a.buscaritem,"onUpdate:modelValue":t[3]||(t[3]=s=>a.buscaritem=s),position:"top"},{default:o(()=>[e(y,null,{default:o(()=>[e(m,null,{default:o(()=>[G]),_:1}),e(g),e(m,null,{default:o(()=>[r("div",J,[e(b,{filled:"",modelValue:a.categoria,"onUpdate:modelValue":t[1]||(t[1]=s=>a.categoria=s),label:"Categor\xEDa","stack-label":""},null,8,["modelValue"])])]),_:1}),e(g),e(m,null,{default:o(()=>[e(b,{modelValue:a.descripcion,"onUpdate:modelValue":t[2]||(t[2]=s=>a.descripcion=s),label:"Descripci\xF3n de categor\xEDa",filled:"",type:"textarea"},null,8,["modelValue"])]),_:1}),e(g),e(N,{align:"right"},{default:o(()=>[v(e(n,{flat:"",label:"Cancelar",color:"primary"},null,512),[[C]]),v(e(n,{label:"Aceptar",color:"secondary",onClick:a.crear},null,8,["onClick"]),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ta=V(L,[["render",K]]);export{ta as default};
