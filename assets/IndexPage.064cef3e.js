import{Q as j,a as G}from"./QSelect.8d1e30c7.js";import{c as R,a0 as K,a2 as Z,K as O,h as Q,e as $,g as J,_ as W,a9 as X,r as u,N as f,k as p,l as V,w as l,m as o,q as e,ab as i,F as g,B as h,aw as y,ax as q,ay as S,Q as P,x as _,a6 as k,y as A,z as N,C as b,ac as B,A as I,az as T,aA as tt,aB as H,aC as et,aD as L,D as ot,E as st}from"./index.fa2a0b1d.js";import{Q as M}from"./QImg.15bb00a5.js";import{Q as Y}from"./QBadge.4105f204.js";import{Q as F,C as D}from"./ClosePopup.e1702312.js";import{Q as U,a as z}from"./QItem.7ca4fd43.js";import{Q as at}from"./format.526d684b.js";import{Q as lt}from"./QScrollArea.98d1b493.js";import{Q as nt}from"./QPage.324b42a3.js";import{a as v}from"./axios.7331a07d.js";import{h as E}from"./moment.40bc58bf.js";import"./QResizeObserver.1dde407e.js";var it=R({name:"QBanner",props:{...K,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:a}){const{proxy:{$q:n}}=J(),c=Z(t,n),r=O(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(c.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),x=O(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const s=[Q("div",{class:"q-banner__avatar col-auto row items-center self-start"},$(a.avatar)),Q("div",{class:"q-banner__content col text-body2"},$(a.default))],m=$(a.action);return m!==void 0&&s.push(Q("div",{class:x.value},m)),Q("div",{class:r.value+(t.inlineActions===!1&&m!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}}),dt=R({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:a}){const n=O(()=>{const c=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>t[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${c.length!==0?" "+c:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>Q("div",{class:n.value},$(a.default))}});const w="https://bckpos.factura-smart.com/",rt=X({name:"IndexPage",setup(){return{slide:u(2),buscadoproducto:u(!0),btnDisableAnular:u(!0),numerointernoanular:u(""),modalanular:u(!1),empresa:u(""),direccion:u(""),rif:u(""),telefono:u(""),email:u(""),igtf:u(0),numerointerno:u(""),comentario:u(""),idventa:u(""),textitem:u(""),subtotal:u(0),impuesto:u(0),descuento:u(0),total:u(0),subtotalusd:u(0),impuestousd:u(0),descuentousd:u(0),totalusd:u(0),nombrecliente:u(""),correocliente:u(""),telefonocliente:u(""),direccioncliente:u(""),idclienteventa:u(""),nombreclienteventa:u(""),documentoabrev:u(""),documentoclientesolo:u(""),documentoclienteventa:u(""),fechahoy:u(E().format("DD/MM/YYYY")),fechaholds:u(""),idhold:u(""),iditemhold:u(""),iditemholdUpd:u(""),buscaritem:u(!1),modalrealizarventa:u(!1),noencontrado:u(!1),clientebuscado:u(!1),facturabuscado:u(!1),encontrado:u(!1),modalcliente:u(!1),modalcomentario:u(!1),dsbBtnCrearCliente:u(!0),modeldocumento:u(null),modaldeleteholds:u(!1),modaldetalleinvoice:u(!1),optionsdocumento:[],rowsproductos:[],rowsproductosfiltre:[],holds:[],ventas:[],ventasanular:[],detalleventa:{},detalleventaanular:{},tasausd:u(0),idusuario:u(sessionStorage.getItem("id_usuario"))}},methods:{imprimir(){window.frames.print_frame.document.body.innerHTML=document.getElementById("areaImprimir").innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print(),this.modaldetalleinvoice=!1},fechaDetalle(t){return E(t).format("DD/MM/YYYY HH:mm:ss")},escribirComentario(t){let a="<p><ul>";return t.split("//").forEach(c=>{a=a+c+"</br>"}),a+"</ul></p>"},abrirComentario(t){this.comentario=t.comentario,this.iditemholdUpd=t.iditemhold,this.modalcomentario=!0},abrirBuscarFactura(){this.detalleventaanular={},this.numerointernoanular="",this.idUpd="",this.facturabuscado=!1,this.btnDisableAnular=!0,this.modalanular=!0},async updprecioitemholds(t){const a={iditemhold:t.iditemhold,total:t.total,precio:t.precio};t.precio>0&&await v.post(w+"ventas/updprecioitemholds",a).then(async n=>{console.log(n)})},async updComentarioItemHolds(){const t={iditemhold:this.iditemholdUpd,comentario:this.comentario};await v.post(w+"ventas/updcomentarioitemholds",t).then(async a=>{console.log(a),this.modalcomentario=!1,this.comentario="",this.listarHolds(),f.create({message:"Comentario de Item ACTUALIZADO con \xE9xito",type:"positive"})})},async anularDocumento(){const t={idventa:this.idUpd};await v.post(w+"ventas/anularventa",t).then(async a=>{console.log(a),this.modalanular=!1,f.create({message:"Documento ANULADO con \xE9xito",type:"positive"})})},async buscarFactura(){this.detalleventaanular={},this.ventasanular=[],this.facturabuscado=!1,this.idtipofacturaanular=1,await v.get(w+"ventas/getventanumerointerno/"+sessionStorage.getItem("co_empresa")+"/"+this.idtipofacturaanular+"/"+this.numerointernoanular).then(async t=>{console.log(this.numerointernoanular),console.log(t),t.status===200?(this.detalleventaanular=t.data.resp,this.idUpd=this.detalleventaanular.id,this.ventasanular=t.data.respdetalles,this.facturabuscado=!0,this.btnDisableAnular=this.detalleventaanular.estatus==="2"||!1):(f.create({message:"Documento NO ENCONTRADO",type:"info"}),this.facturabuscado=!1,this.btnDisableAnular=!0,this.idUpd="")})},async abrirDetalleInvoive(){const t=this;this.detalleventa={},await v.get(w+"ventas/getventa/"+this.idventa).then(async a=>{this.detalleventa=a.data.resp,await v.get(w+"ventas/getitemsventas/"+this.idventa).then(async n=>{t.ventas=[],console.log(n);const c=n.data.resp;for(const r in c){const x=c[r];t.ventas.push(x)}t.deleteHolds(2),t.modaldetalleinvoice=!0}).catch(n=>{f.create({message:"Problemas al listar items Ventas "+n,type:"negative"})}),console.log(this.detalleventa)})},async actualizarCantidad(t,a){const n=document.getElementById("cantidad"+t.idproducto);a===1?(n.value=Number(n.value)+1,this.subtotal=Number(this.subtotal)+t.precio,this.impuesto=Number(this.impuesto)+t.precio*t.tasa/100,this.total=Number(this.total)+(Number(t.precio)+t.precio*t.tasa/100)):(n.value>1&&(this.subtotal=Number(this.subtotal)-t.precio,this.impuesto=Number(this.impuesto)-t.precio*t.tasa/100,this.total=Number(this.total)-(Number(t.precio)+t.precio*t.tasa/100)),n.value=n.value<=1?1:Number(n.value)-1),t.total=(Number(t.precio)+t.precio*t.tasa/100)*n.value,console.log("this.tasausd"),console.log(this.tasausd),this.subtotalusd=this.subtotal/this.tasausd,this.impuestousd=this.impuesto/this.tasausd,this.totalusd=this.total/this.tasausd;const c=await this.updItemHolds(t.iditemhold,n.value,n.value*(Number(t.precio)+t.precio*t.tasa/100),t.idproducto,a,t.intipoproducto);c?await this.calcularMonto(t):(console.log("resp input false"),console.log(c),n.value=n.value<=1?1:Number(n.value)-1)},calcularMonto(t){const a=document.getElementById("cantidad"+t.idproducto),n=document.getElementById("precioventa"+t.idproducto).value;if(console.log("item:",t),a&&n>0){this.subtotal=0,this.impuesto=0;const c=a.value>0?a.value:1;this.holds.map(r=>(console.log("product:",r),r.iditemhold===t.iditemhold&&(r.monto=(n*r.tasa/100+Number(n))*c,r.total=r.monto,r.precio=Number(n),t.monto=r.monto,r.cantidad=c),console.log("item.cod:",t.cod),console.log("product.cod:",r.cod),console.log("product.precio:",r.precio),this.subtotal=this.subtotal+r.precio*r.cantidad,this.impuesto=this.impuesto+r.precio*r.tasa/100*r.cantidad,this.total=this.impuesto+this.subtotal,r)),document.getElementById("monto"+t.idproducto).innerHTML="Bs."+t.monto.toFixed(2)}},async updItemHolds(t,a,n,c,r,x){const s={idproducto:c,iditemhold:t,cantidad:a,accion:r,total:n,intipoproducto:x},m=await v.post(w+"ventas/upditemholds",s);return console.log(m.status),m.status===202?(this.$q.dialog({title:"Ooops! "+m.data.resp,message:" Contacte al administrador del sistema.",html:!0,ok:{color:"primary",label:"Aceptar"}}),!1):!0},openDeleteHolds(){this.modaldeleteholds=!0},deleteHolds(t){const a={idhold:this.idhold,accion:t};v.post(w+"ventas/deleteholds",a).then(async n=>{this.modaldeleteholds=!1,this.documentoclienteventa="",this.listarHolds()}).catch(n=>{f.create({message:"Problemas al ELIMINAR Hold de venta "+n,type:"negative"})})},deleteItemHolds(t){console.log(t);const a={iditemhold:t.iditemhold,idproducto:t.idproducto,intipoproducto:t.intipoproducto,cantidad:t.cantidad};this.$q.dialog({title:"Eliminar Item",message:"\xBFDesea eliminar este item?",ok:{label:"Aceptar",color:"primary",flat:!1,outline:!1,unelevated:!0,icon:"check",noCaps:!0},cancel:{label:"No",color:"primary",icon:"close",flat:!1,outline:!0,unelevated:!0,noCaps:!0},persistent:!0}).onOk(()=>{v.post(w+"ventas/deleteitemholds",a).then(async n=>{console.log(n.data.success),this.nombrecliente="",this.listarHolds()}).catch(n=>{f.create({message:"Problemas al ELIMINAR itemhold de venta "+n,type:"negative"})})})},async additemholds(t){console.log(t);const a=this.descuento;let n=!1;const c=this.holds.findIndex(r=>r.idproducto===t.idproducto);if(c===-1){const r=t.precio*t.tasa/100+t.precio,x={idhold:this.idhold,idproducto:t.idproducto,precio:t.precio,cantidad:1,tasa:t.tasa,total:r,idunidad:t.idunidad,intipoproducto:t.intipoproducto,descuento:a};await v.post(w+"ventas/setitemholds",x).then(async s=>{const m=s.data.resp;if(s.data.success){const C={};C.idhold=this.idhold,C.iditemhold=m.iditemhold,C.idproducto=t.idproducto,C.precio=t.precio,C.precioreal=t.precio,C.cantidad=1,C.tasa=t.tasa,C.total=r,C.producto=t.producto,C.categoria=t.categoria,C.descripcion=t.descripcion,C.intipoproducto=t.intipoproducto,C.descuento=a,this.subtotal=(Number(this.subtotal)+C.precio*C.cantidad).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+r).toFixed(2),this.holds.push(C),n=!0}else this.buscaritem=!1,this.slide=2,f.create({message:`<span style="text-transform: uppercase;">${s.data.resp}</span>`})}).catch(s=>{f.create({message:"Problemas al crear itemhold de venta "+s,type:"negative"})})}else{this.holds[c].cantidad=Number(this.holds[c].cantidad)+1;const r=t.precio*t.tasa/100+t.precio;document.getElementById("monto"+t.idproducto).innerHTML="Bs."+(r*this.holds[c].cantidad).toFixed(2),this.subtotal=(Number(this.subtotal)+t.precio).toFixed(2),this.impuesto=(Number(this.impuesto)+t.precio*t.tasa/100).toFixed(2),this.total=(Number(this.total)+r).toFixed(2),n=await this.updItemHolds(this.holds[c].iditemhold,this.holds[c].cantidad,r*this.holds[c].cantidad,t.idproducto,1)}n&&(this.subtotalusd=this.subtotal/this.tasausd,this.impuestousd=this.impuesto/this.tasausd,this.totalusd=this.total/this.tasausd,this.buscaritem=!1,this.slide=2)},listarProductos(){v.get(w+"productos/"+sessionStorage.getItem("co_empresa")+"/"+0).then(async a=>{const n=a.data.resp;this.rowsproductos=[];for(const c in n){const r={};r.idproducto=n[c].id,r.sku=n[c].sku,r.producto=n[c].producto,r.id=n[c].id,r.categoria=n[c].categoria,r.descripcion=n[c].descripcion,r.unidad=n[c].unidad,r.idunidad=n[c].idunidad,r.impuesto=n[c].impuesto,r.precio=n[c].precio,r.inventario=Number(n[c].inventario1),r.costo=n[c].costo,r.tasa=n[c].tasa,r.intipoproducto=n[c].intipoproducto,this.rowsproductos.push(r)}this.rowsproductosfiltre=this.rowsproductos}).catch(a=>{f.create({message:"Problemas al listar Categor\xEDas"+a,type:"negative"})})},abrirRealizarVenta(){console.log(this.holds),this.modalrealizarventa=!0},realizarVenta(){const t=this,a={idhold:this.idhold,tasausd:this.tasausd,totalusd:this.totalusd,idempresa:sessionStorage.getItem("co_empresa")};v.post(w+"ventas/setventa",a).then(async n=>{const c=n.data;console.log(c.success),c.success?(t.idventa=c.resp.idventa,t.abrirDetalleInvoive()):f.create({message:c.resp.message,type:"negative"})}).catch(n=>{f.create({message:"Problemas al REALIZAR venta "+n,type:"negative"})}),this.modalrealizarventa=!1},abrirBuscarItem(){this.nombrecliente.length===0?(console.log("Debe buscar cliente"),this.abrirBuscarCliente()):(this.buscaritem=!0,this.textitem="")},abrirBuscarCliente(){this.modalcliente=!0,this.documento="",console.log(this.optionsdocumento[0]),this.modeldocumento=this.optionsdocumento[0],this.limpiarCliente()},limpiarCliente(){this.nombrecliente="",this.telefonocliente="",this.correocliente="",this.direccioncliente="",this.noencontrado=!1,this.encontrado=!1,this.clientebuscado=!1,this.dsbBtnCrearCliente=!0},listarTiposDocumentos(){v.get(w+"tipodocumento").then(async t=>{const a=t.data.data;this.optionsdocumento=[];for(const n in a){const c={};c.cod=a[n].id,c.tipodocumento=a[n].tipodocumento,c.abrev=a[n].abrev,this.optionsdocumento.push(c)}}).catch(t=>{f.create({message:"Problemas al listar Tipos"+t,type:"negative"})})},buscarCliente(){if(this.limpiarCliente(),!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento};v.post(w+"clientes/buscar",t).then(async a=>{const n=a.data.resp;n.length>0?(this.idcliente=n[0].id,this.nombrecliente=n[0].nombre,this.telefonocliente=n[0].telefono,this.correocliente=n[0].correo,this.direccioncliente=n[0].direccion,this.noencontrado=!1,this.encontrado=!0):(this.noencontrado=!0,this.encontrado=!1),this.clientebuscado=!0,this.dsbBtnCrearCliente=!1}).catch(a=>{f.create({message:"Problemas al buscar cliente"+a,type:"negative"})})},crearCliente(){if(!this.modeldocumento){f.create({message:"Debe seleccionar TIPO DOCUMENTO",type:"info"});return}if(this.documento.length===0){f.create({message:"Debe agregar DOCUMENTO",type:"info"});return}if(this.nombrecliente.length===0){f.create({message:"Debe agregar NOMBRE",type:"info"});return}if(this.encontrado)this.modalcliente=!1,this.idclienteventa=this.idcliente,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(this.idcliente,this.idusuario);else{const t={idtipodocumento:this.modeldocumento.cod,documento:this.documento,nombre:this.nombrecliente,telefono:this.telefonocliente,correo:this.correocliente,direccion:this.direccioncliente};v.post(w+"clientes/crear",t).then(async a=>{const n=a.data.resp;n&&(this.modalcliente=!1,this.idclienteventa=n,this.nombreclienteventa=this.nombrecliente,this.documentoclienteventa=this.modeldocumento.abrev+" "+this.documento,this.crearHolds(n,this.idusuario))}).catch(a=>{f.create({message:"Problemas al crear cliente"+a,type:"negative"})})}},crearHolds(t,a){const c={idcliente:t,idusuario:a,idtipofactura:1};v.post(w+"ventas/setholds",c).then(async r=>{const x=r.data.resp;x&&(this.idhold=x.idhold,this.fechaholds=E(x.fecha).format("DD/MM/YYYY"))}).catch(r=>{f.create({message:"Problemas al crear hold de venta"+r,type:"negative"})})},async listarHolds(){this.nombrecliente="",await v.get(w+"ventas/gethols/"+sessionStorage.getItem("id_usuario")).then(async t=>{const a=t.data.resp.length>0?t.data.resp[0]:null;console.log(a),this.holds=[],this.slide=1,this.subtotal=0,this.impuesto=0,this.total=0,a&&(this.idcliente=a.idcliente,this.nombrecliente=a.nombre,this.documentoabrev=a.abrev,this.documentoclienteventa=a.abrev+" "+a.documento,this.documentoclientesolo=a.documento,this.idhold=a.idhold,this.fechaholds=E(a.fecha).format("DD/MM/YYYY"),await v.get(w+"ventas/getitemshols/"+this.idhold).then(async n=>{this.holds=n.data.resp;for(const c in this.holds){const r=this.holds[c],x=r.precio*r.cantidad,s=x*r.tasa/100,m=s+x;this.subtotal=(Number(this.subtotal)+x).toFixed(2),this.impuesto=(Number(this.impuesto)+s).toFixed(2),this.total=(Number(this.total)+m).toFixed(2)}this.slide=this.holds.length>0?2:1}).catch(n=>{f.create({message:"Problemas al listar items Holds"+n,type:"negative"})})),this.subtotalusd=this.subtotal/this.tasa,this.impuestousd=this.impuesto/this.tasa,this.totalusd=this.total/this.tasausd}).catch(t=>{f.create({message:"Problemas al listar Holds"+t,type:"negative"})})},primeraletra(t){return t[0]},colorLetra(t){const a=t[0].charCodeAt(0);return"#"+a+"0"},async cargar(){const t=await v.get(w+"configuracion/"+sessionStorage.getItem("co_empresa")).catch(a=>{f.create({message:"Problemas al listar Configuraci\xF3n"+a,type:"negative"})});return console.log(t),t.data.resp}},watch:{textitem(t){console.log("textitem"),console.log(t),this.buscadoproducto=!1,t.length>0?this.rowsproductosfiltre=this.rowsproductos.filter(a=>!!(a.producto.toUpperCase().includes(t.toUpperCase())||a.sku&&a.sku.includes(t))):this.rowsproductosfiltre=this.rowsproductos,this.buscadoproducto=!0,this.rowsproductosfiltre=this.rowsproductosfiltre.slice().reverse(),console.log(this.rowsproductosfiltre)}},async mounted(){const t=await this.cargar();this.tasausd=t.tasabcv,this.empresa=t.empresa,this.rif=t.rif,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,console.log("this.tasausd"),console.log(this.tasausd),await this.listarTiposDocumentos(),await this.listarHolds(),await this.listarProductos();const a=this;document.addEventListener("keydown",function(n){console.log(n.key),n.key==="F2"&&(n.preventDefault(),a.abrirBuscarItem()),n.key==="F3"&&(n.preventDefault(),a.abrirBuscarCliente()),n.key==="F4"&&(a.dsbBtnCrearCliente||(n.preventDefault(),a.crearCliente())),n.key==="F6"&&(a.holds.length<=0?f.create({message:"No tiene venta",type:"info"}):(n.preventDefault(),a.abrirRealizarVenta()))})}}),d=t=>(ot("data-v-6d44bcfa"),t=t(),st(),t),ct={class:"row"},ut={class:"col-12 col-md-4 bd-left bd-top"},ht={class:"row"},pt={class:"col-6 col-md-12"},mt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Cliente:",-1)),ft={class:"negrita ellipsis",style:{"margin-bottom":"10px"}},_t={class:"col-6 col-md-12"},gt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Documento:",-1)),yt={class:"negrita ellipsis"},bt={class:"col-5 col-md-4 bd-left bd-top"},vt={class:"row"},wt=d(()=>e("div",{class:"col-3 col-md-2 logo-bcv"},[e("img",{src:"logo_bcv.png"})],-1)),xt={class:"col-9 col-md-10"},Ct=d(()=>e("div",{class:"texto-pequeno ellipsis"},"\u{1F5D3}\uFE0F Fecha de venta:",-1)),kt={class:"negrita",style:{"font-size":"12px"}},Bt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Tasa del d\xEDa (BCV):",-1)),It={class:"col-7 col-md-4 bd-left bd-top"},Dt={class:"row"},Nt=d(()=>e("div",{class:"col-1"},[e("div",{class:"texto-pequeno ellipsis"},"\u{1F4B5} "),e("div",{class:"texto-pequeno ellipsis"},"\u{1F3DB}\uFE0F "),e("div",{class:"texto-pequeno ellipsis"},"\u{1F3F7}\uFE0F ")],-1)),Vt={class:"col"},qt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Subtotal: ",-1)),Ft=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Impuesto: ",-1)),Pt=d(()=>e("div",{class:"texto-pequeno ellipsis"},"Descuento: ",-1)),At={class:"col"},zt={class:"negrita ellipsis"},St={class:"negrita ellipsis"},Tt={class:"negrita ellipsis"},Ut={class:"q-px-md q-py-sm q-gutter-sm row items-center justify-between"},Qt={class:"col-12 col-md-8 text-center"},Ht={unelevated:"",class:"row"},Et={class:"col-12 col-md-3 text-center q-mt-md"},$t={class:"row"},jt={key:1,class:"listarcategoriasconitem col"},Mt={class:"row justify-center"},Ot={class:"col no-wrap"},Lt={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Yt={class:"q-mb-none"},Rt={class:"row no-wrap"},Gt={class:"overlay-content",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white",background:"rgba(0, 0, 0, 0.5)"}},Kt={class:"col-8"},Zt=["id","value","onInput"],Jt=["id"],Wt=d(()=>e("span",{style:{"font-size":"12px","margin-right":"10px"}},"Cantidad",-1)),Xt=["id","value","onInput"],te=d(()=>e("div",{class:"text-center"},[e("h6",null,"Agregar Item")],-1)),ee={class:"q-ml-sm"},oe={class:"row q-mt-sm"},se={class:"col-4 text-left"},ae=d(()=>e("span",{class:"color-texto texto-pequeno"},"Descripci\xF3n: ",-1)),le={class:"tarjeticainside mr-2 texto-pequeno"},ne={class:"col-4 text-left"},ie=d(()=>e("span",{class:"color-texto texto-pequeno"},"Unidad: ",-1)),de={class:"col-4 text-left"},re=d(()=>e("span",{class:"color-texto texto-pequeno"},"Impuesto: ",-1)),ce=d(()=>e("span",{class:"color-texto texto-pequeno"},"Precio: ",-1)),ue=d(()=>e("div",{class:"text-center"},[e("h6",null,"Agregar cliente")],-1)),he={class:""},pe={class:"row"},me={key:0,class:"noencontrado text-center"},fe=d(()=>e("p",{class:"text-noencontrado"},"Lo sentimos, no existe un cliente con ese documento",-1)),_e=[fe],ge={key:1,class:"encontrado text-center"},ye=d(()=>e("p",{class:"text-encontrado"},"Cliente encontrado",-1)),be=[ye],ve=d(()=>e("div",{class:"text-center"},[e("h6",null,"Eliminar")],-1)),we=d(()=>e("div",{class:"color-texto",style:{"margin-left":"10px"}}," \xBFDesea eliminar esta venta?",-1)),xe=d(()=>e("div",{class:"text-center"},[e("h6",null,"Realizar venta")],-1)),Ce=d(()=>e("div",{class:"text-p color-texto",style:{"margin-left":"10px"}}," \xBFDesea realizar esta venta?",-1)),ke={class:"color-texto",style:{width:"100%"}},Be=d(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),Ie={style:{"font-weight":"bold"}},De={style:{"font-weight":"bold"}},Ne=d(()=>e("td",null,"Fecha:",-1)),Ve={style:{"font-weight":"bold"}},qe={class:"color-texto",style:{width:"100%"}},Fe=d(()=>e("tr",{style:{"font-weight":"bold"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant"),e("td",{class:"rayafactura rayaarriba"},"% Imp"),e("td",{class:"rayafactura rayaarriba"},"Total")],-1)),Pe={style:{width:"150px"}},Ae={style:{"text-align":"right"}},ze={style:{"text-align":"center"}},Se={style:{"text-align":"center"}},Te={style:{"text-align":"right"}},Ue={key:0},Qe={style:{"font-style":"italic","font-size":"10px"}},He={key:0},Ee=d(()=>e("td",null,null,-1)),$e=d(()=>e("td",null,null,-1)),je=d(()=>e("td",null,null,-1)),Me=d(()=>e("td",null,null,-1)),Oe=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),Le={class:"color-texto",style:{width:"100%"}},Ye={class:"letratotalesfactura"},Re=d(()=>e("td",{style:{width:"50%"}},null,-1)),Ge=d(()=>e("td",null,"Subtotal Bs.:",-1)),Ke={style:{"text-align":"right"}},Ze={class:"letratotalesfactura"},Je=d(()=>e("td",null,null,-1)),We=d(()=>e("td",null,"Impuestos Bs.:",-1)),Xe={style:{"text-align":"right"}},to={class:"letratotalesfactura"},eo=d(()=>e("td",null,null,-1)),oo=d(()=>e("td",null,"Descuentos Bs.:",-1)),so={style:{"text-align":"right"}},ao={class:"letratotalesfactura"},lo=d(()=>e("td",null,null,-1)),no=d(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),io={class:"rayafactura",style:{"text-align":"right"}},ro={class:"letratotalesfactura",style:{"font-weight":"bold"}},co=d(()=>e("td",null,null,-1)),uo=d(()=>e("td",null,"Total Bs.:",-1)),ho={style:{"text-align":"right"}},po={class:"letratotalesfactura",style:{"font-weight":"bold"}},mo=d(()=>e("td",null,null,-1)),fo=d(()=>e("td",null,"Total $:",-1)),_o={style:{"text-align":"right"}},go={id:"areaImprimir",style:{width:"100%"}},yo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},bo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},vo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},wo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},xo={class:"text-center letratotalesfactura",style:{"line-height":"10px"}},Co={style:{display:"flex","align-items":"left",width:"100%"}},ko={class:"numero",style:{"margin-left":"10px"}},Bo={class:"numero",style:{"margin-left":"10px"}},Io={style:{display:"flex","align-items":"center","font-size":"11px"}},Do=d(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),No={class:"control",style:{"margin-left":"10px"}},Vo={style:{width:"100%"}},qo={class:"letratotalesfactura",style:{"line-height":"10px"}},Fo=d(()=>e("td",{style:{width:"40%"}},"Raz\xF3n social:",-1)),Po={style:{"font-weight":"bold"}},Ao={class:"letratotalesfactura",style:{"line-height":"10px"}},zo={style:{"font-weight":"bold"}},So={class:"letratotalesfactura",style:{"line-height":"10px"}},To=d(()=>e("td",null,"Fecha:",-1)),Uo={style:{"font-weight":"bold"}},Qo={class:"letratotalesfactura",style:{"line-height":"10px"}},Ho=d(()=>e("td",null,"Cajero:",-1)),Eo={style:{"font-weight":"bold"}},$o={style:{width:"100%"}},jo=d(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"% Imp"),e("td",{class:"rayafactura rayaarriba",style:{"text-align":"right"}},"Total")],-1)),Mo={style:{"font-size":"11px"}},Oo={style:{width:"130px"}},Lo={style:{"text-align":"right"}},Yo={style:{"text-align":"center"}},Ro={style:{"text-align":"center"}},Go={style:{"text-align":"right"}},Ko={key:0,style:{"line-height":"10px"}},Zo={style:{"font-style":"italic","font-size":"9px"}},Jo={key:0},Wo=d(()=>e("td",null,null,-1)),Xo=d(()=>e("td",null,null,-1)),ts=d(()=>e("td",null,null,-1)),es=d(()=>e("td",null,null,-1)),os=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),ss={style:{width:"100%"}},as={class:"letratotalesfactura",style:{"line-height":"10px"}},ls=d(()=>e("td",{style:{width:"40%"}},null,-1)),ns=d(()=>e("td",null,"Subtotal Bs.:",-1)),is={style:{"text-align":"right"}},ds={class:"letratotalesfactura",style:{"line-height":"10px"}},rs=d(()=>e("td",null,null,-1)),cs=d(()=>e("td",null,"Impuestos Bs.:",-1)),us={style:{"text-align":"right"}},hs={class:"letratotalesfactura",style:{"line-height":"10px"}},ps=d(()=>e("td",null,null,-1)),ms=d(()=>e("td",null,"Descuentos Bs.:",-1)),fs={style:{"text-align":"right"}},_s={class:"letratotalesfactura",style:{"line-height":"10px"}},gs=d(()=>e("td",null,null,-1)),ys=d(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),bs={class:"rayafactura",style:{"text-align":"right"}},vs={class:"letratotalesfactura",style:{"font-weight":"bold"}},ws=d(()=>e("td",null,null,-1)),xs=d(()=>e("td",null,"Total Bs.:",-1)),Cs={style:{"text-align":"right"}},ks={class:"letratotalesfactura",style:{"font-weight":"bold"}},Bs=d(()=>e("td",null,null,-1)),Is=d(()=>e("td",null,"Total $:",-1)),Ds={style:{"text-align":"right"}},Ns=d(()=>e("iframe",{name:"print_frame",width:"0",height:"0",frameborder:"0",src:"about:blank"},null,-1)),Vs=d(()=>e("div",{class:"text-center"},[e("h6",null,"Anular documento")],-1)),qs=d(()=>e("div",{style:{"margin-left":"10px"}}," Buscar n\xFAmero interno",-1)),Fs={class:"row"},Ps={style:{display:"flex","align-items":"left",width:"100%"}},As={class:"numero",style:{"margin-left":"10px"}},zs={class:"numero",style:{"margin-left":"10px"}},Ss={style:{display:"flex","align-items":"center"}},Ts=d(()=>e("div",{class:"control",style:{"margin-left":"10px"}}," N\xB0 de control:",-1)),Us={class:"control",style:{"margin-left":"10px"}},Qs={style:{width:"100%"}},Hs={class:"letratotalesfactura"},Es=d(()=>e("td",{style:{width:"30%"}},"Raz\xF3n social:",-1)),$s={style:{"font-weight":"bold"}},js={class:"letratotalesfactura"},Ms={style:{"font-weight":"bold"}},Os={class:"letratotalesfactura"},Ls=d(()=>e("td",null,"Fecha:",-1)),Ys={style:{"font-weight":"bold"}},Rs={class:"letratotalesfactura"},Gs=d(()=>e("td",null,"Cajero:",-1)),Ks={style:{"font-weight":"bold"}},Zs={style:{width:"100%"}},Js=d(()=>e("tr",{style:{"font-weight":"bold","font-size":"11px"}},[e("td",{class:"rayafactura rayaarriba"},"Producto"),e("td",{class:"rayafactura rayaarriba"},"Precio"),e("td",{class:"rayafactura rayaarriba"},"Cant."),e("td",{class:"rayafactura rayaarriba"},"Imp %"),e("td",{class:"rayafactura rayaarriba"},"Total")],-1)),Ws={style:{width:"140px","font-style":"italic"}},Xs={style:{"text-align":"right"}},ta=d(()=>e("tr",null,[e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"}),e("td",{class:"rayafactura"})],-1)),ea={style:{width:"100%"}},oa={class:"letratotalesfactura"},sa=d(()=>e("td",{style:{width:"40%"}},null,-1)),aa=d(()=>e("td",null,"Subtotal Bs.:",-1)),la={style:{"text-align":"right"}},na={class:"letratotalesfactura"},ia=d(()=>e("td",null,null,-1)),da=d(()=>e("td",null,"Impuestos Bs.:",-1)),ra={style:{"text-align":"right"}},ca={class:"letratotalesfactura"},ua=d(()=>e("td",null,null,-1)),ha=d(()=>e("td",null,"Descuentos Bs.:",-1)),pa={style:{"text-align":"right"}},ma={class:"letratotalesfactura"},fa=d(()=>e("td",null,null,-1)),_a=d(()=>e("td",{class:"rayafactura"},"IGTF 3% Bs.:",-1)),ga={class:"rayafactura",style:{"text-align":"right"}},ya={class:"letratotalesfactura",style:{"font-weight":"bold"}},ba=d(()=>e("td",null,null,-1)),va=d(()=>e("td",null,"Total Bs.:",-1)),wa={style:{"text-align":"right"}},xa={class:"letratotalesfactura",style:{"font-weight":"bold"}},Ca=d(()=>e("td",null,null,-1)),ka=d(()=>e("td",null,"Total $:",-1)),Ba={style:{"text-align":"right"}},Ia=d(()=>e("div",{class:"text-center"},[e("h6",null,"Editar comentario")],-1));function Da(t,a,n,c,r,x){return p(),V(nt,null,{default:l(()=>[o(it,{class:"fondo-gris shadow-up-9"},{default:l(()=>[e("div",ct,[e("div",ut,[e("div",ht,[e("div",pt,[mt,e("div",ft,i(t.nombrecliente.length>0?t.nombrecliente:"S/INF"),1)]),e("div",_t,[gt,e("div",yt,i(t.documentoclienteventa),1)])])]),e("div",bt,[e("div",vt,[wt,e("div",xt,[Ct,e("div",kt,i(t.nombrecliente.length>0?t.fechaholds:t.fechahoy),1),Bt,o(j,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:l(()=>[g("\u{1F1FB}\u{1F1EA} Bs."+i(parseFloat(t.tasausd).toFixed(2)),1)]),_:1})])])]),e("div",It,[e("div",Dt,[Nt,e("div",Vt,[qt,Ft,Pt,o(j,{dense:"",color:"green-2","text-color":"green-9",class:"negrita ellipsis"},{default:l(()=>[g("$ "+i(t.totalusd.toFixed(2)),1)]),_:1})]),e("div",At,[e("div",zt,"Bs. "+i(Number(t.subtotal).toFixed(2)),1),e("div",St,"Bs. "+i(Number(t.impuesto).toFixed(2)),1),e("div",Tt,"Bs. "+i(Number(t.descuento).toFixed(2)),1),o(j,{dense:"",class:"color-degradado-vnz negrita ellipsis text-degradado color-texto"},{default:l(()=>[g("Bs. "+i(Number(t.total).toFixed(2)),1)]),_:1})])])])])]),_:1}),e("div",Ut,[e("div",Qt,[e("div",Ht,[o(h,{class:"col-6 col-md-3","no-caps":"",unelevated:"",color:"accent",icon:"add",onClick:t.abrirBuscarItem,label:"Productos (F2)"},null,8,["onClick"]),o(h,{class:"col-6 col-md-3",outline:"","no-caps":"",unelevated:"",color:"accent","icon-right":"person",onClick:t.abrirBuscarCliente,label:"Cliente (F3)"},null,8,["onClick"]),o(h,{outline:"",unelevated:"","no-caps":"",color:"accent",icon:"cancel_presentation",onClick:t.abrirBuscarFactura,label:"Anular documento",class:"boton-banner col-6 col-md-3"},null,8,["onClick"]),o(h,{outline:"",unelevated:"","no-caps":"",color:"accent","icon-right":"settings_backup_restore",onClick:t.abrirBuscarFactura,label:"Devoluciones",class:"boton-banner col-6 col-md-3",disable:!0},null,8,["onClick"])])]),e("div",Et,[o(dt,{unelevated:"",style:{display:"flex","justify-content":"center"}},{default:l(()=>[o(h,{outline:"",unelevated:"","no-caps":"",color:"primary","icon-right":"close",onClick:t.openDeleteHolds,label:"Cancelar",disable:t.holds.length<=0},null,8,["onClick","disable"]),o(h,{"no-caps":"",unelevated:"",class:"gradient-btn","icon-right":"point_of_sale",onClick:t.abrirRealizarVenta,label:"Realizar venta (F6)",disable:t.holds.length<=0},null,8,["onClick","disable"])]),_:1})])]),e("div",$t,[t.slide===1?(p(),V(M,{key:0,src:"img/sin-productos.png",style:{width:"333px",height:"auto",display:"block",margin:"auto"},fit:"contain"})):(p(),y("div",jt,[e("div",Mt,[(p(!0),y(q,null,S(t.holds,s=>(p(),V(P,{class:"my-card custom-shadow custom-border-radius col-md-5 col-sm-11 col-xs-11",bordered:"",key:s,style:{margin:"10px"}},{default:l(()=>[e("div",Ot,[o(_,{class:"q-pa-sm"},{default:l(()=>[e("div",Lt,[e("h6",Yt,i(s.producto),1),o(h,{round:"",unelevated:"",color:"red-1","text-color":"red-10",icon:"delete",onClick:m=>t.deleteItemHolds(s),style:{margin:"0"}},null,8,["onClick"])])]),_:2},1024),o(b),e("div",Rt,[o(M,{class:"borde-cust-up col-4",src:"img/no-photo-prod.avif"},{default:l(()=>[e("div",Gt,[o(H,{"text-color":"white",style:L("background: "+t.colorLetra(s.producto)),size:"40px"},{default:l(()=>[g(i(t.primeraletra(s.producto)),1)]),_:2},1032,["style"]),e("div",null,[e("b",null,i(s.categoria),1)]),o(Y,{color:s.intipoproducto==="1"?"blue-1":s.intipoproducto==="2"?"orange-1":"purple-1","text-color":s.intipoproducto==="1"?"blue-10":s.intipoproducto==="2"?"orange-10":"purple-10",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:l(()=>[g(i(s.intipoproducto==="1"?"Simple":s.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color","text-color"])])]),_:2},1024),e("div",Kt,[o(b),o(at,null,{default:l(()=>[o(U,{style:{"padding-left":"7px"}},{default:l(()=>[o(z,{style:{display:"-webkit-inline-box"}},{default:l(()=>[o(N,{name:"sell",color:"grey-7",class:"icon-card"}),e("div",null,[o(F,{caption:""},{default:l(()=>[g("Precio unidad:")]),_:1}),o(F,null,{default:l(()=>[g(i(s.precioreal),1)]),_:2},1024)])]),_:2},1024),o(z,{side:""},{default:l(()=>[o(F,{caption:""},{default:l(()=>[g("Precio venta:")]),_:1}),o(F,null,{default:l(()=>[e("input",{class:"inputCantidad",type:"number",min:"0",id:"precioventa"+s.idproducto,value:s.precio,onInput:m=>(t.calcularMonto(s),t.updprecioitemholds(s)),style:{"margin-right":"10px"},onkeydown:"return event.keyCode !== 69 && event.keyCode !== 189"},null,40,Zt)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(U,{style:{"padding-left":"7px"}},{default:l(()=>[o(z,{style:{display:"-webkit-inline-box"}},{default:l(()=>[o(N,{name:"account_balance",color:"grey-7",class:"icon-card"}),e("div",null,[o(F,{caption:""},{default:l(()=>[g("Impuesto (%):")]),_:1}),o(F,null,{default:l(()=>[g(i(s.tasa),1)]),_:2},1024)])]),_:2},1024),o(z,{side:""},{default:l(()=>[o(F,{caption:""},{default:l(()=>[g("Comentario:")]),_:1}),o(h,{unelevated:"",class:"btncantidad",color:"blue-1","text-color":"blue-10",icon:"question_answer",onClick:m=>t.abrirComentario(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(U,{style:{"padding-left":"7px"}},{default:l(()=>[o(z,{style:{display:"-webkit-inline-box"}},{default:l(()=>[o(N,{name:"attach_money",color:"grey-7",class:"icon-card"}),e("div",null,[o(F,{caption:""},{default:l(()=>[g("Total:")]),_:1}),e("span",{id:"monto"+s.idproducto,class:"precio"},"Bs. "+i(s.total.toFixed(2)),9,Jt)])]),_:2},1024)]),_:2},1024)]),_:2},1024),o(b),o(I,{align:"right"},{default:l(()=>[Wt,e("input",{class:"inputCantidad",id:"cantidad"+s.idproducto,value:s.cantidad,onInput:m=>t.calcularMonto(s),style:{"margin-right":"10px"}},null,40,Xt),o(h,{round:"",unelevated:"",class:"btncantidad",icon:"remove",color:"red-1","text-color":"red-10",onClick:m=>t.actualizarCantidad(s,2),style:{}},null,8,["onClick"]),o(h,{round:"",unelevated:"",class:"btncantidad",color:"green-1","text-color":"green-10",icon:"add",onClick:m=>t.actualizarCantidad(s,1)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1024))),128))])]))]),o(T,{modelValue:t.buscaritem,"onUpdate:modelValue":a[1]||(a[1]=s=>t.buscaritem=s)},{default:l(()=>[o(P,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"800px"},bordered:""},{default:l(()=>[o(_,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[te,k(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(_,{style:{padding:"10px 15px"}},{default:l(()=>[o(A,{color:"blue-grey-3",outlined:"",standout:"","bottom-slots":"",modelValue:t.textitem,"onUpdate:modelValue":a[0]||(a[0]=s=>t.textitem=s),label:"Nombre o Sku de producto",counter:"",autofocus:""},{prepend:l(()=>[o(N,{name:"search"})]),hint:l(()=>[g(" Cantidad de letras ")]),_:1},8,["modelValue"])]),_:1}),o(b),t.buscadoproducto?(p(),V(_,{key:0},{default:l(()=>[o(lt,{style:{height:"64vh"}},{default:l(()=>[(p(!0),y(q,null,S(t.rowsproductosfiltre,s=>(p(),V(P,{key:s.id,class:"custom-shadow custom-border-radius q-mb-md",bordered:""},{default:l(()=>[o(U,{class:"q-pa-sm"},{default:l(()=>[o(z,null,{default:l(()=>[o(F,{caption:"",style:{"padding-left":"7px"}},{default:l(()=>[g(i(s.categoria),1)]),_:2},1024),o(F,{class:"text-h6"},{default:l(()=>[o(H,{"text-color":"white",style:L("background: "+t.colorLetra(s.producto))},{default:l(()=>[g(i(t.primeraletra(s.producto)),1)]),_:2},1032,["style"]),g(" "+i(s.producto),1)]),_:2},1024),o(F,null,{default:l(()=>[o(Y,{color:s.intipoproducto==="1"?"light-green-5":s.intipoproducto==="2"?"deep-orange-5":"orange-5",class:"q-mt-xs q-mr-xs q-pa-xs",rounded:""},{default:l(()=>[g(i(s.intipoproducto==="1"?"Simple":s.intipoproducto==="2"?"Compuesto":"Servicio"),1)]),_:2},1032,["color"]),e("span",ee,"SKU: "+i(s.sku),1)]),_:2},1024)]),_:2},1024),o(z,{side:""},{default:l(()=>[o(h,{round:"",unelevated:"",color:"deep-orange-1","text-color":"deep-orange-8",icon:"add_shopping_cart",onClick:m=>t.additemholds(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024),o(b),o(U,{class:"q-pa-sm"},{default:l(()=>[o(z,{class:"q-ml-md"},{default:l(()=>[e("div",oe,[e("div",se,[ae,e("p",le,i(s.descripcion),1)]),e("div",ne,[ie,e("p",null,i(s.unidad),1)]),e("div",de,[re,e("p",null,i(s.impuesto),1)])])]),_:2},1024)]),_:2},1024),o(I,{class:"tarjeticainside",align:"right"},{default:l(()=>[e("h6",null,[ce,g(" Bs. "+i(s.precio),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):B("",!0),o(b),o(I,{align:"right"},{default:l(()=>[k(o(h,{outline:"","no-caps":"",label:"Cancelar",color:"primary"},null,512),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalcliente,"onUpdate:modelValue":a[8]||(a[8]=s=>t.modalcliente=s)},{default:l(()=>[o(P,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[o(_,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[ue,k(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(b),o(_,{style:{padding:"15px"}},{default:l(()=>[e("div",he,[o(G,{outlined:"",modelValue:t.modeldocumento,"onUpdate:modelValue":a[2]||(a[2]=s=>t.modeldocumento=s),options:t.optionsdocumento,"option-label":"tipodocumento","option-value":"cod",label:"Seleccione tipo documento"},{prepend:l(()=>[o(N,{name:"badge"})]),_:1},8,["modelValue","options"])])]),_:1}),o(_,{style:{padding:"10px 15px"}},{default:l(()=>[e("div",pe,[o(A,{class:"col-10",outlined:"",modelValue:t.documento,"onUpdate:modelValue":a[3]||(a[3]=s=>t.documento=s),label:"Documento","stack-label":"",autofocus:"",onKeyup:tt(t.buscarCliente,["enter"])},{prepend:l(()=>[o(N,{name:"badge"})]),_:1},8,["modelValue","onKeyup"]),o(h,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarCliente},null,8,["onClick"])])]),_:1}),t.noencontrado?(p(),y("div",me,_e)):B("",!0),t.encontrado?(p(),y("div",ge,be)):B("",!0),t.clientebuscado?(p(),V(b,{key:2})):B("",!0),t.clientebuscado?(p(),V(_,{key:3,style:{padding:"15px"}},{default:l(()=>[o(A,{outlined:"",modelValue:t.nombrecliente,"onUpdate:modelValue":a[4]||(a[4]=s=>t.nombrecliente=s),label:"Nombre del cliente","stack-label":""},{prepend:l(()=>[o(N,{name:"badge"})]),_:1},8,["modelValue"])]),_:1})):B("",!0),t.clientebuscado?(p(),V(_,{key:4,style:{padding:"15px"}},{default:l(()=>[o(A,{outlined:"",modelValue:t.correocliente,"onUpdate:modelValue":a[5]||(a[5]=s=>t.correocliente=s),label:"Email del cliente","stack-label":""},{prepend:l(()=>[o(N,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):B("",!0),t.clientebuscado?(p(),V(_,{key:5,style:{padding:"15px"}},{default:l(()=>[o(A,{outlined:"",modelValue:t.telefonocliente,"onUpdate:modelValue":a[6]||(a[6]=s=>t.telefonocliente=s),label:"Tel\xE9fono del cliente","stack-label":""},{prepend:l(()=>[o(N,{name:"phone"})]),_:1},8,["modelValue"])]),_:1})):B("",!0),t.clientebuscado?(p(),V(_,{key:6,style:{padding:"15px"}},{default:l(()=>[o(A,{outlined:"",modelValue:t.direccioncliente,"onUpdate:modelValue":a[7]||(a[7]=s=>t.direccioncliente=s),label:"Direcci\xF3n del cliente","stack-label":""},{prepend:l(()=>[o(N,{name:"location_on"})]),_:1},8,["modelValue"])]),_:1})):B("",!0),o(b),o(I,{align:"center"},{default:l(()=>[k(o(h,{outline:"","no-caps":"",label:"Cancelar","icon-right":"close",color:"primary",onClick:t.limpiarCliente},null,8,["onClick"]),[[D]]),o(h,{unelevated:"","no-caps":"",label:"Aceptar (F4)",color:"primary","icon-right":"check",onClick:t.crearCliente,disable:t.dsbBtnCrearCliente},null,8,["onClick","disable"])]),_:1}),o(I,{align:"center",class:"color-texto"},{default:l(()=>[g(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modaldeleteholds,"onUpdate:modelValue":a[10]||(a[10]=s=>t.modaldeleteholds=s),persistent:""},{default:l(()=>[o(P,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[o(_,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[ve,k(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(_,{style:{display:"flex","align-items":"center"}},{default:l(()=>[we]),_:1}),o(_,null,{default:l(()=>[o(M,{class:"rounded-borders col-3",src:"img/delete.png"})]),_:1}),o(I,{align:"center"},{default:l(()=>[k(o(h,{outline:"","no-caps":"","icon-right":"close",label:"Cancelar",color:"primary"},null,512),[[D]]),o(h,{unelevated:"","no-caps":"",label:"Aceptar",color:"primary","icon-right":"check",onClick:a[9]||(a[9]=s=>t.deleteHolds(1))})]),_:1}),o(I,{align:"center",class:"color-texto"},{default:l(()=>[g(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalrealizarventa,"onUpdate:modelValue":a[11]||(a[11]=s=>t.modalrealizarventa=s),persistent:""},{default:l(()=>[o(P,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[o(_,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[xe,k(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(_,{style:{display:"flex","align-items":"center"}},{default:l(()=>[o(H,{color:"primary","text-color":"white"},{default:l(()=>[o(N,{name:"shopping_cart_checkout"})]),_:1}),Ce]),_:1}),o(b),o(_,null,{default:l(()=>[e("table",ke,[e("tr",null,[Be,e("td",Ie,i(t.nombrecliente),1)]),e("tr",null,[e("td",null,i(t.documentoabrev)+":",1),e("td",De,i(t.documentoclientesolo),1)]),e("tr",null,[Ne,e("td",Ve,i(t.fechaholds),1)])]),e("table",qe,[Fe,(p(!0),y(q,null,S(t.holds,s=>(p(),y(q,{key:s},[e("tr",null,[e("td",Pe,i(s.producto),1),e("td",Ae,i(s.precio.toFixed(2)),1),e("td",ze,i(s.cantidad),1),e("td",Se,i(s.tasa)+"%",1),e("td",Te,i(s.total.toFixed(2)),1)]),s.comentario&&s.comentario.length>0?(p(),y("tr",Ue,[e("td",Qe,[(p(!0),y(q,null,S(s.comentario.split("//"),m=>(p(),y(q,{key:m},[m.length>0?(p(),y("p",He,"- "+i(m),1)):B("",!0)],64))),128))]),Ee,$e,je,Me])):B("",!0)],64))),128)),Oe]),e("table",Le,[e("tr",Ye,[Re,Ge,e("td",Ke,i(Number(t.subtotal).toFixed(2)),1)]),e("tr",Ze,[Je,We,e("td",Xe,i(Number(t.impuesto).toFixed(2)),1)]),e("tr",to,[eo,oo,e("td",so,i(Number(t.descuento).toFixed(2)),1)]),e("tr",ao,[lo,no,e("td",io,i(Number(t.igtf).toFixed(2)),1)]),e("tr",ro,[co,uo,e("td",ho,i(Number(t.total).toFixed(2)),1)]),e("tr",po,[mo,fo,e("td",_o,i(Number(t.totalusd).toFixed(2)),1)])])]),_:1}),o(b),o(I,{align:"center"},{default:l(()=>[k(o(h,{outline:"","no-caps":"","icon-right":"close",color:"primary",label:"Cancelar"},null,512),[[D]]),o(h,{unelevated:"","no-caps":"","icon-right":"check",color:"primary",label:"Aceptar",onClick:t.realizarVenta},null,8,["onClick"])]),_:1}),o(I,{align:"center",class:"color-texto"},{default:l(()=>[g(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modaldetalleinvoice,"onUpdate:modelValue":a[12]||(a[12]=s=>t.modaldetalleinvoice=s),persistent:""},{default:l(()=>[o(P,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"350px"}},{default:l(()=>[e("div",go,[o(_,{style:{"justify-content":"center"}},{default:l(()=>[e("div",yo,i(t.empresa),1),e("div",bo,i(t.rif),1),e("div",vo,i(t.direccion),1),e("div",wo,i(t.telefono),1),e("div",xo,i(t.email),1),o(b,{style:{margin:"20px 0 5px 0"}}),e("div",Co,[e("div",ko,i(t.detalleventa.tipofactura),1),e("div",Bo,i(t.detalleventa.numerointerno),1)]),e("div",Io,[Do,e("div",No,i(t.detalleventa.numerocontrol),1)]),o(b,{style:{margin:"5px 0px"}}),e("table",Vo,[e("tr",qo,[Fo,e("td",Po,i(t.detalleventa.nombrecliente),1)]),e("tr",Ao,[e("td",null,i(t.detalleventa.abrev),1),e("td",zo,i(t.detalleventa.documento),1)]),e("tr",So,[To,e("td",Uo,i(t.fechaDetalle(t.detalleventa.fecha)),1)]),e("tr",Qo,[Ho,e("td",Eo,i(t.detalleventa.usuario),1)])]),e("table",$o,[jo,(p(!0),y(q,null,S(t.ventas,s=>(p(),y(q,{key:s},[e("tr",Mo,[e("td",Oo,i(s.producto),1),e("td",Lo,i(Number(s.precio).toFixed(2)),1),e("td",Yo,i(s.cantidad),1),e("td",Ro,i(s.tasa)+"%",1),e("td",Go,i(Number(s.subtotal).toFixed(2)),1)]),s.comentario&&s.comentario.length>0?(p(),y("tr",Ko,[e("td",Zo,[(p(!0),y(q,null,S(s.comentario.split("//"),m=>(p(),y(q,{key:m},[m.length>0?(p(),y("p",Jo,"- "+i(m),1)):B("",!0)],64))),128))]),Wo,Xo,ts,es])):B("",!0)],64))),128)),os]),e("table",ss,[e("tr",as,[ls,ns,e("td",is,i(t.detalleventa.subtotal.toFixed(2)),1)]),e("tr",ds,[rs,cs,e("td",us,i(t.detalleventa.impuesto.toFixed(2)),1)]),e("tr",hs,[ps,ms,e("td",fs,i(t.detalleventa.descuentos.toFixed(2)),1)]),e("tr",_s,[gs,ys,e("td",bs,i(t.detalleventa.igtf.toFixed(2)),1)]),e("tr",vs,[ws,xs,e("td",Cs,i(t.detalleventa.total.toFixed(2)),1)]),e("tr",ks,[Bs,Is,e("td",Ds,i(t.detalleventa.totalusd.toFixed(2)),1)])])]),_:1})]),Ns,o(b),o(I,{align:"center"},{default:l(()=>[k(o(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[D]]),o(h,{unelevated:"","no-caps":"",label:"Imprimir",color:"primary","icon-right":"check",onClick:t.imprimir},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalanular,"onUpdate:modelValue":a[14]||(a[14]=s=>t.modalanular=s),persistent:""},{default:l(()=>[o(P,{class:"q-pa-lg custom-shadow custom-border-radius"},{default:l(()=>[o(_,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[Vs,k(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(_,{style:{display:"flex","align-items":"center"}},{default:l(()=>[o(H,{color:"primary","text-color":"white"},{default:l(()=>[o(N,{name:"cancel_presentation"})]),_:1}),qs]),_:1}),o(b),o(_,{style:{"justify-content":"center"}},{default:l(()=>[e("div",Fs,[o(A,{class:"col-10",color:"blue-grey-3",outlined:"",modelValue:t.numerointernoanular,"onUpdate:modelValue":a[13]||(a[13]=s=>t.numerointernoanular=s),label:"N\xFAmero Interno","stack-label":"",autofocus:""},null,8,["modelValue"]),o(h,{class:"col-2",icon:"search",unelevated:"",color:"accent",onClick:t.buscarFactura},null,8,["onClick"])])]),_:1}),o(b),t.facturabuscado?(p(),V(_,{key:0,style:{"justify-content":"center"}},{default:l(()=>[e("div",{class:et(t.detalleventaanular.estatus==="1"?"procesada":"anulada"),style:{display:"flex","justify-content":"center","align-items":"center",width:"100%"}},i(t.detalleventaanular.estatus==="1"?"Procesada":"Anulada"),3),e("div",Ps,[e("div",As,i(t.detalleventaanular.tipofactura),1),e("div",zs,i(t.detalleventaanular.numerointerno),1)]),e("div",Ss,[Ts,e("div",Us,i(t.detalleventaanular.numerocontrol),1)]),o(b,{style:{margin:"10px 0px"}}),e("table",Qs,[e("tr",Hs,[Es,e("td",$s,i(t.detalleventaanular.nombrecliente),1)]),e("tr",js,[e("td",null,i(t.detalleventaanular.abrev),1),e("td",Ms,i(t.detalleventaanular.documento),1)]),e("tr",Os,[Ls,e("td",Ys,i(t.fechaDetalle(t.detalleventaanular.fecha)),1)]),e("tr",Rs,[Gs,e("td",Ks,i(t.detalleventaanular.usuario),1)])]),e("table",Zs,[Js,(p(!0),y(q,null,S(t.ventasanular,s=>(p(),y("tr",{key:s,style:{"font-size":"11px"}},[e("td",Ws,i(s.producto),1),e("td",null,i(s.precio),1),e("td",null,i(s.cantidad),1),e("td",null,i(s.tasa)+"%",1),e("td",Xs,i(s.subtotal),1)]))),128)),ta]),e("table",ea,[e("tr",oa,[sa,aa,e("td",la,i(t.detalleventaanular.subtotal),1)]),e("tr",na,[ia,da,e("td",ra,i(t.detalleventaanular.impuesto),1)]),e("tr",ca,[ua,ha,e("td",pa,i(t.detalleventaanular.descuentos),1)]),e("tr",ma,[fa,_a,e("td",ga,i(t.detalleventaanular.igtf),1)]),e("tr",ya,[ba,va,e("td",wa,i(t.detalleventaanular.total),1)]),e("tr",xa,[Ca,ka,e("td",Ba,i(t.detalleventaanular.totalusd),1)])])]),_:1})):B("",!0),o(b),o(I,{align:"center"},{default:l(()=>[k(o(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[D]]),o(h,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",disable:t.btnDisableAnular,onClick:t.anularDocumento},null,8,["disable","onClick"])]),_:1}),o(I,{align:"center",class:"color-texto"},{default:l(()=>[g(" Presione ESC para salir ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(T,{modelValue:t.modalcomentario,"onUpdate:modelValue":a[16]||(a[16]=s=>t.modalcomentario=s),persistent:""},{default:l(()=>[o(P,{class:"q-pa-lg custom-shadow custom-border-radius",style:{width:"330px"}},{default:l(()=>[o(_,{style:{padding:"10px 15px 7px",display:"flex","justify-content":"space-between","align-items":"center"}},{default:l(()=>[Ia,k(o(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])]),_:1}),o(_,{style:{display:"flex","align-items":"center"}},{default:l(()=>[o(A,{outlined:"",modelValue:t.comentario,"onUpdate:modelValue":a[15]||(a[15]=s=>t.comentario=s),label:"Descripci\xF3n de producto",rows:"6",dense:"",type:"textarea",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(b),o(I,{align:"center"},{default:l(()=>[k(o(h,{label:"Cerrar",outline:"","no-caps":"","icon-right":"close",color:"primary"},null,512),[[D]]),o(h,{label:"Aceptar",unelevated:"","no-caps":"",color:"primary","icon-right":"check",onClick:t.updComentarioItemHolds},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Ea=W(rt,[["render",Da],["__scopeId","data-v-6d44bcfa"]]);export{Ea as default};
